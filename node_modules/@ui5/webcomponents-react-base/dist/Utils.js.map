{"version":3,"file":"Utils.js","sources":["../src/utils/index.ts","../src/utils/debounce.ts"],"sourcesContent":["import { UIEvent } from 'react';\n\nexport const deprecationNotice = (component: string, message: string) => {\n  if (process.env.NODE_ENV === 'development' || process.env.NODE_ENV === 'test') {\n    const value = `*** ui5-webcomponents-react Deprecation Notice - ${component} ***\\n`;\n    // eslint-disable-next-line no-console\n    console.warn(`${value}${message}`);\n  }\n};\n\nexport const enrichEventWithDetails = <T extends Record<string, unknown>, ReturnType = CustomEvent<T>>(\n  event: UIEvent,\n  payload: T = null\n) => {\n  if (event.hasOwnProperty('persist')) {\n    // if there is a persist method, it's an SyntheticEvent so we need to persist it\n    event.persist();\n  }\n\n  const shouldCreateNewDetails =\n    event.detail === null || event.detail === undefined || typeof event.detail !== 'object';\n  Object.defineProperty(event, 'detail', {\n    value: shouldCreateNewDetails ? {} : event.detail,\n    writable: true,\n    configurable: true\n  });\n  Object.assign(event.detail, payload);\n  return event as unknown as ReturnType;\n};\n","// Copied from https://github.com/jashkenas/underscore/blob/master/modules/debounce.js (31th May 2021)\n\nconst now = Date.now || (() => new Date().getTime());\n\ntype DebouncedFunction = (...args: any[]) => void | any;\n/**\n * When a sequence of calls of the returned function ends, the argument\n * function is triggered. The end of a sequence is defined by the `wait`\n * parameter.\n */\nconst debounce = (func: DebouncedFunction, wait: number) => {\n  let timeout;\n  let previous;\n  let args;\n  let result;\n  let context;\n\n  const later = () => {\n    const passed = now() - previous;\n    if (wait > passed) {\n      timeout = setTimeout(later, wait - passed);\n    } else {\n      timeout = null;\n      result = func.apply(context, args);\n      // This check is needed because `func` can recursively invoke `debounced`.\n      if (!timeout) args = context = null;\n    }\n  };\n\n  const debounced = function (..._args: unknown[]) {\n    context = this;\n    args = _args;\n    previous = now();\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n    }\n    return result;\n  };\n\n  debounced.cancel = () => {\n    clearTimeout(timeout);\n    timeout = args = context = null;\n  };\n\n  return debounced;\n};\n\nexport { debounce };\n"],"names":["deprecationNotice","component","message","process","env","NODE_ENV","value","console","warn","enrichEventWithDetails","event","payload","hasOwnProperty","persist","shouldCreateNewDetails","detail","undefined","Object","defineProperty","writable","configurable","assign","now","Date","getTime","debounce","func","wait","timeout","previous","args","result","context","later","passed","setTimeout","apply","debounced","_args","cancel","clearTimeout"],"mappings":"IAEaA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,SAAD,EAAoBC,OAApB,EAAwC;AACvE,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,IAA0CF,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAvE,EAA+E;AAC7E,QAAMC,KAAK,8DAAuDL,SAAvD,WAAX,CAD6E;;AAG7EM,IAAAA,OAAO,CAACC,IAAR,WAAgBF,KAAhB,SAAwBJ,OAAxB;AACD;AACF;IAEYO,sBAAsB,GAAG,SAAzBA,sBAAyB,CACpCC,KADoC,EAGjC;AAAA,MADHC,OACG,uEADU,IACV;;AACH,MAAID,KAAK,CAACE,cAAN,CAAqB,SAArB,CAAJ,EAAqC;AACnC;AACAF,IAAAA,KAAK,CAACG,OAAN;AACD;;AAED,MAAMC,sBAAsB,GAC1BJ,KAAK,CAACK,MAAN,KAAiB,IAAjB,IAAyBL,KAAK,CAACK,MAAN,KAAiBC,SAA1C,IAAuD,OAAON,KAAK,CAACK,MAAb,KAAwB,QADjF;AAEAE,EAAAA,MAAM,CAACC,cAAP,CAAsBR,KAAtB,EAA6B,QAA7B,EAAuC;AACrCJ,IAAAA,KAAK,EAAEQ,sBAAsB,GAAG,EAAH,GAAQJ,KAAK,CAACK,MADN;AAErCI,IAAAA,QAAQ,EAAE,IAF2B;AAGrCC,IAAAA,YAAY,EAAE;AAHuB,GAAvC;AAKAH,EAAAA,MAAM,CAACI,MAAP,CAAcX,KAAK,CAACK,MAApB,EAA4BJ,OAA5B;AACA,SAAOD,KAAP;AACD;;AC5BD;AAEA,IAAMY,GAAG,GAAGC,IAAI,CAACD,GAAL,IAAa;AAAA,SAAM,IAAIC,IAAJ,GAAWC,OAAX,EAAN;AAAA,CAAzB;;AAGA;AACA;AACA;AACA;AACA;IACMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAA0BC,IAA1B,EAA2C;AAC1D,MAAIC,OAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,IAAJ;AACA,MAAIC,MAAJ;AACA,MAAIC,OAAJ;;AAEA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,QAAMC,MAAM,GAAGZ,GAAG,KAAKO,QAAvB;;AACA,QAAIF,IAAI,GAAGO,MAAX,EAAmB;AACjBN,MAAAA,OAAO,GAAGO,UAAU,CAACF,KAAD,EAAQN,IAAI,GAAGO,MAAf,CAApB;AACD,KAFD,MAEO;AACLN,MAAAA,OAAO,GAAG,IAAV;AACAG,MAAAA,MAAM,GAAGL,IAAI,CAACU,KAAL,CAAWJ,OAAX,EAAoBF,IAApB,CAAT,CAFK;;AAIL,UAAI,CAACF,OAAL,EAAcE,IAAI,GAAGE,OAAO,GAAG,IAAjB;AACf;AACF,GAVD;;AAYA,MAAMK,SAAS,GAAG,SAAZA,SAAY,GAA+B;AAC/CL,IAAAA,OAAO,GAAG,IAAV;;AAD+C,sCAAlBM,KAAkB;AAAlBA,MAAAA,KAAkB;AAAA;;AAE/CR,IAAAA,IAAI,GAAGQ,KAAP;AACAT,IAAAA,QAAQ,GAAGP,GAAG,EAAd;;AACA,QAAI,CAACM,OAAL,EAAc;AACZA,MAAAA,OAAO,GAAGO,UAAU,CAACF,KAAD,EAAQN,IAAR,CAApB;AACD;;AACD,WAAOI,MAAP;AACD,GARD;;AAUAM,EAAAA,SAAS,CAACE,MAAV,GAAmB,YAAM;AACvBC,IAAAA,YAAY,CAACZ,OAAD,CAAZ;AACAA,IAAAA,OAAO,GAAGE,IAAI,GAAGE,OAAO,GAAG,IAA3B;AACD,GAHD;;AAKA,SAAOK,SAAP;AACD;;;;"}