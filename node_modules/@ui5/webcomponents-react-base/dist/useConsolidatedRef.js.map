{"version":3,"file":"useConsolidatedRef.js","sources":["../src/hooks/useConsolidatedRef.ts"],"sourcesContent":["import { MutableRefObject, useEffect, useMemo, useRef } from 'react';\nimport { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\n\nexport const useConsolidatedRef = <T>(ref): MutableRefObject<T> => {\n  const localRef: MutableRefObject<T> = useRef(null);\n\n  useEffect(() => {\n    deprecationNotice('useConsolidatedRef', `\\`useConsolidatedRef\\` is deprecated. Please use \\`useSyncRef\\` instead.`);\n  }, []);\n\n  const consolidatedRef: MutableRefObject<T> = useMemo(() => {\n    if (!ref || typeof ref === 'function') {\n      return localRef;\n    }\n    return ref;\n  }, [ref]);\n\n  useEffect(() => {\n    if (typeof ref === 'function') {\n      ref(consolidatedRef.current);\n    }\n  }, [consolidatedRef.current]);\n\n  return consolidatedRef;\n};\n"],"names":["useConsolidatedRef","ref","localRef","useRef","useEffect","deprecationNotice","consolidatedRef","useMemo","current"],"mappings":";;;IAGaA,kBAAkB,GAAG,SAArBA,kBAAqB,CAAIC,GAAJ,EAAiC;AACjE,MAAMC,QAA6B,GAAGC,MAAM,CAAC,IAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,iBAAiB,CAAC,oBAAD,yEAAjB;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAMC,eAAoC,GAAGC,OAAO,CAAC,YAAM;AACzD,QAAI,CAACN,GAAD,IAAQ,OAAOA,GAAP,KAAe,UAA3B,EAAuC;AACrC,aAAOC,QAAP;AACD;;AACD,WAAOD,GAAP;AACD,GALmD,EAKjD,CAACA,GAAD,CALiD,CAApD;AAOAG,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,OAAOH,GAAP,KAAe,UAAnB,EAA+B;AAC7BA,MAAAA,GAAG,CAACK,eAAe,CAACE,OAAjB,CAAH;AACD;AACF,GAJQ,EAIN,CAACF,eAAe,CAACE,OAAjB,CAJM,CAAT;AAMA,SAAOF,eAAP;AACD;;;;"}