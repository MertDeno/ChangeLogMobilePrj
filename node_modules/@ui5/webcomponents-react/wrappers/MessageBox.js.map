{"version":3,"file":"MessageBox.js","sources":["../src/internal/stopPropagation.ts","../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/MessageBox/MessageBox.jss.ts","../src/components/MessageBox/index.tsx"],"sourcesContent":["export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst style = {\n  messageBox: {\n    '--sapContent_Shadow0': 'none'\n  },\n  header: {\n    display: 'flex',\n    height: CssSizeVariables.sapWcrBarHeight,\n    textAlign: 'center',\n    width: '100%',\n    alignItems: 'center',\n    padding: '0.25rem 1rem',\n    boxSizing: 'border-box',\n    borderBottom: `1px solid var(--messageBoxBorderColor)`,\n    color: ThemingParameters.sapContent_LabelColor,\n    fontSize: '1rem',\n    '& ui5-icon:first-child': {\n      width: '1rem',\n      height: '1rem'\n    },\n    '& [ui5-title]': {\n      fontSize: '1rem'\n    },\n    '&[data-type=\"Error\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapErrorBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapErrorBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapNegativeElementColor\n    },\n    '&[data-type=\"Warning\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapWarningBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapWarningBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapCriticalElementColor\n    },\n    '&[data-type=\"Success\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapSuccessBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapSuccessBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapPositiveElementColor\n    },\n    '&[data-type=\"Confirm\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapNeutralBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapNeutralBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapNeutralElementColor\n    },\n    '&[data-type=\"Information\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapInformationBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapInformationBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapInformativeElementColor\n    },\n    '&[data-type=\"Highlight\"]': {\n      '--sapPageFooter_BorderColor': ThemingParameters.sapInformationBorderColor,\n      '--messageBoxBorderColor': ThemingParameters.sapInformationBorderColor,\n      '--sapContent_NonInteractiveIconColor': ThemingParameters.sapInformativeElementColor\n    }\n  },\n  spacer: { width: '0.5rem' },\n  content: {\n    padding: '1rem'\n  },\n  footer: {\n    height: CssSizeVariables.sapWcrBarHeight,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 0.5rem',\n    '& > *': {\n      margin: '0 0.25rem'\n    },\n    '& > ui5-button': {\n      display: 'flex',\n      minWidth: '4rem'\n    }\n  }\n};\n\nexport default style;\n","import '@ui5/webcomponents-icons/dist/hint.js';\nimport '@ui5/webcomponents-icons/dist/message-error.js';\nimport '@ui5/webcomponents-icons/dist/message-information.js';\nimport '@ui5/webcomponents-icons/dist/message-success.js';\nimport '@ui5/webcomponents-icons/dist/message-warning.js';\nimport '@ui5/webcomponents-icons/dist/question-mark.js';\nimport { useI18nBundle, useIsomorphicLayoutEffect, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  ABORT,\n  CANCEL,\n  CLOSE,\n  CONFIRMATION,\n  DELETE,\n  ERROR,\n  HIGHLIGHT,\n  IGNORE,\n  INFORMATION,\n  NO,\n  OK,\n  RETRY,\n  SUCCESS,\n  WARNING,\n  YES\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button, ButtonPropTypes } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { Dialog, DialogPropTypes, DialogDomRef } from '@ui5/webcomponents-react/dist/Dialog';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { MessageBoxActions } from '@ui5/webcomponents-react/dist/MessageBoxActions';\nimport { MessageBoxTypes } from '@ui5/webcomponents-react/dist/MessageBoxTypes';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { Ui5CustomEvent } from '@ui5/webcomponents-react/interfaces/Ui5CustomEvent';\nimport clsx from 'clsx';\nimport React, {\n  cloneElement,\n  forwardRef,\n  isValidElement,\n  ReactElement,\n  ReactNode,\n  Ref,\n  useEffect,\n  useState\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport styles from './MessageBox.jss';\n\ntype MessageBoxAction = MessageBoxActions | keyof typeof MessageBoxActions | string;\n\nexport interface MessageBoxPropTypes\n  extends Omit<DialogPropTypes, 'children' | 'footer' | 'headerText' | 'onAfterClose'> {\n  /**\n   * Flag whether the Message Box should be opened or closed\n   */\n  open?: boolean;\n  /**\n   * A custom title for the MessageBox. If not present, it will be derived from the `MessageBox` type.\n   */\n  titleText?: string;\n  /**\n   * Defines the content of the `MessageBox`.\n   *\n   * **Note:** Although this prop accepts HTML Elements, it is strongly recommended that you only use text in order to preserve the intended design and a11y capabilities.\n   */\n  children: ReactNode | ReactNode[];\n  /**\n   * Array of actions of the MessageBox. Those actions will be transformed into buttons in the `MessageBox` footer.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `MessageBoxAction`s (text) or the `Button` component in order to preserve the intended.\n   */\n  actions?: (MessageBoxAction | ReactNode)[];\n  /**\n   * Specifies which action of the created dialog will be emphasized.\n   *\n   * @since 0.16.3\n   */\n  emphasizedAction?: MessageBoxAction;\n  /**\n   * A custom icon. If not present, it will be derived from the `MessageBox` type.\n   */\n  icon?: ReactNode;\n  /**\n   * Defines the type of the `MessageBox` with predefined title, icon, actions and a visual highlight color.\n   */\n  type?: MessageBoxTypes | keyof typeof MessageBoxTypes;\n  /**\n   * Defines the ID of the HTML Element or the `MessageBoxAction`, which will get the initial focus.\n   */\n  initialFocus?: MessageBoxAction;\n  /**\n   * Callback to be executed when the `MessageBox` is closed (either by pressing on one of the `actions` or by pressing the `ESC` key). `event.detail.action` contains the pressed action button.\n   */\n  onClose?: (event: CustomEvent<{ action: MessageBoxAction }>) => void;\n  /**\n   * Fired before the component is opened. This event can be cancelled, which will prevent the popup from opening. This event does not bubble.\n   */\n  onBeforeOpen?: (event: Ui5CustomEvent<HTMLElement>) => void;\n  /**\n   * Fired after the component is opened. This event does not bubble.\n   */\n  onAfterOpen?: (event: Ui5CustomEvent<HTMLElement>) => void;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'MessageBox' });\n\nconst createUniqueIds = (internalActions) => {\n  return internalActions.map((action) => {\n    if (typeof action === 'string') {\n      return `${performance.now() + Math.random()}`.split('.')[1];\n    }\n    return null;\n  });\n};\n\nconst getIcon = (icon, type) => {\n  if (isValidElement(icon)) return icon;\n  switch (type) {\n    case MessageBoxTypes.Confirm:\n      return <Icon name=\"question-mark\" />;\n    case MessageBoxTypes.Error:\n      return <Icon name=\"message-error\" />;\n    case MessageBoxTypes.Information:\n      return <Icon name=\"message-information\" />;\n    case MessageBoxTypes.Success:\n      return <Icon name=\"message-success\" />;\n    case MessageBoxTypes.Warning:\n      return <Icon name=\"message-warning\" />;\n    case MessageBoxTypes.Highlight:\n      return <Icon name=\"hint\" />;\n    default:\n      return null;\n  }\n};\n\nconst getActions = (actions, type) => {\n  if (actions && actions.length > 0) {\n    return actions;\n  }\n  if (type === MessageBoxTypes.Confirm) {\n    return [MessageBoxActions.OK, MessageBoxActions.Cancel];\n  }\n  if (type === MessageBoxTypes.Error) {\n    return [MessageBoxActions.Close];\n  }\n  return [MessageBoxActions.OK];\n};\n\n/**\n * The `MessageBox` component provides easier methods to create a `Dialog`, such as standard alerts, confirmation dialogs, or arbitrary message dialogs.\n * For convenience, it also provides an `open` prop, so it is not necessary to attach a `ref` to open the `MessageBox`.\n */\nconst MessageBox = forwardRef((props: MessageBoxPropTypes, ref: Ref<DialogDomRef>) => {\n  const {\n    open,\n    type,\n    children,\n    className,\n    style,\n    tooltip,\n    slot,\n    titleText,\n    icon,\n    actions,\n    emphasizedAction,\n    onClose,\n    initialFocus,\n    accessibleName,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('MessageBox', props.tooltip);\n\n  const [componentRef, dialogRef] = useSyncRef<DialogDomRef>(ref);\n\n  const classes = useStyles();\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const actionTranslations = {\n    [MessageBoxActions.Abort]: i18nBundle.getText(ABORT),\n    [MessageBoxActions.Cancel]: i18nBundle.getText(CANCEL),\n    [MessageBoxActions.Close]: i18nBundle.getText(CLOSE),\n    [MessageBoxActions.Delete]: i18nBundle.getText(DELETE),\n    [MessageBoxActions.Ignore]: i18nBundle.getText(IGNORE),\n    [MessageBoxActions.No]: i18nBundle.getText(NO),\n    [MessageBoxActions.OK]: i18nBundle.getText(OK),\n    [MessageBoxActions.Retry]: i18nBundle.getText(RETRY),\n    [MessageBoxActions.Yes]: i18nBundle.getText(YES)\n  };\n\n  const titleToRender = () => {\n    if (titleText) {\n      return titleText;\n    }\n    switch (type) {\n      case MessageBoxTypes.Confirm:\n        return i18nBundle.getText(CONFIRMATION);\n      case MessageBoxTypes.Error:\n        return i18nBundle.getText(ERROR);\n      case MessageBoxTypes.Information:\n        return i18nBundle.getText(INFORMATION);\n      case MessageBoxTypes.Success:\n        return i18nBundle.getText(SUCCESS);\n      case MessageBoxTypes.Warning:\n        return i18nBundle.getText(WARNING);\n      case MessageBoxTypes.Highlight:\n        return i18nBundle.getText(HIGHLIGHT);\n      default:\n        return null;\n    }\n  };\n\n  const handleOnClose = (e) => {\n    const { action } = e.target.dataset;\n    stopPropagation(e);\n    onClose(enrichEventWithDetails(e, { action }));\n  };\n\n  useEffect(() => {\n    if (dialogRef.current) {\n      if (open) {\n        dialogRef.current.show?.();\n      } else {\n        dialogRef.current.close?.();\n      }\n    }\n  }, [dialogRef.current, open]);\n\n  const messageBoxClassNames = clsx(classes.messageBox, className);\n  const internalActions = getActions(actions, type);\n\n  const [uniqueIds, setUniqueIds] = useState(() => createUniqueIds(internalActions));\n  useIsomorphicLayoutEffect(() => {\n    setUniqueIds(createUniqueIds(internalActions));\n  }, [internalActions.length]);\n\n  const getInitialFocus = () => {\n    const indexOfInitialFocus = internalActions.indexOf(initialFocus);\n    if (~indexOfInitialFocus && typeof internalActions[indexOfInitialFocus] === 'string') {\n      return `${internalActions[indexOfInitialFocus]}-${uniqueIds[indexOfInitialFocus]}`;\n    }\n    return initialFocus;\n  };\n\n  const iconToRender = getIcon(icon, type);\n\n  // @ts-ignore\n  const { footer, headerText, title, onAfterClose, ...restWithoutOmitted } = rest;\n\n  return (\n    <Dialog\n      slot={slot}\n      ref={componentRef}\n      style={style}\n      title={tooltip ?? props.title}\n      className={messageBoxClassNames}\n      onAfterClose={open ? handleOnClose : stopPropagation}\n      {...restWithoutOmitted}\n      accessibleName={accessibleName ?? `${titleToRender() ?? ''} ${typeof children === 'string' ? children : ''}`}\n      initialFocus={getInitialFocus()}\n    >\n      {!props.header && (\n        <header slot=\"header\" className={classes.header} data-type={type}>\n          {iconToRender}\n          {iconToRender && <span className={classes.spacer} />}\n          <Title level={TitleLevel.H2}>{titleToRender()}</Title>\n        </header>\n      )}\n      <Text className={classes.content}>{children}</Text>\n      <footer slot=\"footer\" className={classes.footer}>\n        {internalActions.map((action, index) => {\n          if (typeof action !== 'string' && isValidElement(action)) {\n            return cloneElement<ButtonPropTypes | { 'data-action': string }>(action, {\n              onClick: (action as ReactElement<ButtonPropTypes>)?.props?.onClick\n                ? (e) => {\n                    (action as ReactElement<ButtonPropTypes>)?.props?.onClick(e);\n                    handleOnClose(e);\n                  }\n                : handleOnClose,\n              'data-action': action?.props?.['data-action'] ?? `${index}: custom action`\n            });\n          }\n          return (\n            <Button\n              id={`${action}-${uniqueIds[index]}`}\n              key={`${action}-${index}`}\n              design={emphasizedAction === action ? ButtonDesign.Emphasized : ButtonDesign.Transparent}\n              onClick={handleOnClose}\n              data-action={action}\n            >\n              {actionTranslations[action] ?? action}\n            </Button>\n          );\n        })}\n      </footer>\n    </Dialog>\n  );\n});\n\nMessageBox.displayName = 'MessageBox';\n\nMessageBox.defaultProps = {\n  open: false,\n  type: MessageBoxTypes.Confirm,\n  emphasizedAction: MessageBoxActions.OK,\n  actions: []\n};\n\nexport { MessageBox };\n"],"names":["stopPropagation","e","stopImmediatePropagation","useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","style","messageBox","header","display","height","CssSizeVariables","sapWcrBarHeight","textAlign","width","alignItems","padding","boxSizing","borderBottom","color","ThemingParameters","sapContent_LabelColor","fontSize","sapErrorBorderColor","sapNegativeElementColor","sapWarningBorderColor","sapCriticalElementColor","sapSuccessBorderColor","sapPositiveElementColor","sapNeutralBorderColor","sapNeutralElementColor","sapInformationBorderColor","sapInformativeElementColor","spacer","content","footer","justifyContent","margin","minWidth","useStyles","createUseStyles","styles","name","createUniqueIds","internalActions","map","action","performance","now","Math","random","split","getIcon","icon","type","isValidElement","MessageBoxTypes","Confirm","Error","Information","Success","Warning","Highlight","getActions","actions","length","MessageBoxActions","OK","Cancel","Close","MessageBox","forwardRef","props","ref","open","children","className","slot","titleText","emphasizedAction","onClose","initialFocus","accessibleName","rest","useSyncRef","componentRef","dialogRef","classes","i18nBundle","useI18nBundle","actionTranslations","Abort","getText","ABORT","CANCEL","CLOSE","Delete","DELETE","Ignore","IGNORE","No","NO","Retry","RETRY","Yes","YES","titleToRender","CONFIRMATION","ERROR","INFORMATION","SUCCESS","WARNING","HIGHLIGHT","handleOnClose","target","dataset","enrichEventWithDetails","current","show","close","messageBoxClassNames","clsx","useState","uniqueIds","setUniqueIds","useIsomorphicLayoutEffect","getInitialFocus","indexOfInitialFocus","indexOf","iconToRender","headerText","title","onAfterClose","restWithoutOmitted","TitleLevel","H2","index","cloneElement","onClick","ButtonDesign","Emphasized","Transparent","displayName","defaultProps"],"mappings":"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"}