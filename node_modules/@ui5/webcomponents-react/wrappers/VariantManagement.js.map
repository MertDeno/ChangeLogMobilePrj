{"version":3,"file":"VariantManagement.js","sources":["../src/internal/stopPropagation.ts","../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/VariantManagement/MangeViewsTableRows.tsx","../src/components/VariantManagement/ManageViewsDialog.tsx","../src/components/VariantManagement/SaveViewDialog.tsx","../src/components/VariantManagement/index.tsx"],"sourcesContent":["export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport {\n  APPLY_AUTOMATICALLY,\n  DELETE_VIEW,\n  FILE_ALREADY_EXISTS,\n  MARK_AS_FAVORITE,\n  MARK_AS_STANDARD,\n  PRIVATE,\n  PUBLIC,\n  SELECTED_AS_FAVORITE,\n  SPECIFY_VIEW_NAME,\n  UNSELECTED_AS_FAVORITE,\n  VIEW\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { RadioButton } from '@ui5/webcomponents-react/dist/RadioButton';\nimport { TableCell } from '@ui5/webcomponents-react/dist/TableCell';\nimport { TableRow } from '@ui5/webcomponents-react/dist/TableRow';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { ValueState } from '@ui5/webcomponents-react/dist/ValueState';\nimport React, { useReducer, useRef, useState } from 'react';\nimport { VariantItemPropTypes } from './VariantItem';\n\ninterface ManageViewsTableRowsProps extends VariantItemPropTypes {\n  variantNames: string[];\n  handleRowChange: (e: Event, payload: any) => void;\n  handleDelete: (e: any) => void;\n  defaultView: string;\n  setDefaultView: (view: string) => void;\n  showShare: boolean;\n  showApplyAutomatically: boolean;\n  showSetAsDefault: boolean;\n  changedVariantNames: Map<string, any>;\n  setChangedVariantNames: (varNames: any) => void;\n  setInvalidVariants: (invalidVars: any) => void;\n}\n\nexport const ManageViewsTableRows = (props: ManageViewsTableRowsProps) => {\n  const {\n    variantNames,\n    changedVariantNames,\n    setChangedVariantNames,\n    handleRowChange,\n    handleDelete,\n    defaultView,\n    setDefaultView,\n    showShare,\n    showApplyAutomatically,\n    showSetAsDefault,\n    labelReadOnly,\n    favorite,\n    children,\n    global,\n    isDefault,\n    applyAutomatically,\n    author,\n    setInvalidVariants,\n    hideDelete\n  } = props;\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const errorTextAlreadyExists = i18nBundle.getText(FILE_ALREADY_EXISTS);\n  const errorTextEmpty = i18nBundle.getText(SPECIFY_VIEW_NAME);\n  const publicText = i18nBundle.getText(PUBLIC);\n  const privateText = i18nBundle.getText(PRIVATE);\n  const a11yFavoriteText = i18nBundle.getText(MARK_AS_FAVORITE);\n  const a11yStandardText = i18nBundle.getText(MARK_AS_STANDARD);\n  const a11yDeleteText = i18nBundle.getText(DELETE_VIEW);\n  const a11yApplyAutomaticallyText = i18nBundle.getText(APPLY_AUTOMATICALLY);\n  const favoriteIconTitleText = i18nBundle.getText(SELECTED_AS_FAVORITE);\n  const unfavoriteIconTitleText = i18nBundle.getText(UNSELECTED_AS_FAVORITE);\n  const inputPlaceHolder = i18nBundle.getText(VIEW);\n\n  const [internalFavorite, setFavorite] = useReducer((prev) => {\n    return !prev;\n  }, !!favorite);\n  const iconName = internalFavorite ? 'favorite' : 'unfavorite';\n  const inputRef = useRef(undefined);\n\n  const [variantNameInvalid, setVariantNameInvalid] = useState<boolean | string>(false);\n\n  const onFavoriteClick = (e) => {\n    setFavorite();\n    handleRowChange(e, { currentVariant: children, favorite: !internalFavorite });\n  };\n  const handleVariantInput = (e) => {\n    if (variantNames.includes(e.target.value) || Array.from(changedVariantNames.values()).includes(e.target.value)) {\n      setVariantNameInvalid(errorTextAlreadyExists);\n      setInvalidVariants((prev) => ({ ...prev, [`${children}`]: inputRef.current }));\n      handleRowChange(e, { currentVariant: children, children: e.target.value });\n    } else if (e.target.value.length === 0) {\n      setVariantNameInvalid(errorTextEmpty);\n      setInvalidVariants((prev) => ({ ...prev, [children]: inputRef.current }));\n      handleRowChange(e, { currentVariant: children, children: e.target.value });\n    } else {\n      setVariantNameInvalid(false);\n      setInvalidVariants((prev) => {\n        let invalidRows = { ...prev };\n        if (prev.hasOwnProperty(children)) {\n          delete invalidRows[children];\n        }\n        return invalidRows;\n      });\n      handleRowChange(e, { currentVariant: children, children: e.target.value });\n    }\n    setChangedVariantNames((prev) => {\n      let currentChangedVariants = new Map(prev);\n      currentChangedVariants.set(children, e.target.value);\n      return currentChangedVariants;\n    });\n  };\n\n  const handleVariantFocus = () => {\n    const filteredChangedValues = Array.from(changedVariantNames.values()).filter(\n      (item) => item === inputRef.current.value\n    );\n    if (filteredChangedValues.length === 1) {\n      setVariantNameInvalid(false);\n      setInvalidVariants((prev) => {\n        let invalidRows = { ...prev };\n        if (prev.hasOwnProperty(children)) {\n          delete invalidRows[children];\n        }\n        return invalidRows;\n      });\n    }\n  };\n\n  const handleDefaultChange = () => {\n    setDefaultView(children);\n  };\n\n  const handleApplyAutomaticallyChange = (e) => {\n    handleRowChange(e, { currentVariant: children, applyAutomatically: e.target.checked });\n  };\n\n  const renderView = () => {\n    if (labelReadOnly) {\n      return (\n        <Text\n          style={{\n            fontFamily: isDefault ? ThemingParameters.sapFontBoldFamily : ThemingParameters.sapFontFamily\n          }}\n        >\n          {children}\n        </Text>\n      );\n    }\n    return (\n      <Input\n        placeholder={inputPlaceHolder}\n        value={children}\n        onInput={handleVariantInput}\n        onFocus={handleVariantFocus}\n        ref={inputRef}\n        valueStateMessage={<div>{variantNameInvalid}</div>}\n        valueState={!variantNameInvalid ? ValueState.None : ValueState.Error}\n      />\n    );\n  };\n  return (\n    <TableRow data-id={children} key={`${children}`}>\n      <TableCell>\n        {isDefault ? (\n          <Icon name=\"favorite\" style={{ color: ThemingParameters.sapContent_NonInteractiveIconColor }} />\n        ) : (\n          <Icon\n            aria-label={a11yFavoriteText}\n            title={iconName === 'favorite' ? favoriteIconTitleText : unfavoriteIconTitleText}\n            name={iconName}\n            interactive\n            style={{ color: ThemingParameters.sapContent_MarkerIconColor, cursor: 'pointer' }}\n            onClick={onFavoriteClick}\n          />\n        )}\n      </TableCell>\n      <TableCell>{renderView()}</TableCell>\n      {showShare && <TableCell>{global ? publicText : privateText}</TableCell>}\n      {showSetAsDefault && (\n        <TableCell>\n          <RadioButton\n            aria-label={a11yStandardText}\n            checked={defaultView !== undefined ? defaultView === children : isDefault}\n            onChange={handleDefaultChange}\n          />\n        </TableCell>\n      )}\n      {showApplyAutomatically && (\n        <TableCell>\n          <CheckBox\n            aria-label={a11yApplyAutomaticallyText}\n            checked={applyAutomatically}\n            onChange={handleApplyAutomaticallyChange}\n          />\n        </TableCell>\n      )}\n      <TableCell>\n        <Text>{author}</Text>\n      </TableCell>\n      <TableCell>\n        {!(hideDelete ?? global) && (\n          <Button\n            title={a11yDeleteText}\n            accessibleName={a11yDeleteText}\n            icon=\"decline\"\n            design={ButtonDesign.Transparent}\n            onClick={handleDelete}\n            data-children={children}\n          />\n        )}\n      </TableCell>\n    </TableRow>\n  );\n};\n","import { isPhone, isTablet } from '@ui5/webcomponents-base/dist/Device.js';\nimport { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming.js';\nimport '@ui5/webcomponents-icons/dist/decline.js';\nimport '@ui5/webcomponents-icons/dist/favorite.js';\nimport '@ui5/webcomponents-icons/dist/unfavorite.js';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport {\n  APPLY_AUTOMATICALLY,\n  CANCEL,\n  CREATED_BY,\n  DEFAULT,\n  SAVE,\n  SHARING,\n  VIEW\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { Dialog, DialogDomRef } from '@ui5/webcomponents-react/dist/Dialog';\nimport { Table } from '@ui5/webcomponents-react/dist/Table';\nimport { TableColumn } from '@ui5/webcomponents-react/dist/TableColumn';\nimport React, { Children, ComponentElement, MouseEventHandler, ReactNode, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ManageViewsTableRows } from './MangeViewsTableRows';\nimport { VariantItemPropTypes } from './VariantItem';\n\naddCustomCSS(\n  'ui5-dialog',\n  `\n  :host([data-component-name=\"VariantManagementManageViewsDialog\"]) .ui5-popup-content{\n    padding: 0;\n  }\n  `\n);\n\ninterface ManageViewsDialogPropTypes {\n  children: ReactNode | ReactNode[];\n  onAfterClose: any;\n  handleSaveManageViews: (\n    e: MouseEventHandler<HTMLElement>,\n    payload: {\n      updatedRows: any;\n      defaultView: string;\n      deletedRows: any;\n    }\n  ) => void;\n  showShare: boolean;\n  showApplyAutomatically: boolean;\n  showSetAsDefault: boolean;\n  variantNames: string[];\n  portalContainer: Element;\n}\n\nexport const ManageViewsDialog = (props: ManageViewsDialogPropTypes) => {\n  const {\n    children,\n    onAfterClose,\n    handleSaveManageViews,\n    showShare,\n    showApplyAutomatically,\n    showSetAsDefault,\n    variantNames,\n    portalContainer\n  } = props;\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const cancelText = i18nBundle.getText(CANCEL);\n  const saveText = i18nBundle.getText(SAVE);\n  const viewHeaderText = i18nBundle.getText(VIEW);\n  const sharingHeaderText = i18nBundle.getText(SHARING);\n  const defaultHeaderText = i18nBundle.getText(DEFAULT);\n  const applyAutomaticallyHeaderText = i18nBundle.getText(APPLY_AUTOMATICALLY);\n  const createdByHeaderText = i18nBundle.getText(CREATED_BY);\n\n  const [changedVariantNames, setChangedVariantNames] = useState(new Map());\n  const [invalidVariants, setInvalidVariants] = useState<Record<string, HTMLInputElement>>({});\n\n  const columns = (\n    <>\n      <TableColumn key=\"favorite-variant-item\" />\n      <TableColumn>{viewHeaderText}</TableColumn>\n      {showShare && (\n        <TableColumn demandPopin minWidth={600}>\n          {sharingHeaderText}\n        </TableColumn>\n      )}\n      {showSetAsDefault && (\n        <TableColumn demandPopin minWidth={600} popinText={defaultHeaderText}>\n          {defaultHeaderText}\n        </TableColumn>\n      )}\n      {showApplyAutomatically && (\n        <TableColumn demandPopin minWidth={600} popinText={applyAutomaticallyHeaderText}>\n          {applyAutomaticallyHeaderText}\n        </TableColumn>\n      )}\n      <TableColumn demandPopin minWidth={600} popinText={createdByHeaderText}>\n        {createdByHeaderText}\n      </TableColumn>\n      <TableColumn key=\"delete-variant-item\" />\n    </>\n  );\n  const manageViewsRef = useRef<DialogDomRef>(null);\n\n  useEffect(() => {\n    manageViewsRef.current.show();\n    return () => {\n      manageViewsRef.current?.close();\n    };\n  }, []);\n\n  const [childrenProps, setChildrenProps] = useState(\n    Children.map(children, (child: ComponentElement<any, any>) => {\n      return child.props;\n    })\n  );\n  useEffect(() => {\n    setChildrenProps(\n      Children.map(children, (child: ComponentElement<any, any>) => {\n        return child.props;\n      })\n    );\n  }, [children]);\n\n  const [defaultView, setDefaultView] = useState<string>();\n\n  const changedTableRows = useRef({});\n  const handleTableRowChange = (e, payload) => {\n    if (payload) {\n      changedTableRows.current[payload.currentVariant] = {\n        ...(changedTableRows.current[payload.currentVariant] ?? {}),\n        ...payload\n      };\n    }\n  };\n  const deletedTableRows = useRef(new Set([]));\n  const handleDelete = (e) => {\n    deletedTableRows.current.add(e.target.dataset.children);\n    setChildrenProps((prev) =>\n      prev\n        .filter((item) => item.children !== e.target.dataset.children)\n        .map((item) => {\n          if (changedTableRows.current.hasOwnProperty(item.children)) {\n            return { ...item, ...changedTableRows.current[item.children] };\n          }\n          return item;\n        })\n    );\n  };\n\n  const handleSave = (e) => {\n    if (Object.keys(invalidVariants).length === 0) {\n      handleSaveManageViews(e, {\n        updatedRows: changedTableRows.current,\n        defaultView,\n        deletedRows: deletedTableRows.current\n      });\n    } else {\n      Object.values(invalidVariants)[0].focus();\n    }\n  };\n\n  return createPortal(\n    <Dialog\n      style={{ width: isPhone() || isTablet() ? '100%' : '70vw' }}\n      data-component-name=\"VariantManagementManageViewsDialog\"\n      ref={manageViewsRef}\n      onAfterClose={onAfterClose}\n      headerText=\"Manage Views\"\n      footer={\n        <Bar\n          endContent={\n            <>\n              <Button design={ButtonDesign.Emphasized} onClick={handleSave}>\n                {saveText}\n              </Button>\n              <Button design={ButtonDesign.Transparent} onClick={onAfterClose}>\n                {cancelText}\n              </Button>\n            </>\n          }\n        />\n      }\n    >\n      <Table columns={columns} stickyColumnHeader role=\"table\">\n        {childrenProps.map((itemProps: VariantItemPropTypes) => {\n          return (\n            <ManageViewsTableRows\n              {...itemProps}\n              setInvalidVariants={setInvalidVariants}\n              setChangedVariantNames={setChangedVariantNames}\n              changedVariantNames={changedVariantNames}\n              variantNames={variantNames}\n              handleRowChange={handleTableRowChange}\n              handleDelete={handleDelete}\n              defaultView={defaultView}\n              setDefaultView={setDefaultView}\n              showShare={showShare}\n              showApplyAutomatically={showApplyAutomatically}\n              showSetAsDefault={showSetAsDefault}\n              key={itemProps?.children}\n            />\n          );\n        })}\n      </Table>\n    </Dialog>,\n    portalContainer\n  );\n};\n","import { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport {\n  CANCEL,\n  SAVE,\n  SAVE_VIEW,\n  VIEW,\n  SET_AS_DEFAULT,\n  PUBLIC,\n  APPLY_AUTOMATICALLY,\n  FILE_ALREADY_EXISTS,\n  SPECIFY_VIEW_NAME\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { Dialog, DialogDomRef } from '@ui5/webcomponents-react/dist/Dialog';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { Label } from '@ui5/webcomponents-react/dist/Label';\nimport { SelectedVariant } from '@ui5/webcomponents-react/dist/VariantManagementContext';\nimport { Ui5CustomEvent } from '@ui5/webcomponents-react/interfaces/Ui5CustomEvent';\nimport React, { useEffect, useRef, useState } from 'react';\n\ninterface SaveViewDialogPropTypes {\n  onAfterClose: (event: Ui5CustomEvent<HTMLElement>) => void;\n  handleSave: (event: Ui5CustomEvent<HTMLElement>, selectedVariant: SelectedVariant) => void;\n  selectedVariant: SelectedVariant;\n  showShare: boolean;\n  showApplyAutomatically: boolean;\n  showSetAsDefault: boolean;\n  variantNames: string[];\n}\n\nexport const SaveViewDialog = (props: SaveViewDialogPropTypes) => {\n  const {\n    onAfterClose,\n    handleSave,\n    selectedVariant,\n    showShare,\n    showApplyAutomatically,\n    showSetAsDefault,\n    variantNames\n  } = props;\n  const saveViewDialogRef = useRef<DialogDomRef>(null);\n  const inputRef = useRef(undefined);\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const cancelText = i18nBundle.getText(CANCEL);\n  const saveText = i18nBundle.getText(SAVE);\n  const headingText = i18nBundle.getText(SAVE_VIEW);\n  const defaultCbLabel = i18nBundle.getText(SET_AS_DEFAULT);\n  const publicCbLabel = i18nBundle.getText(PUBLIC);\n  const applyAutomaticallyCbLabel = i18nBundle.getText(APPLY_AUTOMATICALLY);\n  const inputLabelText = i18nBundle.getText(VIEW);\n  const errorTextAlreadyExists = i18nBundle.getText(FILE_ALREADY_EXISTS);\n  const errorTextEmpty = i18nBundle.getText(SPECIFY_VIEW_NAME);\n\n  const [isDefault, setDefault] = useState(selectedVariant.isDefault);\n  const [isPublic, setPublic] = useState(selectedVariant.global);\n  const [applyAutomatically, setApplyAutomatically] = useState(selectedVariant.applyAutomatically);\n  const [variantName, setVariantName] = useState(selectedVariant.children);\n  const [variantNameInvalid, setVariantNameInvalid] = useState<string | boolean>(false);\n\n  const handleInputChange = (e) => {\n    setVariantName(e.target.value);\n  };\n\n  const onSave = (e) => {\n    if (variantNames.includes(variantName)) {\n      setVariantNameInvalid(errorTextAlreadyExists);\n      inputRef.current?.focus();\n    } else if (variantName.length === 0) {\n      setVariantNameInvalid(errorTextEmpty);\n      inputRef.current?.focus();\n    } else {\n      setVariantNameInvalid(false);\n      handleSave(e, { ...selectedVariant, children: variantName, isDefault, global: isPublic, applyAutomatically });\n    }\n  };\n\n  const handleCancel = () => {\n    saveViewDialogRef.current.close();\n  };\n\n  const handleChangeDefault = (e) => {\n    setDefault(e.target.checked);\n  };\n  const handleChangePublic = (e) => {\n    setPublic(e.target.checked);\n  };\n  const handleChangeApplyAutomatically = (e) => {\n    setApplyAutomatically(e.target.checked);\n  };\n\n  useEffect(() => {\n    saveViewDialogRef.current.show();\n    return () => {\n      saveViewDialogRef.current?.close();\n    };\n  }, []);\n\n  return (\n    <Dialog\n      ref={saveViewDialogRef}\n      headerText={headingText}\n      onAfterClose={onAfterClose}\n      footer={\n        <Bar\n          endContent={\n            <>\n              <Button design={ButtonDesign.Emphasized} onClick={onSave}>\n                {saveText}\n              </Button>\n              <Button design={ButtonDesign.Transparent} onClick={handleCancel}>\n                {cancelText}\n              </Button>\n            </>\n          }\n        />\n      }\n    >\n      <FlexBox direction={FlexBoxDirection.Column} alignItems={FlexBoxAlignItems.Start}>\n        <Label for=\"view\" showColon>\n          {inputLabelText}\n        </Label>\n        <Input\n          accessibleName=\"view\"\n          ref={inputRef}\n          style={{ width: '100%', margin: '0.1875rem 0' }}\n          id=\"view\"\n          value={variantName}\n          valueState={!variantNameInvalid ? 'None' : 'Error'}\n          valueStateMessage={<div>{variantNameInvalid}</div>}\n          onChange={handleInputChange}\n        />\n        <FlexBox\n          alignItems={FlexBoxAlignItems.Start}\n          direction={FlexBoxDirection.Column}\n          style={{ padding: '0 0.5rem' }}\n        >\n          {showSetAsDefault && <CheckBox onChange={handleChangeDefault} text={defaultCbLabel} checked={isDefault} />}\n          {showShare && <CheckBox onChange={handleChangePublic} text={publicCbLabel} checked={isPublic} />}\n          {showApplyAutomatically && (\n            <CheckBox\n              onChange={handleChangeApplyAutomatically}\n              text={applyAutomaticallyCbLabel}\n              checked={applyAutomatically}\n            />\n          )}\n        </FlexBox>\n      </FlexBox>\n    </Dialog>\n  );\n};\n","import '@ui5/webcomponents-fiori/dist/illustrations/UnableToLoad.js';\nimport '@ui5/webcomponents-icons/dist/decline.js';\nimport '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport '@ui5/webcomponents-icons/dist/search.js';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  CANCEL,\n  MANAGE,\n  MY_VIEWS,\n  RESET,\n  SAVE,\n  SAVE_AS,\n  SEARCH,\n  SEARCH_VARIANT,\n  SELECT_VIEW\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Bar } from '@ui5/webcomponents-react/dist/Bar';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ButtonDesign } from '@ui5/webcomponents-react/dist/ButtonDesign';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { IllustratedMessage } from '@ui5/webcomponents-react/dist/IllustratedMessage';\nimport { IllustrationMessageType } from '@ui5/webcomponents-react/dist/IllustrationMessageType';\nimport { Input } from '@ui5/webcomponents-react/dist/Input';\nimport { List } from '@ui5/webcomponents-react/dist/List';\nimport { ListMode } from '@ui5/webcomponents-react/dist/ListMode';\nimport { PopoverPlacementType } from '@ui5/webcomponents-react/dist/PopoverPlacementType';\nimport { ResponsivePopover, ResponsivePopoverDomRef } from '@ui5/webcomponents-react/dist/ResponsivePopover';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { SelectedVariant, VariantManagementContext } from '@ui5/webcomponents-react/dist/VariantManagementContext';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, {\n  Children,\n  cloneElement,\n  ComponentElement,\n  forwardRef,\n  isValidElement,\n  ReactNode,\n  Ref,\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { Ui5CustomEvent } from '../../interfaces/Ui5CustomEvent';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { ManageViewsDialog } from './ManageViewsDialog';\nimport { SaveViewDialog } from './SaveViewDialog';\nimport { VariantItemPropTypes } from './VariantItem';\nimport clsx from 'clsx';\n\ninterface UpdatedVariant extends SelectedVariant {\n  prevVariant?: VariantItemPropTypes;\n}\n\nexport interface VariantManagementPropTypes extends Omit<CommonProps, 'onSelect'> {\n  /**\n   * Variant items displayed by the VariantManagement component.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `VariantItem` in order to preserve the intended design.\n   */\n  children?: ReactNode | ReactNode[];\n  /**\n   * Determines on which side the VariantManagement popover is placed at.\n   */\n  placement?: PopoverPlacementType | keyof typeof PopoverPlacementType;\n  /**\n   * Describes the title of the VariantManagement popover.\n   *\n   * __Note:__ If not set, the default title is used.\n   */\n  titleText?: string;\n  /**\n   * Defines whether the VariantManagement should be closed if an item was selected.\n   */\n  closeOnItemSelect?: boolean;\n  /**\n   * Describes the `HTML Title` level of the variants.\n   */\n  level?: TitleLevel | keyof typeof TitleLevel;\n  /**\n   * Defines whether the VariantManagement is disabled.\n   */\n  disabled?: boolean;\n  /**\n   * Fired after a variant has been selected.\n   */\n  onSelect?: (\n    event: Ui5CustomEvent<\n      HTMLElement,\n      {\n        selectedVariant: SelectedVariant;\n        selectedItems: unknown[];\n        previouslySelectedItems: unknown[];\n      }\n    >\n  ) => void;\n  /**\n   * Indicator for modified but not saved variants.\n   *\n   * __Note:__ You can change the indicator by setting `dirtyStateText`.\n   */\n  dirtyState?: boolean;\n  /**\n   * Text for the dirty state indicator.\n   */\n  dirtyStateText?: string;\n  /**\n   * Indicates that the 'Favorites' feature is used. Only variants marked as favorites will be displayed in the variant list.\n   */\n  showOnlyFavorites?: boolean;\n  /**\n   * Indicates that set as default is visible in the Save View and the Manage Views dialogs.\n   */\n  hideSetAsDefault?: boolean;\n  /**\n   * Indicates that the Public indicator is visible in the Save View and the Manage Views dialogs.\n   */\n  hideShare?: boolean;\n  /**\n   * Indicates that Apply Automatically is visible in the Save View and the Manage Views dialogs.\n   */\n  hideApplyAutomatically?: boolean;\n  /**\n   * Indicates that the Save View dialog button is visible.\n   */\n  hideSaveAs?: boolean;\n  /**\n   * Indicates that the Manage Views dialog button is visible.\n   */\n  hideManageVariants?: boolean;\n  /**\n   * Displays the cancel button in the popover.\n   */\n  showCancelButton?: boolean;\n  /**\n   * Indicates that the control is in error state. If set to true error message will be displayed whenever the variant is opened.\n   */\n  inErrorState?: boolean;\n  /**\n   * Defines where modals are rendered into via `React.createPortal`.\n   *\n   * Defaults to: `document.body`\n   */\n  portalContainer?: Element;\n  /**\n   * The event is fired when the \"Save\" button is clicked inside the Save View dialog.\n   */\n  onSaveAs?: (e: CustomEvent<SelectedVariant>) => void;\n  /**\n   * The event is fired when the \"Save\" button is clicked inside the Manage Views dialog.\n   */\n  onSaveManageViews?: (\n    e: CustomEvent<{\n      deletedVariants: VariantItemPropTypes[];\n      prevVariants: VariantItemPropTypes[];\n      updatedVariants: UpdatedVariant[];\n      variants: SelectedVariant[];\n    }>\n  ) => void;\n  /**\n   * The event is fired when the \"Save\" button is clicked in the `VariantManagement` popover.\n   *\n   * __Note:__ The save button is only displayed if the `VariantManagement` is in `dirtyState` and the selected variant is not in `readOnly` mode.\n   */\n  onSave?: (e: CustomEvent<SelectedVariant>) => void;\n}\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  title: {\n    cursor: 'pointer',\n    color: ThemingParameters.sapButton_TextColor,\n    '&:hover': {\n      color: ThemingParameters.sapButton_Hover_TextColor\n    }\n  },\n  disabled: {\n    '& $title': {\n      color: ThemingParameters.sapGroup_TitleTextColor,\n      cursor: 'default',\n      '&:hover': {\n        color: 'ThemingParameters.sapGroup_TitleTextColor'\n      }\n    }\n  },\n  dirtyState: {\n    color: ThemingParameters.sapGroup_TitleTextColor,\n    padding: '0 0.125rem',\n    fontWeight: 'bold',\n    font: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    flexGrow: 1\n  },\n  dirtyStateText: {\n    fontSize: ThemingParameters.sapFontSmallSize,\n    fontWeight: 'normal'\n  },\n  footer: {\n    margin: '0.4375rem 1rem 0.4325rem auto'\n  },\n  inputIcon: { cursor: 'pointer', color: ThemingParameters.sapContent_IconColor },\n  searchInput: { padding: '0.25rem 0.5rem 0.25rem 0.25rem' },\n  popover: { minWidth: '25rem' }\n};\n\nconst useStyles = createUseStyles(styles, { name: 'VariantManagement' });\n/**\n * The `VariantManagement` component can be used to manage variants, such as FilterBar variants or AnalyticalTable variants.\n */\nconst VariantManagement = forwardRef((props: VariantManagementPropTypes, ref: Ref<HTMLDivElement>) => {\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const {\n    titleText = i18nBundle.getText(MY_VIEWS),\n    className,\n    style,\n    tooltip,\n    placement,\n    level,\n    onSelect,\n    closeOnItemSelect,\n    disabled,\n    onSaveAs,\n    onSaveManageViews,\n    showOnlyFavorites,\n    inErrorState,\n    hideShare,\n    children,\n    hideManageVariants,\n    hideApplyAutomatically,\n    hideSetAsDefault,\n    hideSaveAs,\n    dirtyStateText,\n    dirtyState,\n    showCancelButton,\n    onSave,\n    portalContainer,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('VariantManagement', props.tooltip);\n\n  const classes = useStyles();\n  const popoverRef = useRef<ResponsivePopoverDomRef>(null);\n\n  const [safeChildren, setSafeChildren] = useState(Children.toArray(children));\n  const [showInput, setShowInput] = useState(safeChildren.length > 9);\n\n  useEffect(() => {\n    setSafeChildren(Children.toArray(children));\n  }, [children]);\n\n  useEffect(() => {\n    if (safeChildren.length > 9) {\n      setShowInput(true);\n    } else {\n      setShowInput(false);\n    }\n  }, [safeChildren.length]);\n\n  const [manageViewsDialogOpen, setManageViewsDialogOpen] = useState(false);\n  const [saveAsDialogOpen, setSaveAsDialogOpen] = useState(false);\n  const [selectedVariant, setSelectedVariant] = useState<SelectedVariant | undefined>(() => {\n    const currentSelectedVariant = safeChildren.find(\n      (item) => isValidElement(item) && item.props.selected\n    ) as ComponentElement<any, any>;\n    if (currentSelectedVariant) {\n      return { ...currentSelectedVariant.props, variantItem: currentSelectedVariant.ref };\n    }\n  });\n\n  const handleClose = () => {\n    popoverRef.current.close();\n  };\n\n  const handleManageClick = () => {\n    setManageViewsDialogOpen(true);\n  };\n  const handleManageClose = () => {\n    setManageViewsDialogOpen(false);\n  };\n  const handleOpenSaveAsDialog = () => {\n    setSaveAsDialogOpen(true);\n  };\n  const handleSaveAsClose = () => {\n    setSaveAsDialogOpen(false);\n  };\n\n  const handleSave = (e) => {\n    if (typeof onSave === 'function') {\n      onSave(enrichEventWithDetails(e, selectedVariant as Record<string, any>));\n    }\n  };\n\n  const handleSaveView = (e, selectedVariant) => {\n    if (typeof onSaveAs === 'function') {\n      onSaveAs(enrichEventWithDetails(e, selectedVariant));\n    }\n    handleSaveAsClose();\n  };\n\n  const handleSaveManageViews = (e, payload) => {\n    const { defaultView, updatedRows, deletedRows } = payload;\n    let callbackProperties = { deletedVariants: [], prevVariants: [], updatedVariants: [], variants: [] };\n    if (typeof onSaveManageViews === 'function') {\n      onSaveManageViews(enrichEventWithDetails(e, callbackProperties));\n    }\n    setSafeChildren((prev) =>\n      prev\n        .map((child: ComponentElement<any, any>) => {\n          let updatedProps: Omit<SelectedVariant, 'children' | 'variantItem'> = {};\n          const currentVariant = popoverRef.current.querySelector(`ui5-li[data-text=\"${child.props.children}\"]`);\n          callbackProperties.prevVariants.push(child.props);\n          if (defaultView) {\n            if (defaultView === child.props.children) {\n              updatedProps.isDefault = true;\n            } else if (child.props.isDefault) {\n              updatedProps.isDefault = false;\n            }\n          }\n          if (Object.keys(updatedRows).includes(child.props.children)) {\n            const { currentVariant, ...rest } = updatedRows[child.props.children];\n            updatedProps = { ...updatedProps, ...rest };\n          }\n          if (deletedRows.has(child.props.children)) {\n            callbackProperties.deletedVariants.push(child.props);\n            return false;\n          }\n          if (Object.keys(updatedProps).length > 0) {\n            callbackProperties.updatedVariants.push({\n              ...child.props,\n              ...updatedProps,\n              variantItem: currentVariant,\n              prevVariant: { ...child.props }\n            });\n          }\n          callbackProperties.variants.push({ ...child.props, ...updatedProps, variantItem: currentVariant });\n          return cloneElement(child, updatedProps);\n        })\n        .filter(Boolean)\n    );\n    handleManageClose();\n  };\n\n  const handleOpenVariantManagement = useCallback(\n    (e) => {\n      popoverRef.current.showAt(e.target);\n    },\n    [popoverRef]\n  );\n\n  const cancelText = i18nBundle.getText(CANCEL);\n  const searchText = i18nBundle.getText(SEARCH);\n  const saveAsText = i18nBundle.getText(SAVE_AS);\n  const manageText = i18nBundle.getText(MANAGE);\n  const saveText = i18nBundle.getText(SAVE);\n  const a11ySearchText = i18nBundle.getText(SEARCH_VARIANT);\n  const selectViewText = i18nBundle.getText(SELECT_VIEW);\n  const resetIconTitleText = i18nBundle.getText(RESET);\n\n  const variantManagementClasses = clsx(classes.container, disabled && classes.disabled, className);\n\n  const dirtyStateClasses = clsx(classes.dirtyState, dirtyStateText !== '*' && classes.dirtyStateText);\n\n  const selectVariantEventRef = useRef();\n  useEffect(() => {\n    if (selectVariantEventRef.current) {\n      if (typeof onSelect === 'function') {\n        onSelect(enrichEventWithDetails(selectVariantEventRef.current, { selectedVariant }));\n        selectVariantEventRef.current = undefined;\n      }\n    }\n  }, [selectedVariant, onSelect]);\n\n  const handleVariantItemSelect = (e) => {\n    setSelectedVariant({ ...e.detail.selectedItems[0].dataset, variantItem: e.detail.selectedItems[0] });\n    selectVariantEventRef.current = e;\n    if (closeOnItemSelect) {\n      handleClose();\n    }\n  };\n\n  const variantNames = safeChildren.map((item: ComponentElement<any, any>) =>\n    typeof item.props?.children === 'string' ? item.props.children : ''\n  );\n\n  const [favoriteChildren, setFavoriteChildren] = useState(undefined);\n\n  useEffect(() => {\n    if (showOnlyFavorites) {\n      setFavoriteChildren(\n        safeChildren.filter((child: ComponentElement<any, any>) => child.props.favorite || child.props.isDefault)\n      );\n    }\n    if (!showOnlyFavorites && favoriteChildren?.length > 0) {\n      setFavoriteChildren(undefined);\n    }\n  }, [showOnlyFavorites, safeChildren]);\n\n  const safeChildrenWithFavorites = favoriteChildren ?? safeChildren;\n\n  const [filteredChildren, setFilteredChildren] = useState(undefined);\n  const [searchValue, setSearchValue] = useState('');\n  const handleSearchInput = (e) => {\n    setSearchValue(e.target.value);\n    setFilteredChildren(\n      safeChildrenWithFavorites.filter(\n        (child: ComponentElement<any, any>) =>\n          typeof child?.props?.children === 'string' &&\n          child.props.children.toLowerCase().includes(e.target.value.toLowerCase())\n      )\n    );\n  };\n  useEffect(() => {\n    if (filteredChildren) {\n      setFilteredChildren(\n        safeChildrenWithFavorites.filter(\n          (child: ComponentElement<any, any>) =>\n            typeof child?.props?.children === 'string' && child.props.children.toLowerCase().includes(searchValue)\n        )\n      );\n    }\n  }, [safeChildrenWithFavorites]);\n  const handleSpaceInput = (e) => {\n    if (e.code === 'Space') {\n      setSearchValue((prev) => prev + ' ');\n    }\n  };\n  const handleResetFilter = () => {\n    setSearchValue('');\n    setFilteredChildren(undefined);\n  };\n\n  const showSaveBtn = dirtyState && !selectedVariant?.readOnly;\n\n  return (\n    <div className={variantManagementClasses} style={style} title={tooltip} {...rest} ref={ref}>\n      <VariantManagementContext.Provider\n        value={{\n          selectVariantItem: setSelectedVariant\n        }}\n      >\n        <FlexBox onClick={disabled ? undefined : handleOpenVariantManagement}>\n          <Title level={level} className={classes.title}>\n            {selectedVariant?.children}\n          </Title>\n          {dirtyState && <div className={dirtyStateClasses}>{dirtyStateText}</div>}\n        </FlexBox>\n        <Button\n          title={selectViewText}\n          aria-label={selectViewText}\n          onClick={handleOpenVariantManagement}\n          design={ButtonDesign.Transparent}\n          icon=\"navigation-down-arrow\"\n          disabled={disabled}\n        />\n        {createPortal(\n          <ResponsivePopover\n            className={classes.popover}\n            ref={popoverRef}\n            headerText={titleText}\n            placementType={placement}\n            footer={\n              (showSaveBtn || !hideSaveAs || !hideManageVariants || showCancelButton) && (\n                <Bar\n                  endContent={\n                    <>\n                      {!inErrorState && showSaveBtn && (\n                        <Button onClick={handleSave} design={ButtonDesign.Emphasized}>\n                          {saveText}\n                        </Button>\n                      )}\n                      {!inErrorState && !hideSaveAs && (\n                        <Button\n                          onClick={handleOpenSaveAsDialog}\n                          design={showSaveBtn ? ButtonDesign.Transparent : ButtonDesign.Emphasized}\n                          disabled={!selectedVariant || Object.keys(selectedVariant).length === 0}\n                        >\n                          {saveAsText}\n                        </Button>\n                      )}\n                      {!inErrorState && !hideManageVariants && (\n                        <Button\n                          onClick={handleManageClick}\n                          design={showSaveBtn || !hideSaveAs ? ButtonDesign.Transparent : ButtonDesign.Emphasized}\n                        >\n                          {manageText}\n                        </Button>\n                      )}\n                      {showCancelButton && (\n                        <Button\n                          onClick={handleClose}\n                          design={\n                            !inErrorState && (showSaveBtn || !hideSaveAs || !hideManageVariants)\n                              ? ButtonDesign.Transparent\n                              : ButtonDesign.Emphasized\n                          }\n                        >\n                          {cancelText}\n                        </Button>\n                      )}\n                    </>\n                  }\n                />\n              )\n            }\n            onAfterClose={stopPropagation}\n          >\n            {inErrorState ? (\n              <IllustratedMessage name={IllustrationMessageType.UnableToLoad} />\n            ) : (\n              <List\n                onSelectionChange={handleVariantItemSelect}\n                mode={ListMode.SingleSelect}\n                header={\n                  showInput ? (\n                    <div className={classes.searchInput} tabIndex={-1}>\n                      <Input\n                        accessibleName={a11ySearchText}\n                        value={searchValue}\n                        placeholder={searchText}\n                        onInput={handleSearchInput}\n                        // todo remove when fixed\n                        onKeyDown={handleSpaceInput}\n                        icon={\n                          <>\n                            {filteredChildren && (\n                              <Icon\n                                accessibleName={resetIconTitleText}\n                                title={resetIconTitleText}\n                                name=\"decline\"\n                                interactive\n                                onClick={handleResetFilter}\n                                className={classes.inputIcon}\n                              />\n                            )}\n                            <Icon name=\"search\" className={classes.inputIcon} />\n                          </>\n                        }\n                      />\n                    </div>\n                  ) : undefined\n                }\n              >\n                {filteredChildren ?? safeChildrenWithFavorites}\n              </List>\n            )}\n          </ResponsivePopover>,\n          portalContainer\n        )}\n        {manageViewsDialogOpen && (\n          <ManageViewsDialog\n            onAfterClose={handleManageClose}\n            handleSaveManageViews={handleSaveManageViews}\n            showShare={!hideShare}\n            showApplyAutomatically={!hideApplyAutomatically}\n            showSetAsDefault={!hideSetAsDefault}\n            variantNames={variantNames}\n            portalContainer={portalContainer}\n          >\n            {safeChildren}\n          </ManageViewsDialog>\n        )}\n        {saveAsDialogOpen && (\n          <SaveViewDialog\n            showShare={!hideShare}\n            showApplyAutomatically={!hideApplyAutomatically}\n            showSetAsDefault={!hideSetAsDefault}\n            onAfterClose={handleSaveAsClose}\n            handleSave={handleSaveView}\n            selectedVariant={selectedVariant}\n            variantNames={variantNames}\n          />\n        )}\n      </VariantManagementContext.Provider>\n    </div>\n  );\n});\n\nVariantManagement.defaultProps = {\n  placement: PopoverPlacementType.Bottom,\n  level: TitleLevel.H4,\n  dirtyStateText: '*',\n  portalContainer: document.body\n};\nVariantManagement.displayName = 'VariantManagement';\n\nexport { VariantManagement };\n"],"names":["stopPropagation","e","stopImmediatePropagation","useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","ManageViewsTableRows","props","variantNames","changedVariantNames","setChangedVariantNames","handleRowChange","handleDelete","defaultView","setDefaultView","showShare","showApplyAutomatically","showSetAsDefault","labelReadOnly","favorite","children","global","isDefault","applyAutomatically","author","setInvalidVariants","hideDelete","i18nBundle","useI18nBundle","errorTextAlreadyExists","getText","FILE_ALREADY_EXISTS","errorTextEmpty","SPECIFY_VIEW_NAME","publicText","PUBLIC","privateText","PRIVATE","a11yFavoriteText","MARK_AS_FAVORITE","a11yStandardText","MARK_AS_STANDARD","a11yDeleteText","DELETE_VIEW","a11yApplyAutomaticallyText","APPLY_AUTOMATICALLY","favoriteIconTitleText","SELECTED_AS_FAVORITE","unfavoriteIconTitleText","UNSELECTED_AS_FAVORITE","inputPlaceHolder","VIEW","useReducer","prev","internalFavorite","setFavorite","iconName","inputRef","useRef","undefined","useState","variantNameInvalid","setVariantNameInvalid","onFavoriteClick","currentVariant","handleVariantInput","includes","target","value","Array","from","values","current","length","invalidRows","hasOwnProperty","currentChangedVariants","Map","set","handleVariantFocus","filteredChangedValues","filter","item","handleDefaultChange","handleApplyAutomaticallyChange","checked","renderView","fontFamily","ThemingParameters","sapFontBoldFamily","sapFontFamily","ValueState","None","Error","color","sapContent_NonInteractiveIconColor","sapContent_MarkerIconColor","cursor","ButtonDesign","Transparent","addCustomCSS","ManageViewsDialog","onAfterClose","handleSaveManageViews","portalContainer","cancelText","CANCEL","saveText","SAVE","viewHeaderText","sharingHeaderText","SHARING","defaultHeaderText","DEFAULT","applyAutomaticallyHeaderText","createdByHeaderText","CREATED_BY","invalidVariants","columns","manageViewsRef","show","close","Children","map","child","childrenProps","setChildrenProps","changedTableRows","handleTableRowChange","payload","deletedTableRows","Set","add","dataset","handleSave","Object","keys","updatedRows","deletedRows","focus","createPortal","width","isPhone","isTablet","Emphasized","itemProps","SaveViewDialog","selectedVariant","saveViewDialogRef","headingText","SAVE_VIEW","defaultCbLabel","SET_AS_DEFAULT","publicCbLabel","applyAutomaticallyCbLabel","inputLabelText","setDefault","isPublic","setPublic","setApplyAutomatically","variantName","setVariantName","handleInputChange","onSave","handleCancel","handleChangeDefault","handleChangePublic","handleChangeApplyAutomatically","FlexBoxDirection","Column","FlexBoxAlignItems","Start","margin","padding","styles","container","display","alignItems","textAlign","title","sapButton_TextColor","sapButton_Hover_TextColor","disabled","sapGroup_TitleTextColor","dirtyState","fontWeight","font","fontSize","sapFontSize","flexGrow","dirtyStateText","sapFontSmallSize","footer","inputIcon","sapContent_IconColor","searchInput","popover","minWidth","useStyles","createUseStyles","name","VariantManagement","forwardRef","ref","titleText","MY_VIEWS","className","style","placement","level","onSelect","closeOnItemSelect","onSaveAs","onSaveManageViews","showOnlyFavorites","inErrorState","hideShare","hideManageVariants","hideApplyAutomatically","hideSetAsDefault","hideSaveAs","showCancelButton","rest","classes","popoverRef","toArray","safeChildren","setSafeChildren","showInput","setShowInput","manageViewsDialogOpen","setManageViewsDialogOpen","saveAsDialogOpen","setSaveAsDialogOpen","currentSelectedVariant","find","isValidElement","selected","variantItem","setSelectedVariant","handleClose","handleManageClick","handleManageClose","handleOpenSaveAsDialog","handleSaveAsClose","enrichEventWithDetails","handleSaveView","callbackProperties","deletedVariants","prevVariants","updatedVariants","variants","updatedProps","querySelector","push","has","prevVariant","cloneElement","Boolean","handleOpenVariantManagement","useCallback","showAt","searchText","SEARCH","saveAsText","SAVE_AS","manageText","MANAGE","a11ySearchText","SEARCH_VARIANT","selectViewText","SELECT_VIEW","resetIconTitleText","RESET","variantManagementClasses","clsx","dirtyStateClasses","selectVariantEventRef","handleVariantItemSelect","detail","selectedItems","favoriteChildren","setFavoriteChildren","safeChildrenWithFavorites","filteredChildren","setFilteredChildren","searchValue","setSearchValue","handleSearchInput","toLowerCase","handleSpaceInput","code","handleResetFilter","showSaveBtn","readOnly","selectVariantItem","IllustrationMessageType","UnableToLoad","ListMode","SingleSelect","defaultProps","PopoverPlacementType","Bottom","TitleLevel","H4","document","body","displayName"],"mappings":"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"}