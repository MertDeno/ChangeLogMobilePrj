{"version":3,"file":"ObjectPage.js","sources":["../src/enums/PopoverHorizontalAlign.ts","../src/internal/useDeprecationNotiveForTooltip.ts","../src/internal/stopPropagation.ts","../src/internal/useObserveHeights.ts","../src/components/DynamicPageAnchorBar/index.tsx","../src/components/ObjectPage/CollapsedAvatar.tsx","../src/components/DynamicPage/DynamicPage.jss.ts","../src/components/ObjectPage/ObjectPage.jss.ts","../src/components/ObjectPage/ObjectPageAnchorTab.ts","../src/components/ObjectPage/ObjectPageUtils.ts","../src/components/ObjectPage/ObjectPageAnchorButton.tsx","../src/components/ObjectPage/index.tsx"],"sourcesContent":["// Generated file - do not change manually!\n\n/**\n * Defines the horizontal alignment of <code>ui5-popover</code>\n */\nexport enum PopoverHorizontalAlign {\n  /**\n   * Popover is centered\n   */\n  Center = 'Center',\n\n  /**\n   * Popover opens on the left side of the target\n   */\n  Left = 'Left',\n\n  /**\n   * Popover opens on the right side of the target\n   */\n  Right = 'Right',\n\n  /**\n   * Popover is stretched\n   */\n  Stretch = 'Stretch'\n}\n","import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { useEffect, useState } from 'react';\n\ndeclare const ResizeObserver;\n\nexport const useObserveHeights = (objectPage, topHeader, headerContentRef, anchorBarRef, { noHeader }) => {\n  const [topHeaderHeight, setTopHeaderHeight] = useState(0);\n  const [headerContentHeight, setHeaderContentHeight] = useState(0);\n  const [isIntersecting, setIsIntersecting] = useState(true);\n  useEffect(() => {\n    const headerIntersectionObserver = new IntersectionObserver(\n      ([header]) => {\n        if (header.isIntersecting) {\n          setIsIntersecting(true);\n        } else {\n          setIsIntersecting(false);\n          setHeaderContentHeight(0);\n        }\n      },\n      { rootMargin: `-${topHeaderHeight}px 0px 0px 0px`, root: objectPage?.current, threshold: 0.3 }\n    );\n\n    if (headerContentRef?.current) {\n      headerIntersectionObserver.observe(headerContentRef.current);\n    }\n\n    return () => {\n      headerIntersectionObserver.disconnect();\n    };\n  }, [topHeaderHeight, setHeaderContentHeight, headerContentRef.current, setIsIntersecting]);\n\n  // top header\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([header]) => {\n      // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n      const borderBoxSize = Array.isArray(header.borderBoxSize) ? header.borderBoxSize[0] : header.borderBoxSize;\n      // Safari doesn't implement `borderBoxSize`\n      setTopHeaderHeight(borderBoxSize?.blockSize ?? header.target.getBoundingClientRect().height);\n    });\n    if (topHeader?.current) {\n      headerContentResizeObserver.observe(topHeader.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [topHeader?.current, setTopHeaderHeight]);\n\n  // header content\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([headerContent]) => {\n      if (isIntersecting) {\n        // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n        const borderBoxSize = Array.isArray(headerContent.borderBoxSize)\n          ? headerContent.borderBoxSize[0]\n          : headerContent.borderBoxSize;\n        // Safari doesn't implement `borderBoxSize`\n        setHeaderContentHeight(borderBoxSize?.blockSize ?? headerContent.target.getBoundingClientRect().height);\n      }\n    });\n\n    if (headerContentRef?.current) {\n      headerContentResizeObserver.observe(headerContentRef.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [headerContentRef?.current, setHeaderContentHeight, isIntersecting]);\n  const anchorBarHeight = anchorBarRef?.current?.offsetHeight ?? 33;\n  const totalHeaderHeight = (noHeader ? 0 : topHeaderHeight + headerContentHeight) + anchorBarHeight;\n\n  return { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight };\n};\n","import { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming.js';\nimport '@ui5/webcomponents-icons/dist/pushpin-off.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-up.js';\nimport { useI18nBundle, useIsRTL, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  COLLAPSE_HEADER,\n  EXPAND_HEADER,\n  PIN_HEADER,\n  UNPIN_HEADER\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { Button } from '@ui5/webcomponents-react/dist/Button';\nimport { ToggleButton } from '@ui5/webcomponents-react/dist/ToggleButton';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, { forwardRef, RefObject, useCallback } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport clsx from 'clsx';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\n\naddCustomCSS(\n  'ui5-button',\n  `\n  :host([data-ui5wcr-dynamic-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\naddCustomCSS(\n  'ui5-toggle-button',\n  `\n    :host([data-ui5wcr-dynamic-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-dynamic-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\n\nconst anchorBarStyles = {\n  anchorBarActionButton: {\n    position: 'absolute',\n    top: `-0.6875rem`,\n    marginLeft: `-0.6875rem`,\n    left: '50%',\n    zIndex: 3,\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      width: '4rem',\n      top: '50%',\n      height: '0.0625rem'\n    },\n    '&:before': {\n      right: '100%',\n      backgroundImage: `linear-gradient(to left, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`\n    },\n    '&:after': {\n      backgroundImage: `linear-gradient(to right, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`,\n      left: '100%'\n    }\n  },\n  anchorBarActionButtonRtl: {\n    marginRight: `-0.6875rem`,\n    marginLeft: 0\n  },\n  anchorBarActionButtonExpandable: {},\n  anchorBarActionButtonPinnable: {},\n  anchorBarActionPinnableAndExpandable: {\n    '&$anchorBarActionButtonPinnable': {\n      marginLeft: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginLeft: '-1.75rem'\n    }\n  },\n  anchorBarActionPinnableAndExpandableRtl: {\n    '&$anchorBarActionButtonPinnable': {\n      marginRight: '0.25rem',\n      '&:before': {\n        backgroundColor: 'white'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginRight: '-1.75rem'\n    }\n  }\n};\n\nconst useStyles = createUseStyles(anchorBarStyles, { name: 'DynamicPageAnchorBar' });\n\ninterface Props extends CommonProps {\n  /**\n   * Determines if the header content is visible.\n   */\n  headerContentVisible: boolean;\n  /**\n   * Determines if the header content is pinnable .\n   */\n  headerContentPinnable: boolean;\n  /**\n   * Determines if the hide header button is shown .\n   */\n  showHideHeaderButton: boolean;\n  /**\n   * Determines if the header is initially pinned .\n   */\n  headerPinned?: boolean;\n  /**\n   * Set the header to the state pinned.\n   */\n  setHeaderPinned?: (payload: any) => void;\n  /**\n   * Toggles the header content to be hidden or visible .\n   */\n  onToggleHeaderContentVisibility: (e: any) => void;\n  /**\n   * Highlight title when hovered.\n   */\n  onHoverToggleButton?: (e: any) => void;\n  /**\n   * Defines internally used a11y properties.\n   */\n  a11yConfig?: {\n    dynamicPageAnchorBar?: {\n      role?: string;\n    };\n  };\n}\n\n/**\n * The dynamic page anchor bar contains the expand/collapse (expands or collapses the header content)\n * and pin button (pins the content header).\n */\nconst DynamicPageAnchorBar = forwardRef((props: Props, ref: RefObject<HTMLElement>) => {\n  const {\n    showHideHeaderButton,\n    headerContentVisible,\n    headerContentPinnable,\n    headerPinned,\n    setHeaderPinned,\n    onToggleHeaderContentVisibility,\n    onHoverToggleButton,\n    style,\n    a11yConfig\n  } = props;\n  useDeprecationNoticeForTooltip('DynamicPageAnchorBar', props.tooltip);\n\n  const classes = useStyles();\n  const [componentRef, anchorBarRef] = useSyncRef<HTMLElement>(ref);\n  const isRTL = useIsRTL(anchorBarRef);\n\n  const shouldRenderHeaderPinnableButton = headerContentPinnable && headerContentVisible;\n  const showBothActions = shouldRenderHeaderPinnableButton && showHideHeaderButton;\n\n  const onPinHeader = useCallback(\n    (e) => {\n      setHeaderPinned(e.target.pressed);\n    },\n    [setHeaderPinned]\n  );\n\n  const anchorBarActionButtonClasses = clsx(classes.anchorBarActionButton, isRTL && classes.anchorBarActionButtonRtl);\n\n  const bothActionClasses = clsx(\n    classes.anchorBarActionPinnableAndExpandable,\n    isRTL && classes.anchorBarActionPinnableAndExpandableRtl\n  );\n\n  const onToggleHeaderButtonClick = (e) => {\n    onToggleHeaderContentVisibility(enrichEventWithDetails(e, { visible: !headerContentVisible }));\n  };\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  return (\n    <section\n      data-component-name=\"DynamicPageAnchorBar\"\n      style={style}\n      role={a11yConfig?.dynamicPageAnchorBar?.role ?? 'navigation'}\n      className={showHideHeaderButton || headerContentPinnable ? classes.anchorBarActionButton : null}\n      ref={componentRef}\n    >\n      {showHideHeaderButton && (\n        <Button\n          icon={!headerContentVisible ? 'slim-arrow-down' : 'slim-arrow-up'}\n          data-ui5wcr-dynamic-page-header-action=\"\"\n          className={clsx(\n            anchorBarActionButtonClasses,\n            classes.anchorBarActionButtonExpandable,\n            showBothActions && bothActionClasses\n          )}\n          onClick={onToggleHeaderButtonClick}\n          onMouseOver={onHoverToggleButton}\n          onMouseLeave={onHoverToggleButton}\n          title={i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER)}\n          aria-label={i18nBundle.getText(!headerContentVisible ? EXPAND_HEADER : COLLAPSE_HEADER)}\n        />\n      )}\n      {shouldRenderHeaderPinnableButton && (\n        <ToggleButton\n          icon=\"pushpin-off\"\n          data-ui5wcr-dynamic-page-header-action=\"\"\n          className={clsx(\n            anchorBarActionButtonClasses,\n            classes.anchorBarActionButtonPinnable,\n            showBothActions && bothActionClasses\n          )}\n          pressed={headerPinned}\n          onClick={onPinHeader}\n          title={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n          aria-label={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n        />\n      )}\n    </section>\n  );\n});\n\nDynamicPageAnchorBar.displayName = 'DynamicPageAnchorBar';\n\nexport { DynamicPageAnchorBar };\n","import { AvatarSize } from '@ui5/webcomponents-react/dist/AvatarSize';\nimport React, { CSSProperties, ReactElement, useEffect, useMemo, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport clsx from 'clsx';\n\nconst styles = {\n  base: {\n    alignSelf: 'center',\n    opacity: 0\n  },\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    transition: 'opacity 0.5s',\n    opacity: 1\n  },\n  imageContainer: {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    maxHeight: '3rem',\n    width: '3rem',\n    maxWidth: '3rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n};\n\nconst useStyles = createUseStyles(styles, {\n  name: 'CollapsedAvatar'\n});\n\nexport interface CollapsedAvatarPropTypes {\n  image?: string | ReactElement;\n  imageShapeCircle?: boolean;\n  style?: CSSProperties;\n}\n\nexport const CollapsedAvatar = (props: CollapsedAvatarPropTypes) => {\n  const { image, imageShapeCircle, style } = props;\n  const classes = useStyles();\n  const [isMounted, setIsMounted] = useState(false);\n  const domRef = useRef();\n\n  const avatarContent = useMemo(() => {\n    if (!image) return null;\n\n    if (typeof image === 'string') {\n      return (\n        <span\n          className={classes.imageContainer}\n          style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}\n        >\n          <img className={classes.image} src={image} alt=\"Object Page Image\" />\n        </span>\n      );\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.S,\n        // @ts-ignore\n        className: image.props?.className\n          ? `${classes.imageContainer} ${image.props?.className}`\n          : classes.imageContainer\n      } as unknown);\n    }\n  }, [image, imageShapeCircle]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const containerClasses = clsx(classes.base, isMounted ? classes.visible : classes.hidden);\n\n  return (\n    <div ref={domRef} className={containerClasses} style={style} data-component-name=\"ObjectPageCollapsedAvatar\">\n      {avatarContent}\n    </div>\n  );\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nexport const DynamicPageCssVariables = {\n  headerDisplay: '--ui5wcr_DynamicPage_header_display'\n};\n\nexport const styles = {\n  dynamicPage: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100%',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    [DynamicPageCssVariables.headerDisplay]: 'block'\n  },\n  headerCollapsed: {\n    [DynamicPageCssVariables.headerDisplay]: 'none',\n    '& $anchorBar > section[role=\"navigation\"]': {\n      top: '-0.025rem'\n    }\n  },\n  anchorBar: {\n    position: 'sticky',\n    boxShadow: ThemingParameters.sapContent_HeaderShadow,\n    height: '1px',\n    zIndex: 2,\n    '& > section[role=\"navigation\"]': {\n      top: 0\n    }\n  },\n  iEClass: {\n    position: 'fixed',\n    //page width - scrollbar\n    width: 'calc(100% - 18px)'\n  },\n  iEBackgroundElement: {\n    position: 'fixed',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background\n  },\n  contentContainer: {\n    paddingTop: '1rem',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: 'auto',\n    fontFamily: ThemingParameters.sapFontFamily,\n    zIndex: 0\n  },\n  backgroundStandard: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundSolid: {\n    background: ThemingParameters.sapBackgroundColor\n  },\n  backgroundList: {\n    background: ThemingParameters.sapGroup_ContentBackground\n  },\n  backgroundTransparent: {\n    background: 'transparent'\n  },\n  footer: {\n    bottom: '0.5rem',\n    margin: '0 0.5rem',\n    left: 0,\n    right: 0\n  }\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { DynamicPageCssVariables } from '../DynamicPage/DynamicPage.jss';\n\nexport const ObjectPageCssVariables = {\n  anchorFloat: '--_ui5wcr_ObjectPage_actions_float',\n  anchorLeft: '--_ui5wcr_ObjectPage_actions_left',\n  anchorRight: '--_ui5wcr_ObjectPage_actions_right',\n  lastSectionMargin: '--_ui5wcr_ObjectPage_last_section_margin_bottom'\n};\n\nexport const styles = {\n  objectPage: {\n    [DynamicPageCssVariables.headerDisplay]: 'block',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    [ObjectPageCssVariables.lastSectionMargin]: 0,\n    '& section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'none'\n    },\n    // explanation why first-child selector is not sufficient here:\n    // https://stackoverflow.com/questions/7128406/css-select-the-first-child-from-elements-with-particular-attribute\n    '& section[id*=\"ObjectPageSection-\"] ~ section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'block'\n    },\n    '& section[data-component-name=\"ObjectPageSection\"]:last-of-type': {\n      marginBottom: `var(${ObjectPageCssVariables.lastSectionMargin})`\n    }\n  },\n  '@global html': {\n    [ObjectPageCssVariables.anchorFloat]: 'right',\n    [ObjectPageCssVariables.anchorRight]: '1.25rem',\n    [ObjectPageCssVariables.anchorLeft]: 'unset'\n  },\n  '@global [dir=\"rtl\"]': {\n    [ObjectPageCssVariables.anchorFloat]: 'left',\n    [ObjectPageCssVariables.anchorRight]: 'unset',\n    [ObjectPageCssVariables.anchorLeft]: '1.25rem'\n  },\n  iconTabBarMode: {\n    '& section[data-component-name=\"ObjectPageSection\"] > div[role=\"heading\"]': {\n      display: 'none'\n    }\n  },\n  headerCollapsed: {\n    [DynamicPageCssVariables.headerDisplay]: 'none'\n  },\n  headerContainer: {\n    marginBottom: '0.25rem',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    display: 'grid',\n    gridAutoColumns: 'min-content calc(100% - 5rem - 2rem)' /*avatar size - padding */,\n    '& [data-component-name=\"ObjectPageHeaderContent\"]': {\n      gridColumn: 2\n    }\n  },\n  headerHoverStyles: {\n    '&[data-not-clickable=\"true\"]': {\n      cursor: 'unset'\n    },\n    '&[data-not-clickable=\"false\"]': {\n      // TODO background color should be sapObjectHeader_Hover_Background (same color as sapTile_Active_Background)\n      backgroundColor: `${ThemingParameters.sapTile_Active_Background}`,\n      '& [data-component-name=\"DynamicPageTitle\"]': {\n        backgroundColor: ThemingParameters.sapTile_Active_Background\n      }\n    }\n  },\n  header: {\n    [DynamicPageCssVariables.headerDisplay]: 'block',\n    boxSizing: 'border-box',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    top: 0,\n    zIndex: 2,\n    '& [data-component-name=\"DynamicPageTitle\"]': {\n      gridColumn: 2,\n      paddingLeft: 0,\n      paddingRight: 0\n    },\n    cursor: 'pointer'\n  },\n  iEClass: {\n    position: 'fixed',\n    width: 'calc(100% - 18px)'\n  },\n  headerImage: {\n    minWidth: '5rem',\n    maxWidth: '5rem',\n    maxHeight: '5rem',\n    display: 'inline-block',\n    marginRight: '2rem'\n  },\n  headerImageRtl: {\n    marginRight: 0,\n    marginLeft: '2rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  anchorBar: {\n    position: 'sticky',\n    zIndex: 2\n  },\n  tabContainer: {\n    position: 'sticky',\n    zIndex: 1\n  },\n  footer: {\n    position: 'sticky',\n    bottom: '0.5rem',\n    margin: '0 0.5rem'\n  }\n};\n","/* eslint-disable no-underscore-dangle */\nimport { html, scopeTag } from '@ui5/webcomponents-base/dist/renderer/LitRenderer.js';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport Icon from '@ui5/webcomponents/dist/Icon.js';\nimport Tab from '@ui5/webcomponents/dist/Tab.js';\nimport TabContainer from '@ui5/webcomponents/dist/TabContainer.js';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\nimport { DetailedHTMLProps, HTMLAttributes, MouseEventHandler } from 'react';\n\ninterface ObjectPageAnchorTabPropTypes extends HTMLAttributes<HTMLElement> {\n  text: string;\n  'with-sub-sections'?: boolean;\n  selected?: boolean;\n}\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace JSX {\n    interface IntrinsicElements {\n      'ui5-object-page-anchor-tab': DetailedHTMLProps<ObjectPageAnchorTabPropTypes, HTMLElement>;\n    }\n  }\n}\n\nconst metadata = {\n  tag: 'ui5-object-page-anchor-tab',\n  properties: {\n    withSubSections: {\n      type: Boolean\n    }\n  },\n  events: {\n    'show-sub-sections': {}\n  }\n};\n\nclass ObjectPageAnchorTab extends Tab {\n  static get metadata() {\n    return metadata;\n  }\n\n  static get dependencies() {\n    return [Icon];\n  }\n\n  static get stripTemplate() {\n    return (context, tags, suffix) => {\n      return html` <div\n        id=\"${ifDefined(context._id)}\"\n        class=\"${ifDefined(context.stripClasses)}\"\n        tabindex=\"${ifDefined(context._tabIndex)}\"\n        role=\"tab\"\n        aria-posinset=\"${ifDefined(context._posinset)}\"\n        aria-setsize=\"${ifDefined(context._setsize)}\"\n        aria-controls=\"ui5-tc-contentItem-${ifDefined(context._posinset)}\"\n        aria-selected=\"${ifDefined(context.effectiveSelected)}\"\n        aria-disabled=\"${ifDefined(context.effectiveDisabled)}\"\n        ?disabled=\"${context.effectiveDisabled}\"\n        aria-labelledby=\"${ifDefined(context.ariaLabelledBy)}\"\n        data-ui5-stable=\"${ifDefined(context.stableDomRef)}\"\n        style=\"list-style-type: none;\"\n      >\n        <div class=\"ui5-tab-strip-itemContent\">\n          ${context.text\n            ? html`<span\n                class=\"ui5-tab-strip-itemText\"\n                id=\"${ifDefined(context._id)}-text\"\n                ?data-active=\"${ifDefined(context.withSubSections)}\"\n              >\n                ${ifDefined(context.text)}\n              </span>`\n            : undefined}\n          ${context.withSubSections\n            ? html`<${scopeTag('ui5-icon', tags, suffix)}\n                name=\"slim-arrow-down\"\n                class=\"objectPageSubSectionsIcon\"\n                interactive\n                @click=\"${context._handleOnSubSectionsClick}\"\n              />`\n            : undefined}\n        </div>\n      </div>`;\n    };\n  }\n\n  _handleOnSubSectionsClick: MouseEventHandler<HTMLElement> = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    this.fireEvent('show-sub-sections', {\n      targetRef: (e.target as any).parentElement.parentElement\n    });\n  };\n\n  // maybe we can look into a custom overflow template as well\n  // static get overflowTemplate() {\n  //   return (context, tags, suffix) => {\n  //     setTags(tags);\n  //     setSuffix(suffix);\n  //     return html`<ui5-li-custom\n  //       id=\"${ifDefined(context._id)}\"\n  //       class=\"${ifDefined(context.overflowClasses)}\"\n  //       type=\"${ifDefined(context.overflowState)}\"\n  //       ?selected=\"${context.effectiveSelected}\"\n  //       ?disabled=\"${context.effectiveDisabled}\"\n  //       aria-disabled=\"${ifDefined(context.effectiveDisabled)}\"\n  //       aria-selected=\"${ifDefined(context.effectiveSelected)}\"\n  //       aria-labelledby=\"${ifDefined(context.ariaLabelledBy)}\"\n  //     >\n  //       <div class=\"ui5-tab-overflow-itemContent\">${ifDefined(context.text)}</div>\n  //     </ui5-li-custom>`;\n  //   };\n  // }\n}\n\nTabContainer.registerTabStyles(`\n\n:host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tab-strip-itemContent {\n  display: flex;\n  align-items: center;\n  pointer-events: all;\n  flex-direction: row;\n}\n\n.objectPageSubSectionsIcon {\n  padding-left: 0.625rem;\n}\n\n.objectPageSubSectionsIcon[interactive]:hover {\n  color: ${ThemingParameters.sapContent_IconColor};\n}\n\n:host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tab-strip-itemText[data-active]:hover {\n  color: ${ThemingParameters.sapButton_Lite_Hover_TextColor};\n}\n`);\n// TabContainer.registerStaticAreaTabStyles(overflowCss);\n\nexport { ObjectPageAnchorTab };\n","import { Children, ReactElement, ReactNode, RefObject } from 'react';\n\nexport const safeGetChildrenArray = <T = Exclude<ReactNode, boolean | null | undefined>>(children: unknown): T[] =>\n  Children.toArray(children).filter(Boolean) as T[];\n\nexport const getSectionById = (sections: ReactElement<any> | ReactElement<any>[], id) => {\n  return safeGetChildrenArray(sections).find((objectPageSection: ReactElement) => objectPageSection.props?.id === id);\n};\n\nexport const extractSectionIdFromHtmlId = (id: string) => {\n  if (!id) return null;\n  return id.replace(/^ObjectPageSection-/, '');\n};\n\nexport const getLastObjectPageSection = (ref: RefObject<HTMLDivElement>, alwaysSetMargin): HTMLElement => {\n  const sections = ref.current?.querySelectorAll<HTMLElement>('[id^=\"ObjectPageSection\"]');\n\n  if (!sections || sections.length < 1) {\n    return null;\n  }\n  if (!alwaysSetMargin && sections.length === 1) {\n    if (sections[0].querySelectorAll('[id^=\"ObjectPageSubSection\"]').length === 0) {\n      return null;\n    }\n  }\n\n  return sections[sections.length - 1];\n};\n","import { getEffectiveScopingSuffixForTag } from '@ui5/webcomponents-base/dist/CustomElementsScope.js';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down.js';\nimport React, { FC, ReactElement, useEffect, useRef } from 'react';\nimport { ObjectPageSectionPropTypes } from '../ObjectPageSection';\nimport { ObjectPageAnchorTab } from './ObjectPageAnchorTab';\nimport { safeGetChildrenArray } from './ObjectPageUtils';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nObjectPageAnchorTab.define();\n\nconst tagName = 'ui5-object-page-anchor-tab';\n\ninterface ObjectPageAnchorPropTypes {\n  section: ReactElement<ObjectPageSectionPropTypes>;\n  onShowSubSectionPopover: (event: any, section: any) => void;\n  index: number;\n  selected: boolean;\n}\n\nexport const ObjectPageAnchorButton: FC<ObjectPageAnchorPropTypes> = (props: ObjectPageAnchorPropTypes) => {\n  const ref = useRef<HTMLElement>();\n  const { section, index, selected, onShowSubSectionPopover } = props;\n\n  const hasSubSections = safeGetChildrenArray<any>(section.props.children).some(\n    (subSection) => subSection?.type?.displayName === 'ObjectPageSubSection'\n  );\n\n  useEffect(() => {\n    const listener = (e) => {\n      onShowSubSectionPopover(e, section);\n    };\n    const el = ref.current;\n    el.addEventListener('show-sub-sections', listener);\n    return () => {\n      el?.removeEventListener('show-sub-sections', listener);\n    };\n  }, [onShowSubSectionPopover]);\n\n  const tagNameSuffix: string = getEffectiveScopingSuffixForTag(tagName);\n  const Component = (tagNameSuffix ? `${tagName}-${tagNameSuffix}` : tagName) as any;\n\n  return (\n    <Component\n      ref={ref}\n      data-index={index}\n      data-section-id={section.props.id}\n      text={section.props.titleText}\n      selected={selected || undefined}\n      with-sub-sections={hasSubSections || undefined}\n    />\n  );\n};\n","import { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming.js';\nimport { useIsRTL, useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { debounce, enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { AvatarPropTypes } from '@ui5/webcomponents-react/dist/Avatar';\nimport { AvatarSize } from '@ui5/webcomponents-react/dist/AvatarSize';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/dist/GlobalStyleClasses';\nimport { List } from '@ui5/webcomponents-react/dist/List';\nimport { ObjectPageMode } from '@ui5/webcomponents-react/dist/ObjectPageMode';\nimport { Popover } from '@ui5/webcomponents-react/dist/Popover';\nimport { PopoverPlacementType } from '@ui5/webcomponents-react/dist/PopoverPlacementType';\nimport { StandardListItem } from '@ui5/webcomponents-react/dist/StandardListItem';\nimport { TabContainer } from '@ui5/webcomponents-react/dist/TabContainer';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, {\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { PopoverHorizontalAlign } from '../../enums/PopoverHorizontalAlign';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { PopoverDomRef } from '../../webComponents/Popover';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { useObserveHeights } from '../../internal/useObserveHeights';\nimport { useResponsiveContentPadding } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { DynamicPageAnchorBar } from '../DynamicPageAnchorBar';\nimport { ObjectPageSectionPropTypes } from '../ObjectPageSection';\nimport { ObjectPageSubSectionPropTypes } from '../ObjectPageSubSection';\nimport { CollapsedAvatar } from './CollapsedAvatar';\nimport { ObjectPageCssVariables, styles } from './ObjectPage.jss';\nimport { ObjectPageAnchorButton } from './ObjectPageAnchorButton';\nimport {\n  extractSectionIdFromHtmlId,\n  getLastObjectPageSection,\n  getSectionById,\n  safeGetChildrenArray\n} from './ObjectPageUtils';\nimport clsx from 'clsx';\n\naddCustomCSS(\n  'ui5-tabcontainer',\n  `\n  :host([data-component-name=\"ObjectPageTabContainer\"]) .ui5-tc__header {\n    box-shadow: inset 0 -0.0625rem ${ThemingParameters.sapPageHeader_BorderColor}, 0 0.125rem 0.25rem 0 rgb(0 0 0 / 8%);\n  }\n  `\n);\n\nexport interface ObjectPagePropTypes extends Omit<CommonProps, 'placeholder'> {\n  /**\n   * Defines the the upper, always static, title section of the `ObjectPage`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `DynamicPageTitle` in order to preserve the intended design.\n   * __Note:__ If not defined otherwise the prop `showSubHeaderRight` of the `DynamicPageTitle` is set to `true` by default.\n   */\n  headerTitle?: ReactElement;\n  /**\n   * Defines the dynamic header section of the `ObjectPage`.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `DynamicPageHeader` in order to preserve the intended design.\n   */\n  headerContent?: ReactElement;\n  /**\n   * React element which defines the footer content.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `Bar` with `design={BarDesign.FloatingFooter}` in order to preserve the intended design.\n   */\n  footer?: ReactElement;\n  /**\n   * Defines the image of the `ObjectPage`. You can pass a path to an image or an `Avatar` component.\n   */\n  image?: string | ReactElement;\n  /**\n   * Defines the content area of the `ObjectPage`. It consists of sections and subsections.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `ObjectPageSection` and `ObjectPageSubSection` in order to preserve the intended design.\n   */\n  children?: ReactElement<ObjectPageSectionPropTypes> | ReactElement<ObjectPageSectionPropTypes>[];\n  /**\n   * Defines the ID of the currently `ObjectPageSection` section.\n   */\n  selectedSectionId?: string;\n  /**\n   * Defines the ID of the currently `ObjectPageSubSection` section.\n   */\n  selectedSubSectionId?: string;\n  /**\n   * Defines where modals are rendered into via `React.createPortal`.\n   *\n   * Defaults to: `document.body`\n   */\n  portalContainer?: Element;\n  /**\n   * Fired when the selected section changes.\n   */\n  onSelectedSectionChange?: (\n    event: CustomEvent<{ selectedSectionIndex: number; selectedSectionId: string; section: HTMLDivElement }>\n  ) => void;\n\n  // appearance\n  /**\n   * Defines whether the `headerContent` is hidden by scrolling down.\n   */\n  alwaysShowContentHeader?: boolean;\n  /**\n   * Defines whether the title is displayed in the content section of the header or above the image.\n   */\n  showTitleInHeaderContent?: boolean;\n  /**\n   * Defines whether the image should be displayed in a circle or in a square.<br />\n   * __Note:__ If the `image` is not a `string`, this prop has no effect.\n   */\n  imageShapeCircle?: boolean;\n  /**\n   * Defines the `ObjectPage` mode.\n   *\n   * - \"Default\": All `ObjectPageSections` and `ObjectPageSubSections` are displayed on one page. Selecting tabs will scroll to the corresponding section.\n   * - \"IconTabBar\": All `ObjectPageSections` are displayed on separate pages. Selecting tabs will lead to the corresponding page.\n   */\n  mode?: ObjectPageMode | keyof typeof ObjectPageMode;\n  /**\n   * Defines whether the pin button of the header is displayed.\n   */\n  showHideHeaderButton?: boolean;\n  /**\n   * Defines whether the `headerContent` is pinnable.\n   */\n  headerContentPinnable?: boolean;\n  /**\n   * Defines internally used a11y properties.\n   */\n  a11yConfig?: {\n    objectPageTopHeader?: {\n      role?: string;\n      ariaRoledescription?: string;\n    };\n    dynamicPageAnchorBar?: {\n      role?: string;\n    };\n  };\n  /**\n   * If set, only the specified placeholder will be displayed as content of the `ObjectPage`, no sections or sub-sections will be rendered.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use placeholder components like the `IllustratedMessage` or custom skeletons pages in order to preserve the intended design.\n   */\n  placeholder?: ReactNode;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'ObjectPage' });\n\n/**\n * A component that allows apps to easily display information related to a business object.<br />\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\nconst ObjectPage = forwardRef((props: ObjectPagePropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    headerTitle,\n    image,\n    footer,\n    mode,\n    imageShapeCircle,\n    className,\n    style,\n    tooltip,\n    slot,\n    showHideHeaderButton,\n    children,\n    onSelectedSectionChange,\n    selectedSectionId,\n    alwaysShowContentHeader,\n    showTitleInHeaderContent,\n    headerContent,\n    headerContentPinnable,\n    a11yConfig,\n    placeholder,\n    portalContainer,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('ObjectPage', props.tooltip);\n\n  const classes = useStyles();\n\n  const firstSectionId = safeGetChildrenArray<ReactElement>(children)[0]?.props?.id;\n\n  const [internalSelectedSectionId, setInternalSelectedSectionId] = useState(selectedSectionId ?? firstSectionId);\n  const [selectedSubSectionId, setSelectedSubSectionId] = useState(props.selectedSubSectionId);\n  const [headerPinned, setHeaderPinned] = useState(alwaysShowContentHeader);\n  const isProgrammaticallyScrolled = useRef(false);\n\n  const [componentRef, objectPageRef] = useSyncRef(ref);\n  const topHeaderRef: RefObject<HTMLDivElement> = useRef();\n  const scrollEvent = useRef();\n  //@ts-ignore\n  const [componentRefHeaderContent, headerContentRef] = useSyncRef(headerContent?.ref);\n  const anchorBarRef: RefObject<HTMLDivElement> = useRef();\n  const scrollTimeout = useRef(null);\n  const [isAfterScroll, setIsAfterScroll] = useState(false);\n\n  const prevInternalSelectedSectionId = useRef(internalSelectedSectionId);\n  const fireOnSelectedChangedEvent = (targetEvent, index, id, section) => {\n    if (typeof onSelectedSectionChange === 'function' && prevInternalSelectedSectionId.current !== id) {\n      onSelectedSectionChange(\n        enrichEventWithDetails(targetEvent, {\n          selectedSectionIndex: parseInt(index, 10),\n          selectedSectionId: id,\n          section\n        })\n      );\n      prevInternalSelectedSectionId.current = id;\n    }\n  };\n  const debouncedOnSectionChange = useRef(debounce(fireOnSelectedChangedEvent, 500)).current;\n\n  useEffect(() => {\n    return () => {\n      debouncedOnSectionChange.cancel();\n      clearTimeout(scrollTimeout.current);\n    };\n  }, []);\n\n  const isRTL = useIsRTL(objectPageRef);\n  const responsivePaddingClass = useResponsiveContentPadding(objectPageRef.current);\n\n  // observe heights of header parts\n  const { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight } = useObserveHeights(\n    objectPageRef,\n    topHeaderRef,\n    headerContentRef,\n    anchorBarRef,\n    { noHeader: !headerTitle && !headerContent }\n  );\n\n  const avatar = useMemo(() => {\n    if (!image) {\n      return null;\n    }\n    const headerImageClasses = clsx(classes.headerImage, isRTL && classes.headerImageRtl);\n\n    if (typeof image === 'string') {\n      return (\n        <span className={headerImageClasses} style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}>\n          <img src={image} className={classes.image} alt=\"Company Logo\" />\n        </span>\n      );\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: clsx(headerImageClasses, image.props?.className)\n      } as AvatarPropTypes);\n    }\n  }, [image, classes.headerImage, classes.headerImageRtl, classes.image, imageShapeCircle, isRTL]);\n\n  const prevTopHeaderHeight = useRef(0);\n  const scrollToSection = useCallback(\n    (sectionId) => {\n      if (!sectionId) {\n        return;\n      }\n      if (firstSectionId === sectionId) {\n        objectPageRef.current?.scrollTo({ top: 0, behavior: 'smooth' });\n      } else {\n        const childOffset = objectPageRef.current?.querySelector<HTMLElement>(\n          `#ObjectPageSection-${sectionId}`\n        )?.offsetTop;\n        if (!isNaN(childOffset)) {\n          let safeTopHeaderHeight = topHeaderHeight || prevTopHeaderHeight.current;\n          if (topHeaderHeight) {\n            prevTopHeaderHeight.current = topHeaderHeight;\n          }\n          objectPageRef.current?.scrollTo({\n            top: childOffset - safeTopHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0),\n            behavior: 'smooth'\n          });\n        }\n      }\n      isProgrammaticallyScrolled.current = false;\n    },\n    [\n      firstSectionId,\n      objectPageRef,\n      topHeaderHeight,\n      anchorBarHeight,\n      headerPinned,\n      headerContentHeight,\n      prevTopHeaderHeight.current\n    ]\n  );\n\n  const programmaticallySetSection = () => {\n    const currentId = selectedSectionId ?? firstSectionId;\n    if (currentId !== prevSelectedSectionId.current) {\n      debouncedOnSectionChange.cancel();\n      isProgrammaticallyScrolled.current = true;\n      setInternalSelectedSectionId(currentId);\n      prevSelectedSectionId.current = currentId;\n      const sections = objectPageRef.current?.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n      const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection: ReactElement, index) => {\n        return objectPageSection.props?.id === currentId;\n      });\n      fireOnSelectedChangedEvent({} as any, currentIndex, currentId, sections[0]);\n    }\n  };\n\n  // change selected section when prop is changed (external change)\n  const prevSelectedSectionId = useRef();\n  const [timeStamp, setTimeStamp] = useState(0);\n  const requestAnimationFrameRef = useRef<undefined | number>();\n  useEffect(() => {\n    if (selectedSectionId) {\n      if (mode === ObjectPageMode.Default) {\n        // wait for DOM draw, otherwise initial scroll won't work as intended\n        if (timeStamp < 750 && timeStamp !== undefined) {\n          requestAnimationFrameRef.current = requestAnimationFrame((internalTimestamp) => {\n            setTimeStamp(internalTimestamp);\n          });\n        } else {\n          setTimeStamp(undefined);\n          programmaticallySetSection();\n        }\n      } else {\n        programmaticallySetSection();\n      }\n    }\n    return () => {\n      cancelAnimationFrame(requestAnimationFrameRef.current);\n    };\n  }, [timeStamp, selectedSectionId, firstSectionId, debouncedOnSectionChange]);\n\n  // section was selected by clicking on the anchor bar buttons\n  const handleOnSectionSelected = useCallback(\n    (targetEvent, newSelectionSectionId, index, section) => {\n      isProgrammaticallyScrolled.current = true;\n      debouncedOnSectionChange.cancel();\n      setInternalSelectedSectionId((oldSelectedSection) => {\n        if (oldSelectedSection === newSelectionSectionId) {\n          scrollToSection(newSelectionSectionId);\n        }\n        return newSelectionSectionId;\n      });\n      scrollEvent.current = targetEvent;\n      fireOnSelectedChangedEvent(targetEvent, index, newSelectionSectionId, section);\n    },\n    [onSelectedSectionChange, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]\n  );\n\n  // do internal scrolling\n  useEffect(() => {\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true && !selectedSubSectionId) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, mode, isProgrammaticallyScrolled, scrollToSection, selectedSubSectionId]);\n\n  // Scrolling for Sub Section Selection\n  useEffect(() => {\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      const currentSubSection = objectPageRef.current?.querySelector<HTMLElement>(\n        `div[id=\"ObjectPageSubSection-${selectedSubSectionId}\"]`\n      );\n      const childOffset = currentSubSection?.offsetTop;\n      if (!isNaN(childOffset)) {\n        currentSubSection.focus();\n        objectPageRef.current?.scrollTo({\n          top:\n            childOffset -\n            topHeaderHeight -\n            anchorBarHeight -\n            48 /*tabBar*/ -\n            (headerPinned ? headerContentHeight : 0) -\n            16,\n          behavior: 'smooth'\n        });\n      }\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [\n    selectedSubSectionId,\n    isProgrammaticallyScrolled.current,\n    topHeaderHeight,\n    anchorBarHeight,\n    headerPinned,\n    headerContentHeight\n  ]);\n\n  useEffect(() => {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n\n  useEffect(() => {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        let sectionId;\n        safeGetChildrenArray<ReactElement<ObjectPageSectionPropTypes>>(children).forEach((section) => {\n          if (React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(\n              (subSection: ReactElement<ObjectPageSubSectionPropTypes>) => {\n                if (\n                  React.isValidElement(subSection) &&\n                  subSection.props &&\n                  subSection.props.id === props.selectedSubSectionId\n                ) {\n                  sectionId = section.props?.id;\n                }\n              }\n            );\n          }\n        });\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [props.selectedSubSectionId, setInternalSelectedSectionId, setSelectedSubSectionId, children, mode]);\n\n  useEffect(() => {\n    const fillerDivObserver = new ResizeObserver(() => {\n      let heightDiff = 0;\n      const maxHeight = Math.min(objectPageRef.current?.clientHeight, window.innerHeight);\n      const availableScrollHeight = maxHeight - totalHeaderHeight;\n      const lastSectionDomRef = getLastObjectPageSection(objectPageRef, !!footer && mode === ObjectPageMode.IconTabBar);\n\n      if (lastSectionDomRef) {\n        const subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n        let lastSubSectionHeight;\n        if (subSections.length > 0) {\n          lastSubSectionHeight = (subSections[subSections.length - 1] as HTMLElement).offsetHeight;\n        } else {\n          lastSubSectionHeight =\n            lastSectionDomRef.offsetHeight -\n            lastSectionDomRef.querySelector<HTMLElement>(\"[role='heading']\").offsetHeight;\n        }\n\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n      const lastSectionMargin = footer ? `calc(${heightDiff}px + 1rem)` : `${heightDiff}px`;\n      objectPageRef.current?.style.setProperty(ObjectPageCssVariables.lastSectionMargin, lastSectionMargin);\n    });\n\n    fillerDivObserver.observe(objectPageRef.current);\n\n    return () => {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children, mode, footer]);\n\n  const handleOnSubSectionSelected = useCallback(\n    (e) => {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        const sectionId = e.detail.section.props?.id;\n        setInternalSelectedSectionId(sectionId);\n\n        const sections = objectPageRef.current?.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n        const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection: ReactElement) => {\n          return objectPageSection.props?.id === sectionId;\n        });\n        debouncedOnSectionChange(e, currentIndex, sectionId, sections[currentIndex]);\n      }\n      const subSection = e.detail.subSection;\n      setSelectedSubSectionId(subSection.props.id);\n    },\n    [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled, children]\n  );\n  const [scrolledHeaderExpanded, setScrolledHeaderExpanded] = useState(false);\n  const scrollTimout = useRef(0);\n  const onToggleHeaderContentVisibility = (e) => {\n    scrollTimout.current = performance.now() + 500;\n    if (!e.detail.visible) {\n      objectPageRef.current?.classList.add(classes.headerCollapsed);\n    } else {\n      setScrolledHeaderExpanded(true);\n      objectPageRef.current?.classList.remove(classes.headerCollapsed);\n    }\n  };\n\n  const objectPageClasses = clsx(\n    classes.objectPage,\n    GlobalStyleClasses.sapScrollBar,\n    className,\n    mode === ObjectPageMode.IconTabBar && classes.iconTabBarMode\n  );\n\n  const { onScroll: _0, selectedSubSectionId: _1, ...propsWithoutOmitted } = rest;\n\n  useEffect(() => {\n    const sections = objectPageRef.current?.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]');\n    const objectPageHeight = objectPageRef.current?.clientHeight ?? 1000;\n    const marginBottom = objectPageHeight - totalHeaderHeight - /*TabContainer*/ 48;\n    const rootMargin = `-${totalHeaderHeight}px 0px -${marginBottom < 0 ? 0 : marginBottom}px 0px`;\n    const observer = new IntersectionObserver(\n      ([section]) => {\n        if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n          if (\n            objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n            section.target.getBoundingClientRect().bottom\n          ) {\n            const currentId = extractSectionIdFromHtmlId(section.target.id);\n            setInternalSelectedSectionId(currentId);\n            const currentIndex = safeGetChildrenArray(children).findIndex((objectPageSection: ReactElement) => {\n              return objectPageSection.props?.id === currentId;\n            });\n            debouncedOnSectionChange(scrollEvent.current, currentIndex, currentId, section.target);\n          }\n        }\n      },\n      {\n        root: objectPageRef.current,\n        rootMargin,\n        threshold: [0]\n      }\n    );\n    // Fallback when scrolling faster than the IntersectionObserver can observe (in most cases faster than 60fps)\n    if (isAfterScroll) {\n      let currentSection = sections[sections.length - 1];\n      let currentIndex;\n      for (let i = 0; i <= sections.length - 1; i++) {\n        const section = sections[i];\n        if (\n          objectPageRef.current.getBoundingClientRect().top + totalHeaderHeight + 48 <=\n          section.getBoundingClientRect().bottom\n        ) {\n          currentSection = section;\n          currentIndex = i;\n          break;\n        }\n      }\n      const currentSectionId = extractSectionIdFromHtmlId(currentSection?.id);\n      if (currentSectionId !== internalSelectedSectionId) {\n        setInternalSelectedSectionId(currentSectionId);\n        debouncedOnSectionChange(\n          scrollEvent.current,\n          currentIndex ?? sections.length - 1,\n          currentSectionId,\n          currentSection\n        );\n      }\n      setIsAfterScroll(false);\n    }\n\n    sections.forEach((el) => {\n      observer.observe(el);\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [\n    objectPageRef.current,\n    children,\n    totalHeaderHeight,\n    setInternalSelectedSectionId,\n    isProgrammaticallyScrolled,\n    isAfterScroll\n  ]);\n\n  const titleHeaderNotClickable =\n    (alwaysShowContentHeader && !headerContentPinnable) ||\n    !headerContent ||\n    (!showHideHeaderButton && !headerContentPinnable);\n\n  const onTitleClick = useCallback(\n    (e) => {\n      if (!titleHeaderNotClickable) {\n        onToggleHeaderContentVisibility(enrichEventWithDetails(e, { visible: !headerContentHeight }));\n      }\n    },\n    [onToggleHeaderContentVisibility, headerContentHeight, titleHeaderNotClickable]\n  );\n\n  const renderTitleSection = useCallback(\n    (inHeader = false) => {\n      const titleStyles = { ...(inHeader ? { padding: 0 } : {}), ...(headerTitle?.props?.style ?? {}) };\n\n      if (headerTitle?.props && headerTitle.props?.showSubHeaderRight === undefined) {\n        return React.cloneElement(headerTitle, {\n          showSubHeaderRight: true,\n          style: titleStyles,\n          'data-not-clickable': titleHeaderNotClickable,\n          onToggleHeaderContentVisibility: onTitleClick\n        });\n      }\n      return React.cloneElement(headerTitle, {\n        style: titleStyles,\n        'data-not-clickable': titleHeaderNotClickable,\n        onToggleHeaderContentVisibility: onTitleClick\n      });\n    },\n    [headerTitle, titleHeaderNotClickable, onTitleClick]\n  );\n\n  const renderHeaderContentSection = useCallback(() => {\n    if (headerContent?.props) {\n      return React.cloneElement(headerContent, {\n        ...headerContent.props,\n        topHeaderHeight,\n        headerPinned: headerPinned || scrolledHeaderExpanded,\n        ref: componentRefHeaderContent,\n        children: (\n          <div\n            className={`${classes.headerContainer} ${responsivePaddingClass}`}\n            data-component-name=\"ObjectPageHeaderContainer\"\n          >\n            {avatar}\n            {headerContent.props.children && (\n              <div data-component-name=\"ObjectPageHeaderContent\">\n                {headerTitle && showTitleInHeaderContent && renderTitleSection(true)}\n                {headerContent.props.children}\n              </div>\n            )}\n          </div>\n        )\n      });\n    }\n  }, [\n    headerContent,\n    topHeaderHeight,\n    headerPinned,\n    scrolledHeaderExpanded,\n    showTitleInHeaderContent,\n    avatar,\n    headerContentRef,\n    renderTitleSection,\n    responsivePaddingClass\n  ]);\n\n  const paddingLeftRtl = isRTL ? 'paddingLeft' : 'paddingRight';\n\n  const onTabItemSelect = useCallback(\n    (event) => {\n      const { sectionId, index } = event.detail.tab.dataset;\n      const section = safeGetChildrenArray<ReactElement>(children).find((el) => el.props.id == sectionId);\n      handleOnSectionSelected(event, section?.props?.id, index, section);\n    },\n    [children]\n  );\n  const [popoverContent, setPopoverContent] = useState<ReactElement>(null);\n  const popoverRef = useRef<PopoverDomRef>(null);\n  const onShowSubSectionPopover = useCallback(\n    (e, section) => {\n      setPopoverContent(section);\n      popoverRef.current.showAt(e.detail.targetRef);\n    },\n    [setPopoverContent, popoverRef]\n  );\n\n  const onSubSectionClick = useCallback(\n    (e) => {\n      const selectedId = e.detail.item.dataset.key;\n      const subSection = popoverContent.props.children\n        .filter((item) => item?.type?.displayName === 'ObjectPageSubSection')\n        .find((item) => item.props.id === selectedId);\n      if (subSection) {\n        handleOnSubSectionSelected(enrichEventWithDetails(e, { section: popoverContent, subSection }));\n      }\n      popoverRef.current.close();\n    },\n    [handleOnSubSectionSelected, popoverRef, popoverContent]\n  );\n  const prevScrollTop = useRef();\n  const onObjectPageScroll = useCallback(\n    (e) => {\n      if (scrollTimout.current >= performance.now()) {\n        return;\n      }\n      scrollEvent.current = e;\n      if (typeof props.onScroll === 'function') {\n        props.onScroll(e);\n      }\n      if (selectedSubSectionId) {\n        setSelectedSubSectionId(undefined);\n      }\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      scrollTimeout.current = setTimeout(() => {\n        setIsAfterScroll(true);\n      }, 100);\n      if (!headerPinned || e.target.scrollTop === 0) {\n        objectPageRef.current?.classList.remove(classes.headerCollapsed);\n      }\n      if (scrolledHeaderExpanded && e.target.scrollTop !== prevScrollTop.current) {\n        if (e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight) {\n          return;\n        }\n        prevScrollTop.current = e.target.scrollTop;\n        setScrolledHeaderExpanded(false);\n      }\n    },\n    [\n      scrollTimout.current,\n      topHeaderHeight,\n      headerPinned,\n      props.onScroll,\n      objectPageRef.current,\n      scrolledHeaderExpanded,\n      prevScrollTop.current,\n      selectedSubSectionId,\n      scrollTimeout.current\n    ]\n  );\n\n  const onHoverToggleButton = useCallback(\n    (e) => {\n      if (e?.type === 'mouseover') {\n        topHeaderRef.current?.classList.add(classes.headerHoverStyles);\n      } else {\n        topHeaderRef.current?.classList.remove(classes.headerHoverStyles);\n      }\n    },\n    [classes.headerHoverStyles]\n  );\n\n  return (\n    <div\n      data-component-name=\"ObjectPage\"\n      slot={slot}\n      className={objectPageClasses}\n      style={style}\n      ref={componentRef}\n      title={tooltip}\n      onScroll={onObjectPageScroll}\n      {...propsWithoutOmitted}\n    >\n      <header\n        onMouseOver={onHoverToggleButton}\n        onMouseLeave={onHoverToggleButton}\n        data-component-name=\"ObjectPageTopHeader\"\n        ref={topHeaderRef}\n        role={a11yConfig?.objectPageTopHeader?.role ?? 'banner'}\n        data-not-clickable={titleHeaderNotClickable}\n        aria-roledescription={a11yConfig?.objectPageTopHeader?.ariaRoledescription ?? 'Object Page header'}\n        className={`${classes.header} ${responsivePaddingClass}`}\n        onClick={onTitleClick}\n        style={{\n          gridAutoColumns: `min-content ${\n            headerTitle && image && headerContentHeight === 0 ? `calc(100% - 3rem - 1rem)` : '100%'\n          }`,\n          display: !showTitleInHeaderContent || headerContentHeight === 0 ? 'grid' : 'none'\n        }}\n      >\n        {headerTitle && image && headerContentHeight === 0 && (\n          <CollapsedAvatar image={image} imageShapeCircle={imageShapeCircle} style={{ [paddingLeftRtl]: '1rem' }} />\n        )}\n        {headerTitle && renderTitleSection()}\n      </header>\n      {renderHeaderContentSection()}\n      {headerContent && headerTitle && (\n        <div\n          data-component-name=\"ObjectPageAnchorBar\"\n          ref={anchorBarRef}\n          className={classes.anchorBar}\n          style={{\n            top:\n              scrolledHeaderExpanded || headerPinned\n                ? `${topHeaderHeight + headerContentHeight}px`\n                : `${topHeaderHeight + 5}px`\n          }}\n        >\n          <DynamicPageAnchorBar\n            headerContentVisible={!!headerContentHeight}\n            headerContentPinnable={headerContentPinnable}\n            showHideHeaderButton={showHideHeaderButton}\n            onToggleHeaderContentVisibility={onToggleHeaderContentVisibility}\n            setHeaderPinned={setHeaderPinned}\n            headerPinned={headerPinned}\n            onHoverToggleButton={onHoverToggleButton}\n            a11yConfig={a11yConfig}\n          />\n        </div>\n      )}\n      {!placeholder && (\n        <div\n          className={classes.tabContainer}\n          data-component-name=\"ObjectPageTabContainer\"\n          style={{\n            top:\n              headerPinned || scrolledHeaderExpanded\n                ? `${topHeaderHeight + headerContentHeight}px`\n                : `${topHeaderHeight}px`\n          }}\n        >\n          <TabContainer collapsed fixed onTabSelect={onTabItemSelect} data-component-name=\"ObjectPageTabContainer\">\n            {safeGetChildrenArray(children).map((section: ReactElement, index) => {\n              if (!section.props) return null;\n              return (\n                <ObjectPageAnchorButton\n                  key={`Anchor-${section.props?.id}`}\n                  section={section}\n                  index={index}\n                  selected={internalSelectedSectionId === section.props?.id}\n                  onShowSubSectionPopover={onShowSubSectionPopover}\n                />\n              );\n            })}\n          </TabContainer>\n          {createPortal(\n            <Popover\n              placementType={PopoverPlacementType.Bottom}\n              horizontalAlign={PopoverHorizontalAlign.Left}\n              hideArrow\n              ref={popoverRef}\n              onAfterClose={stopPropagation}\n            >\n              <List onItemClick={onSubSectionClick}>\n                {popoverContent?.props?.children\n                  .filter((item) => item?.type?.displayName === 'ObjectPageSubSection')\n                  .map((item) => (\n                    <StandardListItem key={item.props.id} data-key={item.props.id}>\n                      {item.props.titleText}\n                    </StandardListItem>\n                  ))}\n              </List>\n            </Popover>,\n            portalContainer\n          )}\n        </div>\n      )}\n      <div data-component-name=\"ObjectPageContent\" className={responsivePaddingClass}>\n        {placeholder\n          ? placeholder\n          : mode === ObjectPageMode.IconTabBar\n          ? getSectionById(children, internalSelectedSectionId)\n          : children}\n      </div>\n      {footer && <div style={{ height: '1rem' }} data-component-name=\"ObjectPageFooterSpacer\" />}\n      {footer && (\n        <footer className={classes.footer} data-component-name=\"ObjectPageFooter\">\n          {footer}\n        </footer>\n      )}\n    </div>\n  );\n});\n\nObjectPage.displayName = 'ObjectPage';\n\nObjectPage.defaultProps = {\n  image: null,\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false,\n  portalContainer: document.body\n};\n\nexport { ObjectPage };\n"],"names":["PopoverHorizontalAlign","useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","stopPropagation","e","stopImmediatePropagation","useObserveHeights","objectPage","topHeader","headerContentRef","anchorBarRef","noHeader","useState","topHeaderHeight","setTopHeaderHeight","headerContentHeight","setHeaderContentHeight","isIntersecting","setIsIntersecting","headerIntersectionObserver","IntersectionObserver","header","rootMargin","root","current","threshold","observe","disconnect","headerContentResizeObserver","ResizeObserver","borderBoxSize","Array","isArray","blockSize","target","getBoundingClientRect","height","headerContent","anchorBarHeight","offsetHeight","totalHeaderHeight","addCustomCSS","anchorBarStyles","anchorBarActionButton","position","top","marginLeft","left","zIndex","content","width","right","backgroundImage","ThemingParameters","sapHighlightColor","anchorBarActionButtonRtl","marginRight","anchorBarActionButtonExpandable","anchorBarActionButtonPinnable","anchorBarActionPinnableAndExpandable","backgroundColor","anchorBarActionPinnableAndExpandableRtl","useStyles","createUseStyles","name","DynamicPageAnchorBar","forwardRef","props","ref","showHideHeaderButton","headerContentVisible","headerContentPinnable","headerPinned","setHeaderPinned","onToggleHeaderContentVisibility","onHoverToggleButton","style","a11yConfig","classes","useSyncRef","componentRef","isRTL","useIsRTL","shouldRenderHeaderPinnableButton","showBothActions","onPinHeader","useCallback","pressed","anchorBarActionButtonClasses","clsx","bothActionClasses","onToggleHeaderButtonClick","enrichEventWithDetails","visible","i18nBundle","useI18nBundle","dynamicPageAnchorBar","role","getText","EXPAND_HEADER","COLLAPSE_HEADER","UNPIN_HEADER","PIN_HEADER","displayName","styles","base","alignSelf","opacity","hidden","transition","imageContainer","display","verticalAlign","maxHeight","maxWidth","image","CollapsedAvatar","imageShapeCircle","isMounted","setIsMounted","domRef","useRef","avatarContent","useMemo","borderRadius","overflow","React","cloneElement","size","AvatarSize","S","className","containerClasses","DynamicPageCssVariables","headerDisplay","dynamicPage","whiteSpace","fontFamily","sapFontFamily","sapBackgroundColor","overflowX","overflowY","headerCollapsed","anchorBar","boxShadow","sapContent_HeaderShadow","iEClass","iEBackgroundElement","sapObjectHeader_Background","contentContainer","paddingTop","boxSizing","backgroundStandard","background","backgroundSolid","backgroundList","sapGroup_ContentBackground","backgroundTransparent","footer","bottom","margin","ObjectPageCssVariables","anchorFloat","anchorLeft","anchorRight","lastSectionMargin","marginBottom","iconTabBarMode","headerContainer","gridAutoColumns","gridColumn","headerHoverStyles","cursor","sapTile_Active_Background","paddingLeft","paddingRight","headerImage","minWidth","headerImageRtl","tabContainer","metadata","tag","properties","withSubSections","type","Boolean","events","ObjectPageAnchorTab","preventDefault","fireEvent","targetRef","parentElement","Icon","context","tags","suffix","html","ifDefined","_id","stripClasses","_tabIndex","_posinset","_setsize","effectiveSelected","effectiveDisabled","ariaLabelledBy","stableDomRef","text","undefined","scopeTag","_handleOnSubSectionsClick","Tab","TabContainer","registerTabStyles","sapContent_IconColor","sapButton_Lite_Hover_TextColor","safeGetChildrenArray","children","Children","toArray","filter","getSectionById","sections","id","find","objectPageSection","extractSectionIdFromHtmlId","replace","getLastObjectPageSection","alwaysSetMargin","querySelectorAll","length","define","tagName","ObjectPageAnchorButton","section","index","selected","onShowSubSectionPopover","hasSubSections","some","subSection","listener","el","addEventListener","removeEventListener","tagNameSuffix","getEffectiveScopingSuffixForTag","Component","titleText","sapPageHeader_BorderColor","ObjectPage","headerTitle","mode","slot","onSelectedSectionChange","selectedSectionId","alwaysShowContentHeader","showTitleInHeaderContent","placeholder","portalContainer","rest","firstSectionId","internalSelectedSectionId","setInternalSelectedSectionId","selectedSubSectionId","setSelectedSubSectionId","isProgrammaticallyScrolled","objectPageRef","topHeaderRef","scrollEvent","componentRefHeaderContent","scrollTimeout","isAfterScroll","setIsAfterScroll","prevInternalSelectedSectionId","fireOnSelectedChangedEvent","targetEvent","selectedSectionIndex","parseInt","debouncedOnSectionChange","debounce","cancel","clearTimeout","responsivePaddingClass","useResponsiveContentPadding","avatar","headerImageClasses","L","prevTopHeaderHeight","scrollToSection","sectionId","scrollTo","behavior","childOffset","querySelector","offsetTop","isNaN","safeTopHeaderHeight","programmaticallySetSection","currentId","prevSelectedSectionId","currentIndex","findIndex","timeStamp","setTimeStamp","requestAnimationFrameRef","ObjectPageMode","Default","requestAnimationFrame","internalTimestamp","cancelAnimationFrame","handleOnSectionSelected","newSelectionSectionId","oldSelectedSection","currentSubSection","focus","IconTabBar","forEach","isValidElement","fillerDivObserver","heightDiff","Math","min","clientHeight","window","innerHeight","availableScrollHeight","lastSectionDomRef","subSections","lastSubSectionHeight","max","setProperty","handleOnSubSectionSelected","detail","scrolledHeaderExpanded","setScrolledHeaderExpanded","scrollTimout","performance","now","classList","add","remove","objectPageClasses","GlobalStyleClasses","sapScrollBar","onScroll","propsWithoutOmitted","objectPageHeight","observer","currentSection","i","currentSectionId","titleHeaderNotClickable","onTitleClick","renderTitleSection","inHeader","titleStyles","padding","showSubHeaderRight","renderHeaderContentSection","paddingLeftRtl","onTabItemSelect","event","tab","dataset","popoverContent","setPopoverContent","popoverRef","showAt","onSubSectionClick","selectedId","item","key","close","prevScrollTop","onObjectPageScroll","setTimeout","scrollTop","scrollHeight","objectPageTopHeader","ariaRoledescription","map","createPortal","PopoverPlacementType","Bottom","Left","defaultProps","document","body"],"mappings":"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"}