{"version":3,"file":"AnalyticalTable.js","sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/AnalyticalTable/AnayticalTable.jss.ts","../src/internal/stopPropagation.ts","../src/components/AnalyticalTable/ColumnHeader/ColumnHeaderModal.tsx","../src/components/AnalyticalTable/ColumnHeader/index.tsx","../src/components/AnalyticalTable/ColumnHeader/ColumnHeaderContainer.tsx","../src/components/AnalyticalTable/defaults/FilterComponent/index.tsx","../src/components/AnalyticalTable/defaults/Column/Cell.tsx","../src/components/AnalyticalTable/defaults/Column/Expandable.tsx","../src/components/AnalyticalTable/defaults/Column/Grouped.tsx","../src/components/AnalyticalTable/defaults/Column/PopIn.tsx","../src/components/AnalyticalTable/defaults/Column/RepeatedValue.tsx","../src/components/AnalyticalTable/defaults/Column/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/TablePlaceholder.tsx","../src/components/AnalyticalTable/defaults/NoDataComponent/index.tsx","../src/components/AnalyticalTable/hooks/useDragAndDrop.ts","../src/components/AnalyticalTable/hooks/useDynamicColumnWidths.ts","../src/components/AnalyticalTable/hooks/useKeyboardNavigation.ts","../src/components/AnalyticalTable/hooks/usePopIn.ts","../src/components/AnalyticalTable/hooks/useRowHighlight.tsx","../src/components/AnalyticalTable/hooks/useRowNavigationIndicator.tsx","../src/components/AnalyticalTable/hooks/useRowSelectionColumn.tsx","../src/components/AnalyticalTable/hooks/useSingleRowStateSelection.ts","../src/components/AnalyticalTable/hooks/useStyling.ts","../src/components/AnalyticalTable/hooks/useTableScrollHandles.ts","../src/components/AnalyticalTable/hooks/useToggleRowExpand.ts","../src/components/AnalyticalTable/hooks/useVisibleColumnsWidth.ts","../src/components/AnalyticalTable/scrollbars/VerticalScrollbar.tsx","../src/components/AnalyticalTable/TableBody/RowSubComponent.tsx","../src/components/AnalyticalTable/TableBody/VirtualTableBody.tsx","../src/components/AnalyticalTable/TableBody/VirtualTableBodyContainer.tsx","../src/components/AnalyticalTable/tableReducer/stateReducer.ts","../src/components/AnalyticalTable/TitleBar/index.tsx","../src/components/AnalyticalTable/util/index.ts","../src/components/AnalyticalTable/VerticalResizer.tsx","../src/components/AnalyticalTable/index.tsx"],"sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst styles = {\n  table: {\n    position: 'relative',\n    width: '100%',\n    maxWidth: '100%',\n    overflowY: 'hidden',\n    overflowX: 'auto',\n    height: '100%',\n    minHeight: '3rem',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    backgroundColor: ThemingParameters.sapList_Background\n  },\n  tableHeaderRow: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    display: 'inline-flex',\n    '& div:first-child $th': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    }\n  },\n  hasNavigationIndicator: {\n    '& $tableHeaderRow :nth-last-child(2) $th': {\n      borderRight: 'none'\n    },\n    '& $tr :nth-last-child(2)': {\n      borderRight: 'none'\n    }\n  },\n  tableHeaderBackgroundElement: {\n    boxSizing: 'border-box',\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  th: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    color: ThemingParameters.sapList_HeaderTextColor,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    padding: `0 0.5rem`,\n    textAlign: 'start',\n    boxSizing: 'border-box',\n    '&[data-column-id=\"__ui5wcr__internal_highlight_column\"]': {\n      borderRight: '1px solid transparent'\n    },\n    '&:last-child': {\n      '& [data-resizer]': {\n        transform: 'translateX(0px)'\n      }\n    },\n    '&:focus': {\n      '&[data-column-id=\"__ui5wcr__internal_selection_column\"]': {\n        borderLeft: '1px solid transparent'\n      },\n      outlineOffset: `calc(-1 * ${ThemingParameters.sapContent_FocusWidth})`,\n      outline: `${ThemingParameters.sapContent_FocusWidth} ${ThemingParameters.sapContent_FocusStyle} ${ThemingParameters.sapContent_FocusColor}`\n    }\n  },\n  tbody: {\n    position: 'relative',\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    scrollBarWidth: 'none !important',\n    '-ms-overflow-style': 'none',\n    '&::-webkit-scrollbar': {\n      width: 0,\n      height: 0\n    }\n  },\n  alternateRowColor: {\n    backgroundColor: ThemingParameters.sapList_AlternatingBackground\n  },\n  tr: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    color: ThemingParameters.sapList_TextColor,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    boxSizing: 'border-box',\n    display: 'flex',\n    willChange: 'transform',\n    '&:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_Background\n    },\n    '&[data-is-selected]': {\n      borderBottom: `1px solid ${ThemingParameters.sapList_SelectionBorderColor}`,\n      backgroundColor: ThemingParameters.sapList_SelectionBackgroundColor\n    },\n    '&[data-is-selected]:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_SelectionBackground\n    }\n  },\n  trActive: {\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:active': {\n      backgroundColor: ThemingParameters.sapList_Active_Background,\n      '& $tableCell': {\n        borderRight: `1px solid ${ThemingParameters.sapList_Active_Background}`,\n        color: `${ThemingParameters.sapList_Active_TextColor}`,\n        '--sapTextColor': ThemingParameters.sapList_Active_TextColor\n      }\n    }\n  },\n  tableGroupHeader: {\n    '&$tr': {\n      backgroundColor: `${ThemingParameters.sapList_TableGroupHeaderBackground}`,\n      border: `1px solid ${ThemingParameters.sapList_TableGroupHeaderBorderColor}`,\n      color: ThemingParameters.sapList_TextColor,\n      '& $tableCell': {\n        borderRight: 'none'\n      }\n    }\n  },\n  tableCell: {\n    height: '100%',\n    boxSizing: 'border-box',\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    display: 'inline-flex',\n    padding: '0 0.5rem',\n    '&:first-child': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    },\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    alignItems: 'center',\n    position: 'relative',\n    '&:focus': {\n      outlineOffset: `calc(-1 * ${ThemingParameters.sapContent_FocusWidth})`,\n      outline: `${ThemingParameters.sapContent_FocusWidth} ${ThemingParameters.sapContent_FocusStyle} ${ThemingParameters.sapContent_FocusColor}`\n    }\n  },\n  noDataContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    backgroundColor: ThemingParameters.sapList_Background,\n    width: '100%',\n    boxSizing: 'border-box',\n    color: ThemingParameters.sapList_TextColor,\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  valueStateSuccess: {\n    backgroundColor: ThemingParameters.sapSuccessColor\n  },\n  valueStateError: {\n    backgroundColor: ThemingParameters.sapErrorColor\n  },\n  valueStateWarning: {\n    backgroundColor: ThemingParameters.sapWarningColor\n  },\n  valueStateInformation: {\n    backgroundColor: ThemingParameters.sapInformationColor\n  }\n};\n\nexport default styles;\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import '@ui5/webcomponents-icons/dist/decline.js';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport {\n  CLEAR_SORTING,\n  GROUP,\n  SORT_ASCENDING,\n  SORT_DESCENDING,\n  UNGROUP\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { CustomListItem } from '@ui5/webcomponents-react/dist/CustomListItem';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { List } from '@ui5/webcomponents-react/dist/List';\nimport { ListItemType } from '@ui5/webcomponents-react/dist/ListItemType';\nimport { Popover, PopoverDomRef } from '@ui5/webcomponents-react/dist/Popover';\nimport { PopoverHorizontalAlign } from '@ui5/webcomponents-react/dist/PopoverHorizontalAlign';\nimport { PopoverPlacementType } from '@ui5/webcomponents-react/dist/PopoverPlacementType';\nimport { StandardListItem } from '@ui5/webcomponents-react/dist/StandardListItem';\nimport { TextAlign } from '@ui5/webcomponents-react/dist/TextAlign';\nimport React, { RefObject, useCallback, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { stopPropagation } from '../../../internal/stopPropagation';\nimport { ColumnType } from '../types/ColumnType';\n\nexport interface ColumnHeaderModalProperties {\n  column: ColumnType;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n  open: boolean;\n  setPopoverOpen: (open: boolean) => void;\n  targetRef: RefObject<any>;\n  portalContainer: Element;\n  isRtl: boolean;\n}\n\nconst styles = {\n  popover: {\n    fontWeight: 'normal'\n  },\n  filter: {\n    padding: '0px 1rem',\n    height: 'var(--_ui5_custom_list_item_height)',\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  filterIcon: { paddingRight: '0.5rem', minWidth: '1rem', minHeight: '1rem' }\n};\nconst useStyles = createUseStyles(styles, { name: 'ColumnHeaderModal' });\n\nexport const ColumnHeaderModal = (props: ColumnHeaderModalProperties) => {\n  const { column, onSort, onGroupBy, open, setPopoverOpen, targetRef, portalContainer, isRtl } = props;\n  const classes = useStyles();\n  const showFilter = column.canFilter;\n  const showGroup = column.canGroupBy;\n  const showSort = column.canSort;\n\n  const ref = useRef<PopoverDomRef>(null);\n  const listRef = useRef(null);\n\n  const { Filter } = column;\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const clearSortingText = i18nBundle.getText(CLEAR_SORTING);\n  const sortAscendingText = i18nBundle.getText(SORT_ASCENDING);\n  const sortDescendingText = i18nBundle.getText(SORT_DESCENDING);\n  const groupText = i18nBundle.getText(GROUP);\n  const ungroupText = i18nBundle.getText(UNGROUP);\n\n  const handleSort = useCallback(\n    (e) => {\n      const sortType = e.detail.item.getAttribute('data-sort');\n\n      switch (sortType) {\n        case 'asc':\n          column.toggleSortBy(false);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'desc':\n          column.toggleSortBy(true);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'clear':\n          column.clearSortBy();\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'group':\n          const willGroup = !column.isGrouped;\n          column.toggleGroupBy(willGroup);\n          if (typeof onGroupBy === 'function') {\n            onGroupBy(\n              enrichEventWithDetails(e, {\n                column,\n                isGrouped: willGroup\n              })\n            );\n          }\n          break;\n      }\n      if (ref.current) {\n        ref.current.close();\n      }\n    },\n    [column, ref, onGroupBy, onSort]\n  );\n\n  const isSortedAscending = column.isSorted && column.isSortedDesc === false;\n  const isSortedDescending = column.isSorted && column.isSortedDesc === true;\n\n  useEffect(() => {\n    const popoverInstance = ref.current;\n    if (open) {\n      popoverInstance?.showAt(targetRef.current);\n    }\n  }, [open, targetRef.current, ref.current]);\n\n  const onAfterClose = useCallback(\n    (e) => {\n      stopPropagation(e);\n      ref?.current?.close();\n      setPopoverOpen(false);\n    },\n    [setPopoverOpen]\n  );\n\n  const onAfterOpen = () => {\n    listRef.current?.children?.[0]?.focus();\n  };\n\n  const horizontalAlign = (() => {\n    switch (column.hAlign) {\n      case TextAlign.Begin:\n        return isRtl ? PopoverHorizontalAlign.Right : PopoverHorizontalAlign.Left;\n      case TextAlign.End:\n        return isRtl ? PopoverHorizontalAlign.Left : PopoverHorizontalAlign.Right;\n      case TextAlign.Left:\n        return PopoverHorizontalAlign.Left;\n      case TextAlign.Right:\n        return PopoverHorizontalAlign.Right;\n      case TextAlign.Center:\n        return PopoverHorizontalAlign.Center;\n      default:\n        return isRtl ? PopoverHorizontalAlign.Right : PopoverHorizontalAlign.Left;\n    }\n  })();\n\n  if (!open) return null;\n  return createPortal(\n    <Popover\n      hideArrow\n      horizontalAlign={horizontalAlign}\n      placementType={PopoverPlacementType.Bottom}\n      ref={ref}\n      className={classes.popover}\n      onAfterClose={onAfterClose}\n      onAfterOpen={onAfterOpen}\n    >\n      <List onItemClick={handleSort} ref={listRef}>\n        {isSortedAscending && (\n          <StandardListItem type={ListItemType.Active} icon=\"decline\" data-sort=\"clear\">\n            {clearSortingText}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedAscending && (\n          <StandardListItem type={ListItemType.Active} icon=\"sort-ascending\" data-sort=\"asc\">\n            {sortAscendingText}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedDescending && (\n          <StandardListItem type={ListItemType.Active} icon=\"sort-descending\" data-sort=\"desc\">\n            {sortDescendingText}\n          </StandardListItem>\n        )}\n        {isSortedDescending && (\n          <StandardListItem type={ListItemType.Active} icon=\"decline\" data-sort=\"clear\">\n            {clearSortingText}\n          </StandardListItem>\n        )}\n        {showFilter && !column.isGrouped && (\n          //todo maybe need to enhance Input selection after ui5-webcomponents issue has been fixed\n          <CustomListItem type={ListItemType.Inactive}>\n            <FlexBox alignItems={FlexBoxAlignItems.Center} className={classes.filter}>\n              <Icon name=\"filter\" className={classes.filterIcon} />\n              <Filter column={column} popoverRef={ref} />\n            </FlexBox>\n          </CustomListItem>\n        )}\n        {showGroup && (\n          <StandardListItem type={ListItemType.Active} icon=\"group-2\" data-sort={'group'}>\n            {column.isGrouped ? ungroupText : groupText}\n          </StandardListItem>\n        )}\n      </List>\n    </Popover>,\n    portalContainer\n  );\n};\nColumnHeaderModal.displayName = 'ColumnHeaderModal';\n","import '@ui5/webcomponents-icons/dist/filter.js';\nimport '@ui5/webcomponents-icons/dist/group-2.js';\nimport '@ui5/webcomponents-icons/dist/sort-ascending.js';\nimport '@ui5/webcomponents-icons/dist/sort-descending.js';\nimport { createUseStyles } from 'react-jss';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport React, {\n  CSSProperties,\n  DragEventHandler,\n  FC,\n  MouseEventHandler,\n  KeyboardEventHandler,\n  ReactNode,\n  useRef,\n  useState\n} from 'react';\nimport { VirtualItem } from 'react-virtual';\nimport { ColumnType } from '../types/ColumnType';\nimport { ColumnHeaderModal } from './ColumnHeaderModal';\n\nexport interface ColumnHeaderProps {\n  visibleColumnIndex: number;\n  columnIndex: number;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n  onDragStart: DragEventHandler<HTMLDivElement>;\n  onDragOver: DragEventHandler<HTMLDivElement>;\n  onDrop: DragEventHandler<HTMLDivElement>;\n  onDragEnter: DragEventHandler<HTMLDivElement>;\n  onDragEnd: DragEventHandler<HTMLDivElement>;\n  dragOver: boolean;\n  isDraggable: boolean;\n  headerTooltip: string;\n  virtualColumn: VirtualItem;\n  isRtl: boolean;\n  children: ReactNode | ReactNode[];\n  portalContainer: Element;\n\n  //getHeaderProps()\n  id: string;\n  onClick: MouseEventHandler<HTMLDivElement> | undefined;\n  onKeyDown?: KeyboardEventHandler<HTMLDivElement> | undefined;\n  className: string;\n  style: CSSProperties;\n  column: ColumnType;\n  role: string;\n}\n\nconst styles = {\n  header: {\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'begin',\n    alignItems: 'center',\n    textAlign: 'left',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    color: ThemingParameters.sapList_TextColor,\n    background: ThemingParameters.sapList_HeaderBackground,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    maxWidth: '100%',\n    position: 'relative',\n    width: '100%',\n    overflowX: 'hidden',\n    overflowY: 'hidden',\n    boxSizing: 'border-box',\n    '&[data-h-align=\"End\"]': {\n      '& $text': {\n        textAlign: 'end'\n      }\n    }\n  },\n  text: {\n    width: '100%',\n    textAlign: 'start'\n  },\n  iconContainer: {\n    display: 'inline-block',\n    position: 'absolute',\n    color: ThemingParameters.sapContent_IconColor\n  }\n};\n\nconst useStyles = createUseStyles(styles, { name: 'TableColumnHeader' });\n\nexport const ColumnHeader: FC<ColumnHeaderProps> = (props: ColumnHeaderProps) => {\n  const classes = useStyles();\n  const {\n    id,\n    children,\n    column,\n    className,\n    style,\n    onSort,\n    onGroupBy,\n    onDragEnter,\n    onDragOver,\n    onDragStart,\n    onDrop,\n    onDragEnd,\n    headerTooltip,\n    isDraggable,\n    dragOver,\n    role,\n    virtualColumn,\n    isRtl,\n    columnIndex,\n    visibleColumnIndex,\n    onClick,\n    onKeyDown,\n    portalContainer\n  } = props;\n\n  const isFiltered = column.filterValue && column.filterValue.length > 0;\n  const [popoverOpen, setPopoverOpen] = useState(false);\n\n  const tooltip = (() => {\n    if (headerTooltip) {\n      return headerTooltip;\n    }\n    if (typeof children === 'string') {\n      return children;\n    }\n    return null;\n  })();\n\n  const textStyle = (() => {\n    let margin = 0;\n\n    if (column.isSorted) margin++;\n    if (column.isGrouped) margin++;\n    if (isFiltered) margin++;\n\n    if (margin === 0) {\n      return {};\n    }\n\n    if (margin > 0) margin += 0.5;\n\n    if (isRtl) {\n      return {\n        marginLeft: `${margin}rem`\n      };\n    }\n    return {\n      marginRight: `${margin}rem`\n    };\n  })();\n\n  const hasPopover = column.canGroupBy || column.canSort || column.canFilter;\n\n  const handleHeaderCellClick = (e) => {\n    onClick?.(e);\n    if (hasPopover) {\n      setPopoverOpen(true);\n    }\n  };\n  const directionStyles = isRtl\n    ? { right: 0, transform: `translateX(-${virtualColumn.start}px)` }\n    : { left: 0, transform: `translateX(${virtualColumn.start}px)` };\n\n  const iconContainerDirectionStyles = isRtl ? { left: '0.5rem' } : { right: '0.5rem' };\n\n  const handleHeaderCellKeyDown = (e) => {\n    onKeyDown?.(e);\n    if (hasPopover && e.code === 'Enter') {\n      setPopoverOpen(true);\n    }\n    if (e.code === 'Space') {\n      e.preventDefault();\n    }\n  };\n\n  const handleHeaderCellKeyUp = (e) => {\n    if (hasPopover && e.code === 'Space') {\n      setPopoverOpen(true);\n    }\n  };\n\n  const targetRef = useRef();\n  if (!column) return null;\n\n  return (\n    <div\n      ref={targetRef}\n      style={{\n        position: 'absolute',\n        top: 0,\n        width: `${virtualColumn.size}px`,\n        ...directionStyles\n      }}\n    >\n      <div\n        data-visible-column-index={visibleColumnIndex}\n        data-visible-row-index={0}\n        data-row-index={0}\n        data-column-index={columnIndex}\n        tabIndex={-1}\n        id={id}\n        className={className}\n        style={{\n          ...style,\n          cursor: hasPopover ? 'pointer' : 'auto',\n          borderLeft: dragOver ? `3px solid ${ThemingParameters.sapSelectedColor}` : undefined\n        }}\n        role={role}\n        draggable={isDraggable}\n        onDragEnter={onDragEnter}\n        onDragOver={onDragOver}\n        onDragStart={onDragStart}\n        onDrop={onDrop}\n        onDragEnd={onDragEnd}\n        data-column-id={id}\n        onClick={handleHeaderCellClick}\n        onKeyDown={handleHeaderCellKeyDown}\n        onKeyUp={handleHeaderCellKeyUp}\n      >\n        <div className={classes.header} data-h-align={column.hAlign}>\n          <Text title={tooltip} wrapping={false} style={textStyle} className={classes.text}>\n            {children}\n          </Text>\n          <div className={classes.iconContainer} style={iconContainerDirectionStyles}>\n            {isFiltered && <Icon name=\"filter\" />}\n            {column.isSorted && <Icon name={column.isSortedDesc ? 'sort-descending' : 'sort-ascending'} />}\n            {column.isGrouped && <Icon name=\"group-2\" />}\n          </div>\n        </div>\n        {hasPopover && targetRef.current && (\n          <ColumnHeaderModal\n            isRtl={isRtl}\n            column={column}\n            onSort={onSort}\n            onGroupBy={onGroupBy}\n            targetRef={targetRef}\n            open={popoverOpen}\n            setPopoverOpen={setPopoverOpen}\n            portalContainer={portalContainer}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport React, { forwardRef, Fragment, MutableRefObject, Ref, useCallback } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useVirtual, VirtualItem } from 'react-virtual';\nimport { ColumnHeader } from './index';\n\nconst styles = {\n  resizer: {\n    display: 'inline-block',\n    width: '3px',\n    height: '100%',\n    position: 'absolute',\n    bottom: 0,\n    top: 0,\n    zIndex: 1,\n    cursor: 'col-resize',\n    willChange: 'transform',\n    '&:hover, &:active': {\n      backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor\n    }\n  }\n};\n\ninterface ColumnHeaderContainerProps {\n  headerProps: Record<string, unknown>;\n  headerGroup: Record<string, any>;\n  onSort: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupByChanged: (e: CustomEvent<{ column?: any; isGrouped?: boolean }>) => void;\n  onDragStart: any;\n  onDragOver: any;\n  onDrop: any;\n  onDragEnter: any;\n  onDragEnd: any;\n  dragOver: any;\n  tableRef: MutableRefObject<any>;\n  visibleColumnsWidth: any[];\n  overscanCountHorizontal: number;\n  resizeInfo: Record<string, unknown>;\n  reactWindowRef: MutableRefObject<any>;\n  isRtl: boolean;\n  portalContainer: Element;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'Resizer' });\n\nexport const ColumnHeaderContainer = forwardRef((props: ColumnHeaderContainerProps, ref: Ref<HTMLDivElement>) => {\n  const {\n    headerProps,\n    headerGroup,\n    onSort,\n    onGroupByChanged,\n    onDragStart,\n    onDragOver,\n    onDrop,\n    onDragEnter,\n    onDragEnd,\n    dragOver,\n    tableRef,\n    visibleColumnsWidth,\n    overscanCountHorizontal,\n    resizeInfo,\n    reactWindowRef,\n    isRtl,\n    portalContainer\n  } = props;\n  const columnVirtualizer = useVirtual({\n    size: visibleColumnsWidth.length,\n    parentRef: tableRef,\n    estimateSize: useCallback(\n      (index) => {\n        return visibleColumnsWidth[index];\n      },\n      [visibleColumnsWidth]\n    ),\n    horizontal: true,\n    overscan: overscanCountHorizontal\n  });\n\n  reactWindowRef.current = {\n    ...reactWindowRef.current,\n    horizontalScrollToOffset: columnVirtualizer.scrollToOffset,\n    horizontalScrollToIndex: columnVirtualizer.scrollToIndex\n  };\n\n  const classes = useStyles();\n\n  return (\n    <div\n      {...headerProps}\n      style={{ width: `${columnVirtualizer.totalSize}px` }}\n      ref={ref}\n      data-component-name=\"AnalyticalTableHeaderRow\"\n    >\n      {columnVirtualizer.virtualItems.map((virtualColumn: VirtualItem, index) => {\n        const column = headerGroup.headers[virtualColumn.index];\n        if (!column) {\n          return null;\n        }\n        const isLastColumn = !column.disableResizing && virtualColumn.index + 1 === headerGroup.headers.length;\n        const resizerDirectionStyle = isRtl\n          ? {\n              right: `${column.totalFlexWidth + column.totalLeft - (isLastColumn ? 3 : 0)}px`,\n              transform: 'translateX(50%)'\n            }\n          : {\n              left: `${column.totalFlexWidth + column.totalLeft - (isLastColumn ? 3 : 0)}px`,\n              transform: 'translateX(-50%)'\n            };\n\n        const { key, ...rest } = column.getHeaderProps();\n        return (\n          <Fragment key={key}>\n            {column.canResize && column.getResizerProps && (\n              <div\n                {...column.getResizerProps()}\n                data-resizer\n                className={classes.resizer}\n                style={resizerDirectionStyle}\n              />\n            )}\n            <ColumnHeader\n              {...rest}\n              visibleColumnIndex={index}\n              columnIndex={virtualColumn.index}\n              onSort={onSort}\n              onGroupBy={onGroupByChanged}\n              onDragStart={onDragStart}\n              onDragOver={onDragOver}\n              onDrop={onDrop}\n              onDragEnter={onDragEnter}\n              onDragEnd={onDragEnd}\n              dragOver={column.id === dragOver}\n              headerTooltip={column.headerTooltip}\n              isDraggable={(column.canReorder || !column.disableDragAndDrop) && !resizeInfo.isResizingColumn}\n              virtualColumn={virtualColumn}\n              isRtl={isRtl}\n              portalContainer={portalContainer}\n            >\n              {column.render('Header')}\n            </ColumnHeader>\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n});\n","import { Input } from '@ui5/webcomponents-react/dist/Input';\nimport React, { FC, useCallback } from 'react';\n\nexport const DefaultFilterComponent: FC<any> = ({ column }) => {\n  const handleChange = useCallback(\n    (e) => {\n      column.setFilter(e.target.value || undefined);\n    },\n    [column.setFilter]\n  );\n  return <Input onInput={handleChange} value={column.filterValue ?? ''} />;\n};\n","import { Text } from '@ui5/webcomponents-react/dist/Text';\nimport React from 'react';\n\nexport const Cell = ({ cell: { value = '', isGrouped }, row }) => {\n  let cellContent = `${value ?? ''}`;\n  if (isGrouped) {\n    cellContent += ` (${row.subRows.length})`;\n  }\n  return (\n    <Text wrapping={false} title={cellContent}>\n      {cellContent}\n    </Text>\n  );\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { isIE } from '@ui5/webcomponents-react-base/dist/Device';\nimport { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\nconst isBrowserIe = isIE();\nconst getPadding = (level) => {\n  switch (level) {\n    case 0:\n      return '0px';\n    case 1:\n      return isBrowserIe ? '1rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel1;\n    case 2:\n      return isBrowserIe ? '1.5rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel2;\n    case 3:\n      return isBrowserIe ? '2rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3;\n    default:\n      return isBrowserIe\n        ? `calc(2rem + ${level - 3}rem * 0.5)`\n        : `calc(${CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3} + ${level - 3}rem * 0.5)`;\n  }\n};\n\nexport const Expandable = (props) => {\n  const {\n    cell,\n    row,\n    column,\n    columns,\n    webComponentsReactProperties,\n    state: { isRtl }\n  } = props;\n\n  const tableColumns = columns.filter(\n    ({ id }) =>\n      id !== '__ui5wcr__internal_selection_column' &&\n      id !== '__ui5wcr__internal_highlight_column' &&\n      id !== '__ui5wcr__internal_navigation_column'\n  );\n\n  const columnIndex = tableColumns.findIndex((col) => col.id === column.id);\n  const paddingRtl = isRtl ? 'paddingRight' : 'paddingLeft';\n  let paddingLeft;\n  if (row.canExpand) {\n    paddingLeft = columnIndex === 0 ? getPadding(row.depth) : 0;\n  } else {\n    paddingLeft = columnIndex === 0 ? `calc(${getPadding(row.depth)} + 2rem)` : 0;\n  }\n  const style: CSSProperties = {\n    [paddingRtl]: paddingLeft\n  };\n  const rowProps = row.getToggleRowExpandedProps();\n\n  const subComponentExpandable =\n    typeof webComponentsReactProperties?.renderRowSubComponent === 'function' &&\n    !!webComponentsReactProperties?.renderRowSubComponent(row) &&\n    !webComponentsReactProperties.alwaysShowSubComponent;\n\n  return (\n    <>\n      {columnIndex === 0 && (row.canExpand || subComponentExpandable) ? (\n        <span onClick={rowProps.onClick} title={rowProps.title} style={{ ...rowProps.style, ...style }}>\n          <Icon\n            interactive\n            name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n            style={tableGroupExpandCollapseIcon}\n          />\n        </span>\n      ) : (\n        <span style={style} />\n      )}\n      {cell.render('Cell')}\n    </>\n  );\n};\n","import { Icon } from '@ui5/webcomponents-react/dist/Icon';\nimport { TextAlign } from '@ui5/webcomponents-react/dist/TextAlign';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\n\nexport const Grouped = (props) => {\n  const { cell, row } = props;\n\n  const style: CSSProperties = {};\n  if (cell.column.hAlign && (cell.column.hAlign !== TextAlign.Left || cell.column.hAlign !== TextAlign.Begin)) {\n    style.marginRight = 'auto';\n  }\n  return (\n    <>\n      <span {...row.getToggleRowExpandedProps({ style })}>\n        <Icon\n          name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n          style={tableGroupExpandCollapseIcon}\n        />\n      </span>\n      {cell.render('Cell')}\n    </>\n  );\n};\n","import { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { FlexBoxWrap } from '@ui5/webcomponents-react/dist/FlexBoxWrap';\nimport { Text } from '@ui5/webcomponents-react/dist/Text';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { makeRenderer } from 'react-table';\n\nconst PopInStyles = {\n  container: {\n    width: '100%'\n  },\n  defaultCell: {\n    fontFamily: `${ThemingParameters.sapFontBoldFamily}`,\n    '& *': {\n      fontFamily: `${ThemingParameters.sapFontBoldFamily}`\n    }\n  },\n  header: {\n    height: '16px'\n  }\n};\n\nconst useStyles = createUseStyles(PopInStyles, { name: 'PopIn' });\n\nexport const PopIn = (instance) => {\n  const { state, contentToRender, cell, row, internalRowHeight } = instance;\n\n  const classes = useStyles();\n  return (\n    <FlexBox direction={FlexBoxDirection.Column} className={classes.container}>\n      <FlexBox\n        alignItems={\n          contentToRender !== 'Grouped' && contentToRender !== 'Expandable'\n            ? FlexBoxAlignItems.Start\n            : FlexBoxAlignItems.Center\n        }\n        wrap={FlexBoxWrap.NoWrap}\n        className={classes.defaultCell}\n        style={{\n          height: internalRowHeight\n        }}\n      >\n        {cell.render(contentToRender)}\n      </FlexBox>\n      {contentToRender !== 'Grouped' &&\n        state.popInColumns?.map((item) => {\n          const popInInstanceProps = row.allCells.find((cell) => cell.column.id === item.id);\n          const renderHeader = () => {\n            if (item.column.PopInHeader) {\n              return typeof item.column.PopInHeader === 'function'\n                ? item.column.PopInHeader({ ...instance, ...popInInstanceProps })\n                : item.column.PopInHeader;\n            }\n            return typeof item.column.Header === 'function'\n              ? makeRenderer({ ...instance, ...popInInstanceProps }, item.column)(item.column.Header)\n              : item.column.Header;\n          };\n          const renderCell = () => {\n            if (item.column?.Cell) {\n              const cell = item.column.Cell;\n              if (typeof cell === 'string') {\n                return (\n                  <Text wrapping={false} title={cell}>\n                    {cell}\n                  </Text>\n                );\n              }\n              return makeRenderer({ ...instance, ...popInInstanceProps, isPopIn: true }, item.column)(item.column.Cell);\n            }\n            return popInInstanceProps?.value ? (\n              <Text wrapping={false} title={popInInstanceProps.value}>\n                {popInInstanceProps.value}\n              </Text>\n            ) : null;\n          };\n          return (\n            <FlexBox direction={FlexBoxDirection.Column} key={item.id}>\n              {item.column?.Header && <div className={classes.header}>{renderHeader()}:</div>}\n              <div style={{ height: internalRowHeight }}>{popInInstanceProps && renderCell()}</div>\n            </FlexBox>\n          );\n        })}\n    </FlexBox>\n  );\n};\n","export const RepeatedValue = () => null;\n","import { VerticalAlign } from '@ui5/webcomponents-react/dist/VerticalAlign';\nimport { DefaultFilterComponent } from '../FilterComponent';\nimport { Cell } from './Cell';\nimport { Expandable } from './Expandable';\nimport { Grouped } from './Grouped';\nimport { PopIn } from './PopIn';\nimport { RepeatedValue } from './RepeatedValue';\n\nexport const DEFAULT_COLUMN_WIDTH = 60;\n\nconst defaultFilterMethod = (filter, row) => {\n  return new RegExp(filter.value, 'gi').test(String(row[filter.id]));\n};\n\nexport const DefaultColumn = {\n  Filter: DefaultFilterComponent,\n  minWidth: DEFAULT_COLUMN_WIDTH,\n  vAlign: VerticalAlign.Middle,\n  defaultFilter: defaultFilterMethod,\n  Grouped: Grouped,\n  Cell: Cell,\n  Expandable: Expandable,\n  RepeatedValue: RepeatedValue,\n  PopIn: PopIn\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { Loader } from '@ui5/webcomponents-react/dist/Loader';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst styles = {\n  loader: {\n    position: 'absolute',\n    top: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    left: 0,\n    right: 0,\n    zIndex: 1\n  }\n};\nconst useStyles = createUseStyles(styles, { name: 'LoadingComponent' });\n\nconst DefaultLoadingComponent = ({ style }) => {\n  const classes = useStyles();\n  return <Loader delay={500} style={style} className={classes.loader} />;\n};\n\nDefaultLoadingComponent.displayName = 'DefaultLoadingComponent';\n\nexport { DefaultLoadingComponent };\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport React, { CSSProperties, FC, useMemo } from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst getArrayOfLength = (len) => Array.from(Array(len).keys());\n\ntype RowProps = { columns: any[]; y: number; row: number };\nconst TableRow: FC<RowProps> = ({ columns, y, row }: RowProps) => {\n  let columnOffset = 0;\n  return (\n    <>\n      {columns.map((column, i) => {\n        const el = (\n          <rect\n            key={`column-${i}-row-${row}`}\n            x={columnOffset + 2}\n            y={y}\n            rx=\"2\"\n            ry=\"8\"\n            width={column.totalWidth - 4}\n            height=\"16\"\n          />\n        );\n        columnOffset += column.totalWidth;\n        return el;\n      })}\n    </>\n  );\n};\n\ntype Props = {\n  columns: any[];\n  rows: number;\n  style: CSSProperties;\n  rowHeight: number;\n  tableWidth: number;\n  isRtl: boolean;\n};\nexport const TablePlaceholder: FC<Props> = (props: Props) => {\n  const { columns, rows, style, rowHeight, tableWidth, isRtl } = props;\n\n  const height = rows * rowHeight;\n\n  const innerStyles = useMemo(() => {\n    return {\n      backgroundColor: ThemingParameters.sapList_Background,\n      ...style\n    };\n  }, [style, ThemingParameters.sapList_Background]);\n\n  return (\n    <ContentLoader\n      style={innerStyles}\n      height={height}\n      width={tableWidth}\n      rtl={isRtl}\n      speed={2}\n      backgroundColor={ThemingParameters.sapContent_ImagePlaceholderBackground}\n      foregroundColor={ThemingParameters.sapContent_ImagePlaceholderForegroundColor}\n      backgroundOpacity={ThemingParameters.sapContent_DisabledOpacity as any}\n    >\n      {getArrayOfLength(rows).map((_, index) => (\n        <TableRow key={index} columns={columns} y={rowHeight * index + rowHeight / 2} row={index} />\n      ))}\n    </ContentLoader>\n  );\n};\n\nTablePlaceholder.displayName = 'TablePlaceholder';\n\nTablePlaceholder.defaultProps = {\n  rows: 5\n};\n","import React from 'react';\n\nexport const DefaultNoDataComponent = ({ noDataText, className, style }) => {\n  return (\n    <div className={className} style={style}>\n      {noDataText}\n    </div>\n  );\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useCallback, useState } from 'react';\n\nconst getColumnId = (column) => {\n  return typeof column.accessor === 'string' ? column.accessor : column.id;\n};\n\nexport const useDragAndDrop = (props, isRtl, setColumnOrder, columnOrder, resizeInfo, columns: any[]) => {\n  const { onColumnsReordered } = props;\n\n  const [dragOver, setDragOver] = useState('');\n\n  const handleDragStart = useCallback(\n    (e) => {\n      if (resizeInfo.isResizingColumn) {\n        e.preventDefault();\n        return;\n      }\n      e.dataTransfer.setData('text', e.currentTarget.dataset.columnId);\n    },\n    [resizeInfo.isResizingColumn]\n  );\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n  }, []);\n\n  const handleDragEnter = useCallback((e) => {\n    setDragOver(e.currentTarget.dataset.columnId);\n  }, []);\n\n  const handleOnDrop = useCallback(\n    (e) => {\n      setDragOver('');\n\n      const droppedColId = e.currentTarget.dataset.columnId;\n      const draggedColId = e.dataTransfer.getData('text');\n      if (droppedColId === draggedColId) return;\n\n      const internalColumnOrder = columnOrder.length > 0 ? columnOrder : columns.map((col) => getColumnId(col));\n      const droppedColIdx = internalColumnOrder.findIndex((col) => col === droppedColId);\n      const draggedColIdx = internalColumnOrder.findIndex((col) => col === draggedColId);\n\n      const tempCols = [...internalColumnOrder];\n      const targetIndex = droppedColIdx > draggedColIdx ? (isRtl ? droppedColIdx : droppedColIdx - 1) : droppedColIdx;\n\n      tempCols.splice(targetIndex, 0, tempCols.splice(draggedColIdx, 1)[0]);\n      setColumnOrder(tempCols);\n\n      const columnsNewOrder = tempCols.map((tempColId) => columns.find((col) => getColumnId(col) === tempColId));\n      onColumnsReordered(\n        enrichEventWithDetails(e, {\n          columnsNewOrder,\n          column: columns[draggedColIdx]\n        })\n      );\n    },\n    [columnOrder, onColumnsReordered, columns]\n  );\n\n  const handleOnDragEnd = useCallback(() => {\n    setDragOver('');\n  }, [dragOver]);\n\n  return [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd];\n};\n","import { TableScaleWidthMode } from '@ui5/webcomponents-react/dist/TableScaleWidthMode';\nimport { DEFAULT_COLUMN_WIDTH } from '../defaults/Column';\n\nconst ROW_SAMPLE_SIZE = 20;\nconst DEFAULT_HEADER_NUM_CHAR = 10;\nconst MAX_WIDTH = 700;\n\n// a function, which approximates header px sizes given a character length\nconst approximateHeaderPxFromCharLength = (charLength) =>\n  charLength < 15 ? Math.sqrt(charLength * 1500) : 8 * charLength;\nconst approximateContentPxFromCharLength = (charLength) => 8 * charLength;\n\nconst columnsDeps = (deps, { instance: { state, webComponentsReactProperties, visibleColumns } }) => [\n  ...deps,\n  state.tableClientWidth,\n  state.hiddenColumns.length,\n  visibleColumns?.length,\n  webComponentsReactProperties.scaleWidthMode,\n  webComponentsReactProperties.loading\n];\n\nconst columns = (columns, { instance }) => {\n  if (!instance.state || !instance.rows) {\n    return columns;\n  }\n  const { rows, state } = instance;\n\n  const { hiddenColumns, tableClientWidth: totalWidth } = state;\n  const { scaleWidthMode, loading } = instance.webComponentsReactProperties;\n\n  if (columns.length === 0 || !totalWidth) return columns;\n\n  //map columns to visibleColumns\n  const visibleColumns = instance.visibleColumns\n    .map((visCol) => {\n      const column = columns.find((col) => {\n        return (\n          col.id === visCol.id || (col.accessor !== undefined && visCol.id !== undefined && col.accessor === visCol.id)\n        );\n      });\n      if (column) {\n        return column;\n      }\n      return column ?? false;\n    })\n    .filter(Boolean);\n\n  const calculateDefaultTableWidth = () => {\n    const columnsWithWidthProperties = visibleColumns\n      .filter((column) => column.width ?? column.minWidth ?? column.maxWidth ?? false)\n      .map((column) => ({\n        accessor: column.id ?? column.accessor,\n        minWidth: column.minWidth,\n        width: column.width,\n        maxWidth: column.maxWidth\n      }));\n    let availableWidth = totalWidth;\n    let defaultColumnsCount = visibleColumns.length;\n\n    const columnsWithFixedWidth = columnsWithWidthProperties\n      .map((column) => {\n        const { width, minWidth, maxWidth, accessor } = column;\n        if (width) {\n          // necessary because of default minWidth\n          const acceptedWidth =\n            accessor !== '__ui5wcr__internal_highlight_column' &&\n            accessor !== '__ui5wcr__internal_selection_column' &&\n            accessor !== '__ui5wcr__internal_navigation_column' &&\n            width < 60\n              ? 60\n              : width;\n\n          availableWidth -= acceptedWidth;\n          defaultColumnsCount--;\n          return acceptedWidth;\n        }\n        const columnsWithMaxWidth = columnsWithWidthProperties.filter((item) => item.maxWidth);\n        const aggregatedColumnsMaxWidth = columnsWithMaxWidth.reduce((acc, cur) => acc + cur.maxWidth, 0);\n        const aggregatedColumnsMinWidth = columnsWithWidthProperties\n          .filter((item) => item.minWidth && !item.maxWidth)\n          .reduce((acc, cur) => acc + cur.minWidth, 0);\n\n        if (minWidth > availableWidth / defaultColumnsCount) {\n          // don't apply minWidth if enough space is available because of maxWidth properties\n          if (\n            availableWidth - aggregatedColumnsMaxWidth >\n            aggregatedColumnsMinWidth + (visibleColumns.length - columnsWithWidthProperties.length) * 60\n          ) {\n            // apply minWidth only if it's larger than the calculated available width\n            if (minWidth > (availableWidth - aggregatedColumnsMaxWidth) / columnsWithMaxWidth.length) {\n              availableWidth -= minWidth;\n              defaultColumnsCount--;\n              return minWidth;\n            }\n            return false;\n          }\n          availableWidth -= minWidth;\n          defaultColumnsCount--;\n          return minWidth;\n        }\n        if (maxWidth < availableWidth / defaultColumnsCount) {\n          availableWidth -= maxWidth;\n          defaultColumnsCount--;\n          return maxWidth;\n        }\n        return false;\n      })\n      .filter(Boolean);\n\n    const fixedWidth = columnsWithFixedWidth.reduce((acc, val) => acc + val, 0);\n    // check if columns are visible and table has width\n    if (visibleColumns.length > 0 && totalWidth > 0) {\n      // set fixedWidth as defaultWidth if all visible columns have fixed value\n      if (visibleColumns.length === columnsWithFixedWidth.length) {\n        return fixedWidth / visibleColumns.length;\n      }\n      // spread default columns\n      if (totalWidth >= fixedWidth + defaultColumnsCount * DEFAULT_COLUMN_WIDTH) {\n        return (totalWidth - fixedWidth) / defaultColumnsCount;\n      }\n    }\n    return DEFAULT_COLUMN_WIDTH;\n  };\n\n  const hasData = instance.data.length > 0;\n\n  if (scaleWidthMode === TableScaleWidthMode.Default || (!hasData && loading)) {\n    const defaultWidth = calculateDefaultTableWidth();\n    return columns.map((column) => ({ ...column, width: column.width ?? defaultWidth }));\n  }\n\n  const rowSample = rows.slice(0, ROW_SAMPLE_SIZE);\n\n  const columnMeta = visibleColumns.reduce((acc, column) => {\n    if (\n      column.id === '__ui5wcr__internal_selection_column' ||\n      column.id === '__ui5wcr__internal_highlight_column' ||\n      column.id === '__ui5wcr__internal_navigation_column'\n    ) {\n      acc[column.id ?? column.accessor] = {\n        minHeaderWidth: column.width,\n        fullWidth: column.width,\n        contentCharAvg: 0\n      };\n      return acc;\n    }\n\n    const headerLength = typeof column.Header === 'string' ? column.Header.length : DEFAULT_HEADER_NUM_CHAR;\n\n    // max character length\n    const contentMaxCharLength = Math.max(\n      headerLength,\n      ...rowSample.map((row) => {\n        const dataPoint = row.values?.[column.id ?? column.accessor];\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') return dataPoint.length;\n          if (typeof dataPoint === 'number') return (dataPoint + '').length;\n        }\n        return 0;\n      })\n    );\n\n    // avg character length\n    const contentCharAvg =\n      rowSample.reduce((acc, item) => {\n        const dataPoint = item.values?.[column.id ?? column.accessor];\n        let val = 0;\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') val = dataPoint.length;\n          if (typeof dataPoint === 'number') val = (dataPoint + '').length;\n        }\n        return acc + val;\n      }, 0) / rowSample.length;\n\n    const minHeaderWidth = approximateHeaderPxFromCharLength(headerLength);\n\n    acc[column.id ?? column.accessor] = {\n      minHeaderWidth,\n      fullWidth: Math.max(minHeaderWidth, approximateContentPxFromCharLength(contentMaxCharLength)),\n      contentCharAvg\n    };\n    return acc;\n  }, {});\n\n  const totalCharNum = Object.values(columnMeta).reduce(\n    (acc: number, item: any) => acc + item.contentCharAvg,\n    0\n  ) as number;\n\n  let reservedWidth = visibleColumns.reduce((acc, column) => {\n    const { minHeaderWidth, fullWidth } = columnMeta[column.id ?? column.accessor];\n    return (\n      acc +\n        Math.max(\n          column.minWidth || 0,\n          column.width || 0,\n          minHeaderWidth || 0,\n          scaleWidthMode === TableScaleWidthMode.Grow ? fullWidth : 0\n        ) || 0\n    );\n  }, 0);\n\n  let availableWidth = totalWidth - reservedWidth;\n\n  if (scaleWidthMode === TableScaleWidthMode.Smart || availableWidth > 0) {\n    if (scaleWidthMode === TableScaleWidthMode.Grow) {\n      reservedWidth = visibleColumns.reduce((acc, column) => {\n        const { minHeaderWidth } = columnMeta[column.id ?? column.accessor];\n        return acc + Math.max(column.minWidth || 0, column.width || 0, minHeaderWidth || 0) || 0;\n      }, 0);\n      availableWidth = totalWidth - reservedWidth;\n    }\n\n    return columns.map((column) => {\n      const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.id ?? column.accessor);\n      const meta = columnMeta[column.id ?? column.accessor];\n      if (isColumnVisible && meta) {\n        const { minHeaderWidth, contentCharAvg } = meta;\n        const additionalSpaceFactor = totalCharNum > 0 ? contentCharAvg / totalCharNum : 1 / visibleColumns.length;\n\n        const targetWidth = additionalSpaceFactor * availableWidth + minHeaderWidth;\n\n        return {\n          ...column,\n          width: column.width ?? targetWidth,\n          minWidth: column.minWidth ?? minHeaderWidth\n        };\n      }\n\n      return column;\n    });\n  }\n\n  // TableScaleWidthMode Grow\n  return columns.map((column) => {\n    const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.id ?? column.accessor);\n    const meta = columnMeta[column.id ?? column.accessor];\n    if (isColumnVisible && meta) {\n      const { fullWidth } = meta;\n      return {\n        ...column,\n        width: column.width ?? fullWidth,\n        maxWidth: MAX_WIDTH\n      };\n    }\n    return column;\n  });\n};\n\nexport const useDynamicColumnWidths = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n};\n","import { useCallback, useRef } from 'react';\n\nconst getFirstVisibleCell = (target, currentlyFocusedCell, noData) => {\n  const firstVisibleCell = noData\n    ? target.querySelector(`div[data-visible-column-index=\"0\"][data-visible-row-index=\"0\"]`)\n    : target.querySelector(`div[data-visible-column-index=\"0\"][data-visible-row-index=\"1\"]`);\n  if (firstVisibleCell) {\n    firstVisibleCell.tabIndex = 0;\n    firstVisibleCell.focus();\n    currentlyFocusedCell.current = firstVisibleCell;\n  }\n};\n\nconst findParentCell = (target) => {\n  if (target === undefined || target === null) return;\n  if (\n    (target.dataset.rowIndex !== undefined && target.dataset.columnIndex !== undefined) ||\n    (target.dataset.rowIndexSub !== undefined && target.dataset.columnIndexSub !== undefined)\n  ) {\n    return target;\n  } else {\n    return findParentCell(target.parentElement);\n  }\n};\n\nconst setFocus = (currentlyFocusedCell, nextElement) => {\n  currentlyFocusedCell.current.tabIndex = -1;\n  if (nextElement) {\n    nextElement.tabIndex = 0;\n    nextElement.focus();\n    currentlyFocusedCell.current = nextElement;\n  }\n};\n\nconst getTableProps = (tableProps, { instance: { webComponentsReactProperties, data } }) => {\n  const currentlyFocusedCell = useRef<HTMLDivElement>(null);\n  const tableRef = webComponentsReactProperties.tableRef;\n  const noData = data.length === 0;\n\n  const onTableBlur = useCallback(\n    (e) => {\n      if (e.target.tagName === 'UI5-LI' || e.target.tagName === 'UI5-LI-CUSTOM') {\n        currentlyFocusedCell.current = null;\n      }\n    },\n    [currentlyFocusedCell.current]\n  );\n\n  const onTableFocus = useCallback(\n    (e) => {\n      const isFirstCellAvailable = e.target.querySelector('div[data-column-index=\"0\"][data-row-index=\"1\"]');\n      if (e.target.dataset.componentName === 'AnalyticalTableContainer') {\n        e.target.tabIndex = -1;\n        if (currentlyFocusedCell.current) {\n          const { dataset } = currentlyFocusedCell.current;\n          const rowIndex = parseInt(dataset.rowIndex ?? dataset.rowIndexSub, 10);\n          const columnIndex = parseInt(dataset.columnIndex ?? dataset.columnIndexSub, 10);\n          if (\n            e.target.querySelector(`div[data-column-index=\"${columnIndex}\"][data-row-index=\"${rowIndex}\"]`) ||\n            e.target.querySelector(`div[data-column-index-sub=\"${columnIndex}\"][data-row-index-sub=\"${rowIndex}\"]`)\n          ) {\n            currentlyFocusedCell.current.tabIndex = 0;\n            currentlyFocusedCell.current.focus();\n          } else {\n            getFirstVisibleCell(e.target, currentlyFocusedCell, noData);\n          }\n        } else if (isFirstCellAvailable) {\n          const firstCell = e.target.querySelector('div[data-column-index=\"0\"][data-row-index=\"0\"]');\n          firstCell.tabIndex = 0;\n          firstCell.focus();\n          currentlyFocusedCell.current = firstCell;\n        } else {\n          getFirstVisibleCell(e.target, currentlyFocusedCell, noData);\n        }\n      } else {\n        const tableCell = findParentCell(e.target);\n        if (tableCell) {\n          currentlyFocusedCell.current = tableCell;\n        } else {\n          getFirstVisibleCell(tableRef.current, currentlyFocusedCell, noData);\n        }\n      }\n    },\n    [currentlyFocusedCell.current, tableRef.current, noData]\n  );\n\n  const onKeyboardNavigation = useCallback(\n    (e) => {\n      if (currentlyFocusedCell.current) {\n        const columnIndex = parseInt(currentlyFocusedCell.current.dataset.columnIndex, 10);\n        const rowIndex = parseInt(currentlyFocusedCell.current.dataset.rowIndex, 10);\n        switch (e.key) {\n          case 'End': {\n            e.preventDefault();\n            const visibleColumns = tableRef.current.querySelector(\n              `div[data-component-name=\"AnalyticalTableHeaderRow\"]`\n            ).children;\n            const lastVisibleColumn = Array.from(visibleColumns)\n              .slice(0)\n              .reduceRight((prev, cur: HTMLDivElement, index, arr) => {\n                const columnIndex = parseInt((cur.children?.[0] as HTMLDivElement)?.dataset.columnIndex, 10);\n                if (!isNaN(columnIndex)) {\n                  arr.length = 0;\n                  return columnIndex;\n                }\n                return cur;\n              }) as number;\n\n            const newElement = tableRef.current.querySelector(\n              `div[data-visible-column-index=\"${lastVisibleColumn + 1}\"][data-row-index=\"${rowIndex}\"]`\n            );\n            setFocus(currentlyFocusedCell, newElement);\n            break;\n          }\n          case 'Home': {\n            e.preventDefault();\n            const newElement = tableRef.current.querySelector(\n              `div[data-visible-column-index=\"0\"][data-row-index=\"${rowIndex}\"]`\n            );\n            setFocus(currentlyFocusedCell, newElement);\n            break;\n          }\n          case 'PageDown': {\n            e.preventDefault();\n            if (currentlyFocusedCell.current.dataset.rowIndex === '0') {\n              const newElement = tableRef.current.querySelector(\n                `div[data-column-index=\"${columnIndex}\"][data-row-index=\"${rowIndex + 1}\"]`\n              );\n              setFocus(currentlyFocusedCell, newElement);\n            } else {\n              const lastVisibleRow = tableRef.current.querySelector(`div[data-component-name=\"AnalyticalTableBody\"]`)\n                ?.children?.[0].children.length;\n              const newElement = tableRef.current.querySelector(\n                `div[data-column-index=\"${columnIndex}\"][data-visible-row-index=\"${lastVisibleRow}\"]`\n              );\n              setFocus(currentlyFocusedCell, newElement);\n            }\n            break;\n          }\n          case 'PageUp': {\n            e.preventDefault();\n            if (currentlyFocusedCell.current.dataset.rowIndex <= '1') {\n              const newElement = tableRef.current.querySelector(\n                `div[data-column-index=\"${columnIndex}\"][data-row-index=\"0\"]`\n              );\n              setFocus(currentlyFocusedCell, newElement);\n            } else {\n              const newElement = tableRef.current.querySelector(\n                `div[data-column-index=\"${columnIndex}\"][data-visible-row-index=\"1\"]`\n              );\n              setFocus(currentlyFocusedCell, newElement);\n            }\n            break;\n          }\n          case 'ArrowRight': {\n            e.preventDefault();\n            const newElement = tableRef.current.querySelector(\n              `div[data-column-index=\"${columnIndex + 1}\"][data-row-index=\"${rowIndex}\"]`\n            );\n            if (newElement) {\n              setFocus(currentlyFocusedCell, newElement);\n            }\n            break;\n          }\n          case 'ArrowLeft': {\n            e.preventDefault();\n            const newElement = tableRef.current.querySelector(\n              `div[data-column-index=\"${columnIndex - 1}\"][data-row-index=\"${rowIndex}\"]`\n            );\n            if (newElement) {\n              setFocus(currentlyFocusedCell, newElement);\n            }\n            break;\n          }\n          case 'ArrowDown': {\n            e.preventDefault();\n            const parent = currentlyFocusedCell.current.parentElement as HTMLDivElement;\n            const firstChildOfParent = parent?.children?.[0] as HTMLDivElement;\n            const hasSubcomponent = firstChildOfParent?.dataset?.subcomponent;\n            const newElement = tableRef.current.querySelector(\n              `div[data-column-index=\"${columnIndex}\"][data-row-index=\"${rowIndex + 1}\"]`\n            );\n            if (hasSubcomponent && !currentlyFocusedCell.current?.dataset?.subcomponent) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              firstChildOfParent.tabIndex = 0;\n              firstChildOfParent.dataset.rowIndexSub = `${rowIndex}`;\n              firstChildOfParent.dataset.columnIndexSub = `${columnIndex}`;\n              firstChildOfParent.focus();\n              currentlyFocusedCell.current = firstChildOfParent;\n            } else if (newElement) {\n              setFocus(currentlyFocusedCell, newElement);\n            } else if (e.target.dataset.subcomponent) {\n              const nextElementToSubComp = tableRef.current.querySelector(\n                `div[data-column-index=\"${parseInt(e.target.dataset.columnIndexSub)}\"][data-row-index=\"${\n                  parseInt(e.target.dataset.rowIndexSub) + 1\n                }\"]`\n              );\n              setFocus(currentlyFocusedCell, nextElementToSubComp);\n            }\n            break;\n          }\n          case 'ArrowUp': {\n            e.preventDefault();\n            const previousRowCell = tableRef.current.querySelector(\n              `div[data-column-index=\"${columnIndex}\"][data-row-index=\"${rowIndex - 1}\"]`\n            );\n            const firstChildPrevRow = previousRowCell?.parentElement.children[0] as HTMLDivElement;\n            const hasSubcomponent = firstChildPrevRow?.dataset?.subcomponent;\n\n            if (currentlyFocusedCell.current?.dataset?.subcomponent) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              const newElement = tableRef.current.querySelector(\n                `div[data-column-index=\"${parseInt(e.target.dataset.columnIndexSub)}\"][data-row-index=\"${parseInt(\n                  e.target.dataset.rowIndexSub\n                )}\"]`\n              );\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            } else if (hasSubcomponent) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              firstChildPrevRow.dataset.rowIndexSub = `${rowIndex - 1}`;\n              firstChildPrevRow.dataset.columnIndexSub = `${columnIndex}`;\n              firstChildPrevRow.tabIndex = 0;\n              firstChildPrevRow.focus();\n              currentlyFocusedCell.current = firstChildPrevRow;\n            } else if (previousRowCell) {\n              setFocus(currentlyFocusedCell, previousRowCell);\n            }\n            break;\n          }\n        }\n      }\n    },\n    [currentlyFocusedCell.current, tableRef.current]\n  );\n  return [tableProps, { onFocus: onTableFocus, onKeyDown: onKeyboardNavigation, onBlur: onTableBlur }];\n};\n\nexport const useKeyboardNavigation = (hooks) => {\n  hooks.getTableProps.push(getTableProps);\n};\n","const popInVisibleColumnsDeps = (deps, { instance: { state } }) => [...deps, state.tableClientWidth];\n\nconst popInVisibleColumns = (cols, { instance }) => {\n  const { state, dispatch } = instance;\n\n  const tableClientWidth = state.isScrollable\n    ? state?.tableClientWidth + 14 /*scrollbar width*/\n    : state?.tableClientWidth;\n\n  const popInColumns = cols\n    .filter((item) => item.responsivePopIn && tableClientWidth < item.responsiveMinWidth)\n    .map((item) => ({ id: item.id ?? item.accessor, column: item }));\n\n  dispatch({ type: 'SET_POPIN_COLUMNS', payload: popInColumns });\n\n  return cols.filter(\n    (col) =>\n      !popInColumns.some((item) => item.id === (col.id ?? col.accessor)) &&\n      (col.hasOwnProperty('responsiveMinWidth')\n        ? !tableClientWidth || tableClientWidth >= col.responsiveMinWidth\n        : true)\n  );\n};\n\nexport const usePopIn = (hooks) => {\n  hooks.visibleColumns.push(popInVisibleColumns);\n  hooks.visibleColumnsDeps.push(popInVisibleColumnsDeps);\n};\n","import { ValueState } from '@ui5/webcomponents-react/dist/ValueState';\nimport React from 'react';\n\nconst baseStyles = {\n  width: '100%',\n  height: '100%'\n};\n\nconst StyleClassMap = new Map();\nStyleClassMap.set(ValueState.None, undefined);\nStyleClassMap.set(ValueState.Success, 'valueStateSuccess');\nStyleClassMap.set(ValueState.Warning, 'valueStateWarning');\nStyleClassMap.set(ValueState.Error, 'valueStateError');\nStyleClassMap.set(ValueState.Information, 'valueStateInformation');\n\n/*\n * COMPONENTS\n */\nconst Header = () => <div style={{ width: '6px' }} />;\n\nconst Cell = (instance) => {\n  const { cell, webComponentsReactProperties } = instance;\n  const styleClass = StyleClassMap.get(cell.value)\n    ? webComponentsReactProperties.classes[StyleClassMap.get(cell.value)]\n    : undefined;\n  return <div style={baseStyles} className={styleClass} />;\n};\n\n/*\n * TABLE HOOKS\n */\nconst columnsDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.withRowHighlight, webComponentsReactProperties.highlightField];\n};\nconst visibleColumnsDeps = (deps, { instance }) => [...deps, instance.webComponentsReactProperties.withRowHighlight];\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (!webComponentsReactProperties.withRowHighlight) {\n    return currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column');\n  }\n\n  const highlightColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_highlight_column');\n  return [highlightColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column')];\n};\n\nconst columns = (currentColumns, { instance }) => {\n  const { withRowHighlight, highlightField } = instance.webComponentsReactProperties;\n\n  if (!withRowHighlight) {\n    return currentColumns;\n  }\n  return [\n    {\n      id: '__ui5wcr__internal_highlight_column',\n      accessor: highlightField,\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      disableDragAndDrop: true,\n      width: 6,\n      minWidth: 6,\n      maxWidth: 6,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowHighlight = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\n\nuseRowHighlight.pluginName = 'useRowHighlight';\n","import React from 'react';\n\nconst baseStyles = {\n  width: '100%',\n  height: '100%'\n};\n\n/*\n * COMPONENTS\n */\nconst Header = () => <div style={{ width: '6px' }} />;\n\nconst Cell = (instance) => {\n  const { isNavigatedCell, webComponentsReactProperties } = instance;\n  if (isNavigatedCell) {\n    return <div style={baseStyles} className={webComponentsReactProperties.classes.valueStateInformation} />;\n  }\n  return <div style={baseStyles} />;\n};\n\n/*\n * TABLE HOOKS\n */\nconst columnsDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.withNavigationHighlight];\n};\nconst visibleColumnsDeps = (deps, { instance }) => [\n  ...deps,\n  instance.webComponentsReactProperties.withNavigationHighlight\n];\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (!webComponentsReactProperties.withNavigationHighlight) {\n    return currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_navigation_column');\n  }\n\n  const highlightColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_navigation_column');\n  return [...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_navigation_column'), highlightColumn];\n};\n\nconst columns = (currentColumns, { instance }) => {\n  const { withNavigationHighlight } = instance.webComponentsReactProperties;\n\n  if (!withNavigationHighlight) {\n    return currentColumns;\n  }\n  return [\n    ...currentColumns,\n    {\n      id: '__ui5wcr__internal_navigation_column',\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      disableDragAndDrop: true,\n      width: 6,\n      minWidth: 6,\n      maxWidth: 6,\n      Header,\n      Cell\n    }\n  ];\n};\n\nexport const useRowNavigationIndicators = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\n","import { CssSizeVariablesNames } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { CheckBox } from '@ui5/webcomponents-react/dist/CheckBox';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/dist/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/dist/TableSelectionMode';\nimport React from 'react';\n\nconst divStyle = { width: '100%', height: '100%', cursor: 'pointer' };\nconst customCheckBoxStyling = {\n  cursor: 'pointer',\n  verticalAlign: 'middle'\n};\n\n/*\n * COMPONENTS\n */\n\nconst Header = (instance) => {\n  const {\n    getToggleAllRowsSelectedProps,\n    webComponentsReactProperties: { selectionMode }\n  } = instance;\n\n  if (selectionMode === TableSelectionMode.SingleSelect) {\n    return null;\n  }\n  const checkBoxProps = getToggleAllRowsSelectedProps();\n  return (\n    <CheckBox\n      {...checkBoxProps}\n      style={customCheckBoxStyling}\n      tabIndex={-1}\n      onChange={undefined}\n      checked={checkBoxProps.indeterminate ? true : checkBoxProps.checked}\n    />\n  );\n};\n\nconst Cell = ({ row, webComponentsReactProperties: { selectionBehavior, selectionMode } }) => {\n  const handleCellClick = (e) => {\n    if (TableSelectionBehavior.RowSelector === selectionBehavior) {\n      row.getRowProps().onClick(e, true);\n    }\n  };\n\n  if (row.isGrouped && selectionMode === TableSelectionMode.SingleSelect) {\n    return null;\n  }\n  if (selectionMode === TableSelectionMode.SingleSelect) {\n    return <div style={divStyle} onClick={handleCellClick} data-name=\"internal_selection_column\" />;\n  }\n\n  return (\n    <CheckBox\n      {...row.getToggleRowSelectedProps()}\n      tabIndex={-1}\n      onChange={handleCellClick}\n      style={customCheckBoxStyling}\n      data-name=\"internal_selection_column\"\n    />\n  );\n};\n\n/*\n * TABLE HOOKS\n */\n\nconst headerProps = (\n  props,\n  {\n    instance: {\n      flatRows,\n      webComponentsReactProperties: { onRowSelected, selectionMode },\n      toggleAllRowsSelected,\n      isAllRowsSelected\n    }\n  }\n) => {\n  if (props.key === 'header___ui5wcr__internal_selection_column' && selectionMode === TableSelectionMode.MultiSelect) {\n    const onClick = (e) => {\n      toggleAllRowsSelected();\n      if (typeof onRowSelected === 'function') {\n        onRowSelected(\n          // cannot use instance.selectedFlatRows here as it only returns all rows on the first level\n          enrichEventWithDetails(e, {\n            allRowsSelected: !isAllRowsSelected,\n            selectedFlatRows: !isAllRowsSelected ? flatRows : []\n          })\n        );\n      }\n    };\n\n    const onKeyDown = (e) => {\n      if (e.code === 'Space' || e.code === 'Enter') {\n        e.preventDefault();\n        onClick(e);\n      }\n    };\n    return [props, { onClick, onKeyDown }];\n  }\n  return props;\n};\n\nconst columnDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.selectionMode, webComponentsReactProperties.selectionBehavior];\n};\n\nconst visibleColumnsDeps = (deps, { instance }) => [\n  ...deps,\n  instance.webComponentsReactProperties.selectionMode,\n  instance.webComponentsReactProperties.selectionBehavior\n];\n\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (\n    webComponentsReactProperties.selectionMode === TableSelectionMode.None ||\n    webComponentsReactProperties.selectionBehavior === TableSelectionBehavior.RowOnly\n  ) {\n    return currentVisibleColumns;\n  }\n\n  const selectionColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_selection_column');\n  return [selectionColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_selection_column')];\n};\nconst columns = (currentColumns, { instance }) => {\n  const { webComponentsReactProperties } = instance;\n  const { selectionMode, selectionBehavior, tableRef } = webComponentsReactProperties;\n\n  if (selectionMode === TableSelectionMode.None || selectionBehavior === TableSelectionBehavior.RowOnly) {\n    return currentColumns;\n  }\n  const tableSelectionColumnWidth =\n    tableRef.current &&\n    parseInt(\n      getComputedStyle(tableRef.current).getPropertyValue(\n        `--${CssSizeVariablesNames.sapWcrAnalyticalTableSelectionColumnWidth}`\n      ),\n      10\n    );\n  const selectionColumnWidth = !isNaN(tableSelectionColumnWidth) ? tableSelectionColumnWidth : 47;\n\n  return [\n    {\n      id: '__ui5wcr__internal_selection_column',\n      accessor: '__ui5wcr__internal_selection_column',\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      disableDragAndDrop: true,\n      width: selectionColumnWidth,\n      minWidth: selectionColumnWidth,\n      maxWidth: selectionColumnWidth,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowSelectionColumn = (hooks) => {\n  hooks.getHeaderProps.push(headerProps);\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\nuseRowSelectionColumn.pluginName = 'useRowSelectionColumn';\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/dist/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/dist/TableSelectionMode';\n\nconst getRowProps = (rowProps, { row, instance }) => {\n  const { webComponentsReactProperties, toggleRowSelected, selectedFlatRows, flatRows } = instance;\n  const handleRowSelect = (e, selectionCellClick = false) => {\n    if (\n      e.target?.dataset?.name !== 'internal_selection_column' &&\n      !(e.markerAllowTableRowSelection === true || e.nativeEvent?.markerAllowTableRowSelection === true) &&\n      webComponentsReactProperties.tagNamesWhichShouldNotSelectARow.has(e.target.tagName)\n    ) {\n      return;\n    }\n\n    // dont select empty rows\n    const isEmptyRow = row.original?.emptyRow;\n    if (isEmptyRow) {\n      return;\n    }\n\n    // dont select grouped rows\n    if (row.isGrouped) {\n      return;\n    }\n\n    const { selectionBehavior, selectionMode, onRowSelected, onRowClick } = webComponentsReactProperties;\n\n    if (typeof onRowClick === 'function' && e.target?.dataset?.name !== 'internal_selection_column') {\n      onRowClick(enrichEventWithDetails(e, { row }));\n    }\n\n    if (webComponentsReactProperties.selectionMode === TableSelectionMode.None) {\n      return;\n    }\n\n    // dont continue if the row was clicked and selection mode is row selector only\n    if (selectionBehavior === TableSelectionBehavior.RowSelector && !selectionCellClick) {\n      return;\n    }\n\n    if (selectionMode === TableSelectionMode.SingleSelect) {\n      for (const selectedRow of selectedFlatRows) {\n        if (selectedRow.id !== row.id) {\n          toggleRowSelected(selectedRow.id, false);\n        }\n      }\n    }\n    instance.toggleRowSelected(row.id);\n\n    // fire event\n    if (typeof onRowSelected === 'function') {\n      const payload = {\n        row,\n        isSelected: !row.isSelected,\n        selectedFlatRows: !row.isSelected ? [row.id] : [],\n        allRowsSelected: false\n      };\n      if (selectionMode === TableSelectionMode.MultiSelect) {\n        const isRowSelected = selectionCellClick ? row.isSelected : !row.isSelected;\n        if (selectionCellClick) {\n          payload.isSelected = row.isSelected;\n        }\n        payload.selectedFlatRows = isRowSelected\n          ? [...selectedFlatRows, row]\n          : selectedFlatRows.filter((prevRow) => prevRow.id !== row.id);\n\n        if (payload.selectedFlatRows.length === flatRows.length) {\n          payload.allRowsSelected = true;\n        }\n      }\n      onRowSelected(enrichEventWithDetails(e, payload));\n    }\n  };\n\n  return [\n    rowProps,\n    {\n      onKeyDown: (e, selectionCellClick = false) => {\n        if (e.key === 'Enter' || e.code === 'Space') {\n          if (!webComponentsReactProperties.tagNamesWhichShouldNotSelectARow.has(e.target.tagName)) {\n            e.preventDefault();\n          }\n          handleRowSelect(e, selectionCellClick);\n        }\n      },\n      onClick: handleRowSelect\n    }\n  ];\n};\n\nexport const useSingleRowStateSelection = (hooks) => {\n  hooks.getRowProps.push(getRowProps);\n};\nuseSingleRowStateSelection.pluginName = 'useSingleRowStateSelection';\n","import { TableSelectionBehavior } from '@ui5/webcomponents-react/dist/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/dist/TableSelectionMode';\nimport { TextAlign } from '@ui5/webcomponents-react/dist/TextAlign';\nimport { VerticalAlign } from '@ui5/webcomponents-react/dist/VerticalAlign';\nimport { CSSProperties } from 'react';\n\nconst getHeaderGroupProps = (headerGroupProps, { instance }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  return [\n    headerGroupProps,\n    {\n      className: classes.tableHeaderRow\n    }\n  ];\n};\n\nconst getHeaderProps = (columnProps, { instance, column }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  const style: CSSProperties = {\n    width: column.totalWidth\n  };\n\n  if (\n    column.id === '__ui5wcr__internal_highlight_column' ||\n    column.id === '__ui5wcr__internal_selection_column' ||\n    column.id === '__ui5wcr__internal_navigation_column'\n  ) {\n    style.padding = 0;\n  }\n\n  return [\n    columnProps,\n    {\n      className: classes.th,\n      column,\n      style: style,\n      id: column.id\n    }\n  ];\n};\n\nconst ROW_SELECTION_ATTRIBUTE = 'data-is-selected';\n\nconst getRowProps = (rowProps, { instance, row }) => {\n  const { webComponentsReactProperties } = instance;\n  const { classes, selectionBehavior, selectionMode, alternateRowColor } = webComponentsReactProperties;\n  const isEmptyRow = row.original?.emptyRow;\n  let className = classes.tr;\n  const rowCanBeSelected =\n    [TableSelectionMode.SingleSelect, TableSelectionMode.MultiSelect].includes(selectionMode) && !isEmptyRow;\n\n  if (row.isGrouped) {\n    className += ` ${classes.tableGroupHeader}`;\n  }\n\n  if (alternateRowColor && row.index % 2 !== 0) {\n    className += ` ${classes.alternateRowColor}`;\n  }\n\n  const newRowProps = {\n    className,\n    role: 'row',\n    'aria-rowindex': row.index\n  };\n\n  if (rowCanBeSelected) {\n    if (TableSelectionBehavior.RowSelector !== selectionBehavior) {\n      newRowProps.className += ` ${classes.trActive}`;\n    }\n    if (row.isSelected) {\n      newRowProps[ROW_SELECTION_ATTRIBUTE] = '';\n    }\n  }\n\n  return [rowProps, newRowProps];\n};\n\nconst getCellProps = (cellProps, { cell: { column }, instance }) => {\n  const columnIndex = instance.visibleColumns.findIndex(({ id }) => id === column.id);\n  const { classes } = instance.webComponentsReactProperties;\n  const style: CSSProperties = { width: `${column.totalWidth}px` };\n\n  switch (column.hAlign) {\n    case TextAlign.Begin:\n      style.justifyContent = 'flex-start';\n      style.textAlign = 'start';\n      break;\n    case TextAlign.Center:\n      style.justifyContent = 'center';\n      style.textAlign = 'center';\n      break;\n    case TextAlign.End:\n      style.justifyContent = 'flex-end';\n      style.textAlign = 'end';\n      break;\n    case TextAlign.Left:\n      style.justifyContent = 'left';\n      style.textAlign = 'left';\n      break;\n    case TextAlign.Right:\n      style.justifyContent = 'right';\n      style.textAlign = 'right';\n      break;\n    case TextAlign.Initial:\n      style.justifyContent = 'initial';\n      style.textAlign = 'initial';\n      break;\n  }\n  switch (column.vAlign) {\n    case VerticalAlign.Bottom:\n      style.alignItems = 'flex-end';\n      break;\n    case VerticalAlign.Middle:\n      style.alignItems = 'center';\n      break;\n    case VerticalAlign.Top:\n      style.alignItems = 'flex-start';\n      break;\n  }\n\n  let className = classes.tableCell;\n  if (column.className) {\n    className += ` ${column.className}`;\n  }\n\n  if (\n    column.id === '__ui5wcr__internal_highlight_column' ||\n    column.id === '__ui5wcr__internal_selection_column' ||\n    column.id === '__ui5wcr__internal_navigation_column'\n  ) {\n    style.padding = 0;\n  }\n\n  return [\n    cellProps,\n    {\n      className,\n      style,\n      tabIndex: -1,\n      'aria-colindex': columnIndex + 1 // aria index is 1 based, not 0\n    }\n  ];\n};\n\nexport const useStyling = (hooks) => {\n  hooks.getHeaderGroupProps.push(getHeaderGroupProps);\n  hooks.getHeaderProps.push(getHeaderProps);\n  hooks.getRowProps.push(getRowProps);\n  hooks.getCellProps.push(getCellProps);\n};\nuseStyling.pluginName = 'useStyling';\n","import { useEffect, useRef } from 'react';\n\nexport const useTableScrollHandles = (ref) => {\n  let analyticalTableRef = useRef(null);\n  if (ref) {\n    analyticalTableRef = ref;\n  }\n  const reactWindowRef = useRef<any>({});\n\n  useEffect(() => {\n    if (analyticalTableRef.current) {\n      Object.assign(analyticalTableRef.current, {\n        scrollTo: (offset, align) => {\n          if (typeof reactWindowRef.current?.scrollToOffset === 'function') {\n            reactWindowRef.current.scrollToOffset(offset, { align });\n          }\n        },\n        scrollToItem: (index, align) => {\n          if (typeof reactWindowRef.current?.scrollToIndex === 'function') {\n            reactWindowRef.current.scrollToIndex(index, { align });\n          }\n        },\n        horizontalScrollTo: (offset, align) => {\n          if (typeof reactWindowRef.current?.horizontalScrollToOffset === 'function') {\n            reactWindowRef.current.horizontalScrollToOffset(offset, { align });\n          }\n        },\n        horizontalScrollToItem: (index, align) => {\n          if (typeof reactWindowRef.current?.horizontalScrollToIndex === 'function') {\n            reactWindowRef.current.horizontalScrollToIndex(index, { align });\n          }\n        }\n      });\n    }\n  }, []);\n\n  return [analyticalTableRef, reactWindowRef];\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useCallback } from 'react';\n\nconst getToggleRowExpandedProps = (rowProps, { row, instance }) => {\n  const { onRowExpandChange, isTreeTable, renderRowSubComponent } = instance.webComponentsReactProperties;\n  const onClick = useCallback(\n    (e) => {\n      e.stopPropagation();\n      e.persist();\n      row.toggleRowExpanded();\n      let column = null;\n      if (!isTreeTable && !renderRowSubComponent) {\n        column = row.cells.find((cell) => cell.column.id === row.groupByID).column;\n      }\n\n      onRowExpandChange(enrichEventWithDetails(e, { row, column }));\n    },\n    [row, isTreeTable, onRowExpandChange]\n  );\n  return [\n    rowProps,\n    {\n      onClick\n    }\n  ];\n};\n\nexport const useToggleRowExpand = (hooks) => {\n  hooks.getToggleRowExpandedProps.push(getToggleRowExpandedProps);\n};\nuseToggleRowExpand.pluginName = 'useToggleRowExpand';\n","const getVisibleColumnsWidth = (instance) => {\n  const visibleColumnsWidth = instance.visibleColumns.map((item) => item.totalWidth);\n  Object.assign(instance, { visibleColumnsWidth });\n};\n\nexport const useVisibleColumnsWidth = (hooks) => {\n  hooks.useInstance.push(getVisibleColumnsWidth);\n};\nuseVisibleColumnsWidth.pluginName = 'useVisibleColumnsWidth';\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/dist/FlexBoxDirection';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/dist/GlobalStyleClasses';\nimport React, { forwardRef, Ref, RefObject } from 'react';\nimport clsx from 'clsx';\nimport { createUseStyles } from 'react-jss';\n\ninterface VerticalScrollbarProps {\n  internalRowHeight: number;\n  tableRef: RefObject<any>;\n  minRows: number;\n  rows: any[];\n  handleVerticalScrollBarScroll: any;\n  popInRowHeight: number;\n}\n\nconst styles = {\n  headerSection: {\n    boxSizing: 'border-box',\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground\n  },\n  scrollbar: {\n    overflowY: 'auto',\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    boxSizing: 'border-box'\n  },\n  bottomSection: {\n    flexGrow: 1,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    boxSizing: 'border-box',\n    borderRight: 'none',\n    borderBottom: 'none'\n  },\n  bottomSectionWithScrollbar: {\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  }\n};\n\nconst useStyles = createUseStyles(styles, { name: 'VerticalScrollbar' });\n\nexport const VerticalScrollbar = forwardRef((props: VerticalScrollbarProps, ref: Ref<HTMLDivElement>) => {\n  const { internalRowHeight, tableRef, minRows, rows, handleVerticalScrollBarScroll, popInRowHeight } = props;\n  const classes = useStyles();\n  const hasHorizontalScrollbar = tableRef?.current?.clientWidth !== tableRef?.current?.scrollWidth;\n\n  const horizontalScrollbarSectionStyles = clsx(\n    classes.bottomSection,\n    hasHorizontalScrollbar && classes.bottomSectionWithScrollbar\n  );\n\n  return (\n    <FlexBox direction={FlexBoxDirection.Column} style={{ position: 'relative' }}>\n      <div\n        style={{\n          height: `${internalRowHeight}px`\n        }}\n        className={classes.headerSection}\n      />\n      <div\n        ref={ref}\n        style={{\n          height: tableRef.current ? `${tableRef.current.clientHeight - internalRowHeight}px` : '0'\n        }}\n        onScroll={handleVerticalScrollBarScroll}\n        className={`${GlobalStyleClasses.sapScrollBar} ${classes.scrollbar}`}\n      >\n        <div\n          style={{\n            height: `${Math.max(minRows, rows.length) * popInRowHeight}px`,\n            width: '1px'\n          }}\n        />\n      </div>\n      <div className={horizontalScrollbarSectionStyles} />\n    </FlexBox>\n  );\n});\n\nVerticalScrollbar.displayName = 'VerticalScrollbar';\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport React, { useEffect, useRef } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { VirtualItem } from 'react-virtual';\n\nconst styles = {\n  subcomponent: {\n    position: 'absolute',\n    width: '100%',\n    '&:focus': {\n      outlineOffset: `calc(-1 * ${ThemingParameters.sapContent_FocusWidth})`,\n      outline: `${ThemingParameters.sapContent_FocusWidth} ${ThemingParameters.sapContent_FocusStyle} ${ThemingParameters.sapContent_FocusColor}`\n    }\n  }\n};\nconst useStyles = createUseStyles(styles, { name: 'RowSubComponent' });\n\ninterface RowSubComponent {\n  subComponentsHeight: Record<string, { rowId: string; subComponentHeight?: number }>;\n  virtualRow: VirtualItem;\n  dispatch: (e: { type: string; payload?: any }) => void;\n  row: any;\n  rowHeight: number;\n  children: any;\n  rows: any[];\n  alwaysShowSubComponent: boolean;\n}\n\nexport const RowSubComponent = (props: RowSubComponent) => {\n  const { subComponentsHeight, virtualRow, dispatch, row, rowHeight, children, rows, alwaysShowSubComponent } = props;\n  const subComponentRef = useRef(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const subComponentHeightObserver = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        const target = entry.target.getBoundingClientRect();\n        if (target) {\n          // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n          const borderBoxSize = Array.isArray(entry.borderBoxSize) ? entry.borderBoxSize[0] : entry.borderBoxSize;\n          // Safari doesn't implement `borderBoxSize`\n          const subCompHeight = borderBoxSize?.blockSize ?? target.height;\n          if (subComponentsHeight?.[virtualRow.index]?.subComponentHeight !== subCompHeight && subCompHeight !== 0) {\n            // use most common sub-component height of first 10 sub-components as default height\n            if (alwaysShowSubComponent && subComponentsHeight && Object.keys(subComponentsHeight).length === 10) {\n              const objGroupedByHeight = Object.values(subComponentsHeight).reduce((acc, cur) => {\n                const count = acc?.[cur.subComponentHeight];\n                if (typeof count === 'number') {\n                  return { ...acc, [cur.subComponentHeight]: count + 1 };\n                }\n                return { ...acc, [cur.subComponentHeight]: 1 };\n              }, {});\n\n              const mostUsedHeight = Object.keys(objGroupedByHeight).reduce((a, b) =>\n                objGroupedByHeight[a] > objGroupedByHeight[b] ? a : b\n              );\n              const estimatedHeights = rows.reduce((acc, cur, index) => {\n                acc[index] = { subComponentHeight: parseInt(mostUsedHeight), rowId: cur.id };\n                return acc;\n              }, {});\n              dispatch({\n                type: 'SUB_COMPONENTS_HEIGHT',\n                payload: { ...estimatedHeights, ...subComponentsHeight }\n              });\n            } else {\n              dispatch({\n                type: 'SUB_COMPONENTS_HEIGHT',\n                payload: {\n                  ...subComponentsHeight,\n                  [virtualRow.index]: { subComponentHeight: subCompHeight, rowId: row.id }\n                }\n              });\n            }\n          }\n        }\n      });\n    });\n    if (subComponentRef.current?.firstChild) {\n      subComponentHeightObserver.observe(subComponentRef.current?.firstChild);\n    }\n    return () => {\n      subComponentHeightObserver.disconnect();\n    };\n  }, [\n    subComponentRef.current?.firstChild,\n    subComponentsHeight,\n    row.id,\n    subComponentsHeight?.[virtualRow.index]?.subComponentHeight,\n    virtualRow.index\n  ]);\n\n  return (\n    <div\n      ref={subComponentRef}\n      data-subcomponent\n      tabIndex={-1}\n      style={{\n        boxSizing: 'border-box',\n        transform: `translateY(${rowHeight}px)`\n      }}\n      className={classes.subcomponent}\n    >\n      {children}\n    </div>\n  );\n};\n","import '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport '@ui5/webcomponents-icons/dist/navigation-right-arrow.js';\nimport React, { MutableRefObject, ReactNode, useCallback, useMemo } from 'react';\nimport { useVirtual } from 'react-virtual';\nimport { RowSubComponent as SubComponent } from './RowSubComponent';\n\ninterface VirtualTableBodyProps {\n  classes: Record<string, string>;\n  prepareRow: (row: unknown) => void;\n  rows: any[];\n  minRows: number;\n  reactWindowRef: MutableRefObject<any>;\n  isTreeTable: boolean;\n  internalRowHeight: number;\n  visibleRows: number;\n  alternateRowColor: boolean;\n  overscanCount: number;\n  visibleColumns: any[];\n  tableRef: MutableRefObject<any>;\n  visibleColumnsWidth: any[];\n  parentRef: MutableRefObject<any>;\n  overscanCountHorizontal: number;\n  renderRowSubComponent: (row?: any) => ReactNode;\n  popInRowHeight: number;\n  isRtl: boolean;\n  markNavigatedRow?: (row?: Record<any, any>) => boolean;\n  alwaysShowSubComponent: boolean;\n  dispatch?: (e: { type: string; payload?: any }) => void;\n  subComponentsHeight?: Record<string, { rowId: string; subComponentHeight?: number }>;\n}\n\nexport const VirtualTableBody = (props: VirtualTableBodyProps) => {\n  const {\n    classes,\n    prepareRow,\n    rows,\n    minRows,\n    reactWindowRef,\n    isTreeTable,\n    internalRowHeight,\n    visibleRows,\n    overscanCount,\n    visibleColumns,\n    tableRef,\n    visibleColumnsWidth,\n    parentRef,\n    overscanCountHorizontal,\n    renderRowSubComponent,\n    popInRowHeight,\n    markNavigatedRow,\n    isRtl,\n    alwaysShowSubComponent,\n    dispatch,\n    subComponentsHeight\n  } = props;\n\n  const itemCount = Math.max(minRows, rows.length);\n  const overscan = overscanCount ? overscanCount : Math.floor(visibleRows / 2);\n  const rowHeight = popInRowHeight !== internalRowHeight ? popInRowHeight : internalRowHeight;\n\n  const rowVirtualizer = useVirtual({\n    size: itemCount,\n    parentRef: parentRef,\n    estimateSize: React.useCallback(\n      (index) => {\n        if (\n          renderRowSubComponent &&\n          (rows[index]?.isExpanded || alwaysShowSubComponent) &&\n          subComponentsHeight?.[index]?.rowId === rows[index]?.id\n        ) {\n          return rowHeight + (subComponentsHeight?.[index]?.subComponentHeight ?? 0);\n        }\n        return rowHeight;\n      },\n      [rowHeight, rows, renderRowSubComponent, alwaysShowSubComponent, subComponentsHeight]\n    ),\n    overscan\n  });\n  const columnVirtualizer = useVirtual({\n    size: visibleColumns.length,\n    parentRef: tableRef,\n    estimateSize: useCallback(\n      (index) => {\n        return visibleColumnsWidth[index];\n      },\n      [visibleColumnsWidth]\n    ),\n    horizontal: true,\n    overscan: overscanCountHorizontal\n  });\n\n  reactWindowRef.current = {\n    ...reactWindowRef.current,\n    scrollToOffset: rowVirtualizer.scrollToOffset,\n    scrollToIndex: rowVirtualizer.scrollToIndex\n  };\n\n  const popInColumn = useMemo(\n    () =>\n      visibleColumns.filter(\n        (item) =>\n          item.id !== '__ui5wcr__internal_highlight_column' &&\n          item.id !== '__ui5wcr__internal_selection_column' &&\n          item.id !== '__ui5wcr__internal_navigation_column'\n      )[0],\n    [visibleColumns]\n  );\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        height: `${rowVirtualizer.totalSize}px`,\n        width: `${columnVirtualizer.totalSize}px`\n      }}\n    >\n      {rowVirtualizer.virtualItems.map((virtualRow, visibleRowIndex) => {\n        const row = rows[virtualRow.index];\n        const rowIndexWithHeader = virtualRow.index + 1;\n        if (!row) {\n          return (\n            <div\n              key={`empty_row_${virtualRow.index}`}\n              className={classes.tr}\n              style={{\n                height: `${virtualRow.size}px`,\n                transform: `translateY(${virtualRow.start}px)`\n              }}\n            />\n          );\n        }\n        prepareRow(row);\n        const rowProps = row.getRowProps();\n        const isNavigatedCell = markNavigatedRow(row);\n        const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : undefined;\n\n        if (!RowSubComponent && subComponentsHeight && subComponentsHeight?.[virtualRow.index]?.subComponentHeight) {\n          dispatch({\n            type: 'SUB_COMPONENTS_HEIGHT',\n            payload: {\n              ...subComponentsHeight,\n              [virtualRow.index]: { subComponentHeight: 0, rowId: row.id }\n            }\n          });\n        }\n        return (\n          <div\n            {...rowProps}\n            style={{\n              ...(rowProps.style ?? {}),\n              height: `${rowHeight}px`,\n              transform: `translateY(${virtualRow.start}px)`,\n              position: 'absolute'\n            }}\n          >\n            {RowSubComponent && (row.isExpanded || alwaysShowSubComponent) && (\n              <SubComponent\n                subComponentsHeight={subComponentsHeight}\n                virtualRow={virtualRow}\n                dispatch={dispatch}\n                row={row}\n                rowHeight={rowHeight}\n                rows={rows}\n                alwaysShowSubComponent={alwaysShowSubComponent}\n              >\n                {RowSubComponent}\n              </SubComponent>\n            )}\n            {columnVirtualizer.virtualItems.map((virtualColumn, visibleColumnIndex) => {\n              const cell = row.cells[virtualColumn.index];\n              const directionStyles = isRtl\n                ? {\n                    transform: `translateX(-${virtualColumn.start}px)`,\n                    right: 0\n                  }\n                : { transform: `translateX(${virtualColumn.start}px)`, left: 0 };\n\n              if (!cell) {\n                return null;\n              }\n              const cellProps = cell.getCellProps();\n              if (row.original?.emptyRow) {\n                return <div {...cellProps} />;\n              }\n              let contentToRender;\n              if (\n                cell.column.id === '__ui5wcr__internal_highlight_column' ||\n                cell.column.id === '__ui5wcr__internal_selection_column' ||\n                cell.column.id === '__ui5wcr__internal_navigation_column'\n              ) {\n                contentToRender = 'Cell';\n              } else if (isTreeTable || (!alwaysShowSubComponent && RowSubComponent)) {\n                contentToRender = 'Expandable';\n              } else if (cell.isGrouped) {\n                contentToRender = 'Grouped';\n              } else if (cell.isAggregated) {\n                contentToRender = 'Aggregated';\n              } else if (cell.isPlaceholder) {\n                contentToRender = 'RepeatedValue';\n              } else {\n                contentToRender = 'Cell';\n              }\n              return (\n                <div\n                  {...cellProps}\n                  data-visible-column-index={visibleColumnIndex}\n                  data-column-index={virtualColumn.index}\n                  data-visible-row-index={visibleRowIndex + 1}\n                  data-row-index={rowIndexWithHeader}\n                  style={{\n                    ...cellProps.style,\n                    position: 'absolute',\n                    width: `${virtualColumn.size}px`,\n                    top: 0,\n                    ...directionStyles\n                  }}\n                >\n                  {popInRowHeight !== internalRowHeight && popInColumn.id === cell.column.id\n                    ? cell.render('PopIn', { contentToRender, internalRowHeight })\n                    : cell.render(contentToRender, isNavigatedCell === true ? { isNavigatedCell } : {})}\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nexport const VirtualTableBodyContainer = (props) => {\n  const {\n    tableBodyHeight,\n    totalColumnsWidth,\n    children,\n    parentRef,\n    classes,\n    infiniteScroll,\n    infiniteScrollThreshold,\n    onLoadMore,\n    rows,\n    internalRowHeight,\n    handleExternalScroll,\n    visibleRows,\n    popInRowHeight\n  } = props;\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    if (parentRef.current) {\n      setIsMounted(true);\n    }\n  }, [parentRef.current]);\n\n  const classNames = clsx(classes.tbody);\n\n  const lastScrollTop = useRef(0);\n  const firedInfiniteLoadEvents = useRef(new Set());\n  const prevRowsLength = useRef(rows.length);\n\n  useEffect(() => {\n    if (prevRowsLength.current > rows.length) {\n      firedInfiniteLoadEvents.current.clear();\n      parentRef.current.scrollTop = 0;\n      lastScrollTop.current = 0;\n    }\n  }, [rows.length, prevRowsLength.current]);\n\n  useEffect(() => {\n    prevRowsLength.current = rows.length;\n  }, [rows.length]);\n\n  const onScroll = useCallback(\n    (event) => {\n      handleExternalScroll();\n      const scrollOffset = event.target.scrollTop;\n      const isScrollingDown = lastScrollTop.current < scrollOffset;\n      if (isScrollingDown && infiniteScroll) {\n        lastScrollTop.current = scrollOffset;\n        const currentLastRow =\n          Math.floor(scrollOffset / popInRowHeight) +\n          (popInRowHeight === internalRowHeight ? visibleRows : Math.floor(tableBodyHeight / popInRowHeight));\n        if (rows.length - currentLastRow < infiniteScrollThreshold) {\n          if (!firedInfiniteLoadEvents.current.has(rows.length)) {\n            const rootNodes = rows.filter((row) => row.depth === 0);\n            onLoadMore({\n              detail: {\n                rowCount: rootNodes.length,\n                totalRowCount: rows.length\n              }\n            });\n          }\n          firedInfiniteLoadEvents.current.add(rows.length);\n        }\n      }\n    },\n    [\n      infiniteScroll,\n      infiniteScrollThreshold,\n      onLoadMore,\n      rows.length,\n      internalRowHeight,\n      firedInfiniteLoadEvents,\n      lastScrollTop,\n      handleExternalScroll,\n      popInRowHeight,\n      tableBodyHeight\n    ]\n  );\n\n  return (\n    <div\n      className={classNames}\n      ref={parentRef}\n      onScroll={onScroll}\n      style={{\n        position: 'relative',\n        overflowY: 'auto',\n        height: `${tableBodyHeight}px`,\n        width: `${totalColumnsWidth}px`\n      }}\n      data-component-name=\"AnalyticalTableBody\"\n    >\n      {isMounted && children}\n    </div>\n  );\n};\n","import { actions } from 'react-table';\n\nexport const stateReducer = (prevState, action) => {\n  const { payload } = action;\n\n  if (prevState.isRtl && action.type === actions.columnResizing) {\n    const { clientX } = action;\n    const { startX, columnWidth, headerIdWidths } = prevState.columnResizing;\n\n    const deltaX = startX - clientX;\n    const percentageDeltaX = deltaX / columnWidth;\n\n    const newColumnWidths = {};\n\n    headerIdWidths.forEach(([headerId, headerWidth]) => {\n      newColumnWidths[headerId] = Math.max(headerWidth + headerWidth * percentageDeltaX, 0);\n    });\n\n    return {\n      ...prevState,\n      columnResizing: {\n        ...prevState.columnResizing,\n        columnWidths: {\n          ...prevState.columnResizing.columnWidths,\n          ...newColumnWidths\n        }\n      }\n    };\n  }\n\n  switch (action.type) {\n    case 'TABLE_RESIZE':\n      return { ...prevState, tableClientWidth: payload.tableClientWidth };\n    case 'VISIBLE_ROWS':\n      return { ...prevState, visibleRows: payload.visibleRows };\n    case 'TABLE_SCROLLING_ENABLED':\n      return { ...prevState, isScrollable: payload.isScrollable };\n    case 'SET_SELECTED_ROW_IDS':\n      return { ...prevState, selectedRowIds: payload.selectedRowIds };\n    case 'SET_POPIN_COLUMNS':\n      return { ...prevState, popInColumns: payload };\n    case 'INTERACTIVE_ROWS_HAVE_POPIN':\n      return { ...prevState, interactiveRowsHavePopIn: payload };\n    case 'IS_RTL':\n      return { ...prevState, isRtl: payload.isRtl };\n    case 'SUB_COMPONENTS_HEIGHT':\n      return { ...prevState, subComponentsHeight: payload };\n    default:\n      return prevState;\n  }\n};\n","import { Title } from '@ui5/webcomponents-react/dist/Title';\nimport React, { forwardRef, isValidElement, ReactNode, ReactText, Ref } from 'react';\n\nconst styles = {\n  minHeight: '1.5rem',\n  display: 'flex',\n  alignItems: 'center'\n};\n\nexport interface TitleBarProps {\n  children: ReactText | ReactNode;\n}\n\nexport const TitleBar = forwardRef((props: TitleBarProps, ref: Ref<HTMLDivElement>) => {\n  const { children } = props;\n  return (\n    <div style={styles} ref={ref}>\n      {typeof children === 'string' && <Title>{children}</Title>}\n      {isValidElement(children) && children}\n    </div>\n  );\n});\n","import { defaultOrderByFn } from 'react-table';\n\nexport const orderByFn = (rows, functions, directions) => {\n  const wrapSortFn = (sortFn, index) => {\n    const desc = directions[index] === false || directions[index] === 'desc';\n\n    return (rowA, rowB) => {\n      if (rowA.original?.emptyRow && !rowB.original?.emptyRow) {\n        return desc ? -1 : 1;\n      }\n      if (!rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return desc ? 1 : -1;\n      }\n      if (rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return 0;\n      }\n      return sortFn(rowA, rowB);\n    };\n  };\n\n  const wrappedSortfunctions = functions.map(wrapSortFn);\n\n  return defaultOrderByFn(rows, wrappedSortfunctions, directions);\n};\n\n// copied from https://github.com/tannerlinsley/react-table/blob/f97fb98509d0b27cc0bebcf3137872afe4f2809e/src/utils.js#L320-L347 (13. Jan 2021)\nconst reOpenBracket = /\\[/g;\nconst reCloseBracket = /\\]/g;\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map((d) => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(reOpenBracket, '.')\n      .replace(reCloseBracket, '')\n      // split it back out on periods\n      .split('.')\n  );\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n  return newArr;\n}\n\n// copied from https://github.com/tannerlinsley/react-table/blob/master/src/utils.js#L169-L191 (13.Jan 2021)\nconst pathObjCache = new Map();\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n  const cacheKey = typeof path === 'function' ? path : JSON.stringify(path);\n\n  const pathObj =\n    pathObjCache.get(cacheKey) ||\n    (() => {\n      const pathObj = makePathArray(path);\n      pathObjCache.set(cacheKey, pathObj);\n      return pathObj;\n    })();\n  let val;\n\n  try {\n    val = pathObj.reduce((cursor, pathPart) => {\n      return cursor[pathPart];\n    }, obj);\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def;\n}\n\nexport const tagNamesWhichShouldNotSelectARow = new Set([\n  'UI5-AVATAR',\n  'UI5-BUTTON',\n  'UI5-CALENDAR',\n  'UI5-CHECKBOX',\n  'UI5-COLOR-PICKER',\n  'UI5-COMBOBOX',\n  'UI5-DATE-PICKER',\n  'UI5-DATERANGE-PICKER',\n  'UI5-DATETIME-PICKER',\n  'UI5-DURATION-PICKER',\n  'UI5-FILE-UPLOADER',\n  'UI5-ICON',\n  'UI5-INPUT',\n  'UI5-LINK',\n  'UI5-MULTI-COMBOBOX',\n  'UI5-MULTI-INPUT',\n  'UI5-RADIO-BUTTON',\n  'UI5-RANGE-SLIDER',\n  'UI5-RATING-INDICATOR',\n  'UI5-SEGMENTED-BUTTON',\n  'UI5-SELECT',\n  'UI5-SLIDER',\n  'UI5-STEP-INPUT',\n  'UI5-SWITCH',\n  'UI5-TEXT-AREA',\n  'UI5-TIME-PICKER',\n  'UI5-TOGGLE-BUTTON',\n  'UI5-UPLOAD-COLLECTION'\n]);\n","import { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { DRAG_TO_RESIZE } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport React, { MutableRefObject, useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\n\nconst verticalResizerStyles = {\n  container: {\n    overflow: 'hidden',\n    position: 'relative',\n    height: '5px',\n    textAlign: 'center',\n    cursor: 'row-resize',\n    boxSizing: 'border-box',\n    '&:hover': {\n      backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor,\n      color: ThemingParameters.sapHighlightTextColor\n    },\n    '&:before': {\n      fontSize: '10px',\n      fontFamily: ThemingParameters.sapFontFamily,\n      top: 0,\n      position: 'absolute',\n      content: '\"\\u2981\\u2981\\u2981\\u2981\"',\n      lineHeight: '5px',\n      pointerEvents: 'none'\n    }\n  },\n  resizer: {\n    position: 'absolute',\n    opacity: 0.5,\n    backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor,\n    height: '5px'\n  }\n};\n\nconst useStyles = createUseStyles(verticalResizerStyles, { name: 'VerticalResizer' });\n\ninterface VerticalResizerProps {\n  analyticalTableRef: MutableRefObject<any>;\n  dispatch: (e: { type: string; payload?: any }) => void;\n  extensionsHeight: number;\n  internalRowHeight: number;\n  hasPopInColumns: boolean;\n  popInRowHeight: number;\n  portalContainer: Element;\n}\n\nconst isTouchEvent = (e, touchEvent) => {\n  if (e.type === touchEvent) {\n    return !(e.touches && e.touches.length > 1);\n  }\n  return false;\n};\n\nexport const VerticalResizer = (props: VerticalResizerProps) => {\n  const {\n    analyticalTableRef,\n    dispatch,\n    extensionsHeight,\n    internalRowHeight,\n    hasPopInColumns,\n    popInRowHeight,\n    portalContainer\n  } = props;\n  const classes = useStyles();\n  const startY = useRef(null);\n  const verticalResizerRef = useRef(null);\n  const [resizerPosition, setResizerPosition] = useState(undefined);\n  const [isDragging, setIsDragging] = useState(false);\n  const [mountTouchEvents, setMountTouchEvents] = useState(false);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const handleResizeStart = useCallback(\n    (e) => {\n      e.preventDefault();\n      const touchEvent = isTouchEvent(e, 'touchstart');\n      startY.current = touchEvent ? Math.round(e.touches[0].pageY) : e.pageY;\n      setMountTouchEvents(touchEvent);\n      setIsDragging(true);\n    },\n    [startY.current, setIsDragging]\n  );\n\n  const handleMove = useCallback(\n    (e) => {\n      setResizerPosition((prev) => ({\n        ...prev,\n        top: isTouchEvent(e, 'touchmove') ? Math.round(e.touches[0].pageY) : e.pageY\n      }));\n    },\n    [setResizerPosition]\n  );\n  const handleResizeEnd = useCallback(\n    (e) => {\n      setIsDragging(false);\n      const rowCount = Math.floor(\n        (analyticalTableRef.current.clientHeight +\n          (isTouchEvent(e, 'touchend') ? Math.round(e.changedTouches[0].pageY) : e.pageY) -\n          startY.current -\n          extensionsHeight -\n          5) /*resizer height*/ /\n          popInRowHeight\n      );\n      if (hasPopInColumns) {\n        dispatch({ type: 'INTERACTIVE_ROWS_HAVE_POPIN', payload: true });\n      }\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: rowCount }\n      });\n    },\n    [analyticalTableRef.current?.clientHeight, startY.current, extensionsHeight, internalRowHeight, dispatch]\n  );\n  useEffect(() => {\n    const removeEventListeners = () => {\n      if (mountTouchEvents) {\n        document.removeEventListener('touchmove', handleMove);\n        document.removeEventListener('touchend', handleResizeEnd);\n      } else {\n        document.removeEventListener('mouseup', handleResizeEnd);\n        document.removeEventListener('mousemove', handleMove);\n      }\n    };\n    if (isDragging) {\n      if (mountTouchEvents) {\n        document.addEventListener('touchmove', handleMove);\n        document.addEventListener('touchend', handleResizeEnd);\n      } else {\n        document.addEventListener('mousemove', handleMove);\n        document.addEventListener('mouseup', handleResizeEnd);\n      }\n    } else {\n      removeEventListeners();\n    }\n    return () => {\n      removeEventListeners();\n    };\n  }, [isDragging]);\n\n  useEffect(() => {\n    const resizerPosTop = verticalResizerRef.current?.getBoundingClientRect()?.top + window.scrollY;\n    const resizerPosLeft = verticalResizerRef.current?.getBoundingClientRect()?.left + window.scrollX;\n    const resizerPosWidth = verticalResizerRef.current?.getBoundingClientRect()?.width;\n    if (!isDragging && resizerPosTop > 0) {\n      setResizerPosition({ left: resizerPosLeft, top: resizerPosTop, width: resizerPosWidth });\n    }\n  }, [verticalResizerRef.current?.getBoundingClientRect()?.top, isDragging]);\n\n  useEffect(() => {\n    return () => {\n      dispatch({ type: 'WITH_POPIN', payload: false });\n    };\n  }, []);\n\n  return (\n    <div\n      className={classes.container}\n      ref={verticalResizerRef}\n      onMouseDown={handleResizeStart}\n      onTouchStart={handleResizeStart}\n      role=\"separator\"\n      title={i18nBundle.getText(DRAG_TO_RESIZE)}\n    >\n      {resizerPosition &&\n        isDragging &&\n        createPortal(\n          <div\n            className={classes.resizer}\n            style={{ top: resizerPosition.top, left: resizerPosition.left, width: resizerPosition.width }}\n          />,\n          portalContainer\n        )}\n    </div>\n  );\n};\n","import { useIsomorphicLayoutEffect, useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { debounce, enrichEventWithDetails } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { AnalyticalTableScrollMode } from '@ui5/webcomponents-react/dist/AnalyticalTableScrollMode';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/dist/GlobalStyleClasses';\nimport { TableScaleWidthMode } from '@ui5/webcomponents-react/dist/TableScaleWidthMode';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/dist/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/dist/TableSelectionMode';\nimport { TableVisibleRowCountMode } from '@ui5/webcomponents-react/dist/TableVisibleRowCountMode';\nimport { TextAlign } from '@ui5/webcomponents-react/dist/TextAlign';\nimport { ValueState } from '@ui5/webcomponents-react/dist/ValueState';\nimport { VerticalAlign } from '@ui5/webcomponents-react/dist/VerticalAlign';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport clsx from 'clsx';\nimport React, {\n  ComponentType,\n  CSSProperties,\n  forwardRef,\n  MutableRefObject,\n  ReactNode,\n  ReactText,\n  Ref,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport {\n  PluginHook,\n  useColumnOrder,\n  useExpanded,\n  useFilters,\n  useGlobalFilter,\n  useGroupBy,\n  useResizeColumns,\n  useRowSelect,\n  useSortBy,\n  useTable\n} from 'react-table';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport styles from './AnayticalTable.jss';\nimport { ColumnHeaderContainer } from './ColumnHeader/ColumnHeaderContainer';\nimport { DefaultColumn } from './defaults/Column';\nimport { DefaultLoadingComponent } from './defaults/LoadingComponent';\nimport { TablePlaceholder } from './defaults/LoadingComponent/TablePlaceholder';\nimport { DefaultNoDataComponent } from './defaults/NoDataComponent';\nimport { useDragAndDrop } from './hooks/useDragAndDrop';\nimport { useDynamicColumnWidths } from './hooks/useDynamicColumnWidths';\nimport { useKeyboardNavigation } from './hooks/useKeyboardNavigation';\nimport { usePopIn } from './hooks/usePopIn';\nimport { useRowHighlight } from './hooks/useRowHighlight';\nimport { useRowNavigationIndicators } from './hooks/useRowNavigationIndicator';\nimport { useRowSelectionColumn } from './hooks/useRowSelectionColumn';\nimport { useSingleRowStateSelection } from './hooks/useSingleRowStateSelection';\nimport { useStyling } from './hooks/useStyling';\nimport { useTableScrollHandles } from './hooks/useTableScrollHandles';\nimport { useToggleRowExpand } from './hooks/useToggleRowExpand';\nimport { useVisibleColumnsWidth } from './hooks/useVisibleColumnsWidth';\nimport { VerticalScrollbar } from './scrollbars/VerticalScrollbar';\nimport { VirtualTableBody } from './TableBody/VirtualTableBody';\nimport { VirtualTableBodyContainer } from './TableBody/VirtualTableBodyContainer';\nimport { stateReducer } from './tableReducer/stateReducer';\nimport { TitleBar } from './TitleBar';\nimport { orderByFn, tagNamesWhichShouldNotSelectARow } from './util';\nimport { VerticalResizer } from './VerticalResizer';\n\nexport interface AnalyticalTableColumnDefinition {\n  // base properties\n  /**\n   * This `string`/`function` is used to build the data model for your column. <br />\n   * __Note__: You can also specify deeply nested values with accessors like `info.hobby` or even `address[0].street`\n   */\n  accessor: string | ((row: any, rowIndex: number) => any);\n  /**\n   * Defines the unique ID for the column. It is used by reference in things like sorting, grouping, filtering etc.\n   * __Note__: Required if `accessor` is a function, otherwise `accessor` will overwrite the id.\n   */\n  id?: string;\n  /**\n   * Can either be string or a React component that will be rendered as column header\n   */\n  Header?: string | ComponentType<any>;\n  /**\n   * Tooltip for the column header. If not set, the display text will be the same as the Header if it is a `string`.\n   */\n  headerTooltip?: string;\n  /**\n   * Custom cell renderer. If set, the table will call that component for every cell and pass all required information as props, e.g. the cell value as `props.cell.value`\n   */\n  Cell?: string | ComponentType<any>;\n  /**\n   * Cell width, if not set the table will distribute all columns without a width evenly.\n   */\n  width?: number;\n  /**\n   * Minimum width of the column, e.g. used for resizing.\n   */\n  minWidth?: number;\n  /**\n   * Maximum with of the column, e.g. used for resizing.\n   */\n  maxWidth?: number;\n\n  // useFilters\n  /**\n   * Filter Component to be rendered in the Header.\n   */\n  Filter?: string | ComponentType<any>;\n  /**\n   * Disable filters for this column.\n   */\n  disableFilters?: boolean;\n  /**\n   * If set to true, this column will be filterable, regardless if it has a valid `accessor`.\n   */\n  defaultCanFilter?: boolean;\n  /**\n   * Either a string or a filter function.<br />Supported String Values: <ul><li>`text`</li><li>`exactText`</li><li>`exactTextCase`</li><li>`equals`</li></ul>\n   */\n  filter?: string | Function;\n\n  // useGlobalFilter\n  /**\n   * Disables global filtering for this column\n   */\n  disableGlobalFilter?: boolean;\n\n  // useGroupBy\n  /**\n   * Component to render for aggregated cells.\n   */\n  Aggregated?: string | ComponentType<any>;\n  /**\n   * Aggregation function or string.<br />Supported String Values: <ul><li>`min`</li><li>`max`</li><li>`median`</li><li>`count`</li></ul>\n   */\n  aggregate?: string | ((leafValues, aggregatedValues) => any);\n  /**\n   * When attempting to group/aggregate non primitive cell values (eg. arrays of items) you will likely need to resolve a stable primitive value like a number or string to use in normal row aggregations. This property can be used to aggregate or simply access the value to be used in aggregations eg. count-ing the unique number of items in a cell's array value before sum-ing that count across the table.\n   */\n  aggregateValue?: string | ((values, row, column) => any);\n  /**\n   * Disable groupBy for this column.\n   */\n  disableGroupBy?: boolean;\n\n  // useSortBy\n  /**\n   * If set to true, this column will be sortable, regardless if it has a valid `accessor`.\n   */\n  defaultCanSort?: boolean;\n  /**\n   * Disable sorting for this column.\n   */\n  disableSortBy?: boolean;\n  /**\n   * If set to `true`, the first sort direction for this column will be descending instead of ascending.\n   */\n  sortDescFirst?: boolean;\n  /**\n   * If set to `true`, the underlying sorting direction will be inverted, but the UI will not.\n   */\n  sortInverted?: boolean;\n  /**\n   * String or custom sort function.<br />Supported String Values: <ul><li>`basic`</li><li>`datetime`</li><li>`alphanumeric`</li></ul>\n   */\n  sortType?: string | ((rowA, rowB, columnId: string, descending: boolean) => any);\n\n  // useResizeColumns\n  /**\n   * Disable resizing for this column.\n   */\n  disableResizing?: boolean;\n\n  // ui5 web components react properties\n  /**\n   * Horizontal alignment of the cell.\n   */\n  hAlign?: TextAlign;\n  /**\n   * Vertical alignment of the cell.\n   */\n  vAlign?: VerticalAlign;\n\n  // usePopIn\n  /**\n   * Enables the pop-in behavior of the column. When the `responsiveMinWidth` is smaller then the width of the table, the content of each cell will move to the first cell in the row, improving usability on small or mobile devices.\n   */\n  responsivePopIn?: boolean;\n  /**\n   * Defines how the table should react when its width falls below the `responsiveMinWidth`.\n   *\n   * - If `responsivePopIn` is `true` the content of this column will be moved to the first column.\n   * - If `responsivePopIn` is not set or `false` the column will be hidden.\n   */\n  responsiveMinWidth?: number;\n  /**\n   * Custom pop-in header renderer. If set, the table will call that component for every column that is \"popped-in\" and pass the table instance as prop.\n   */\n  PopInHeader?: string | ComponentType<any>;\n\n  //use useDragAndDrop\n  /**\n   * Defines if the column is reorderable by dragging and dropping columns.\n   *\n   * Defaults to: `true`\n   *\n   * @deprecated please use `disableDragAndDrop` instead.\n   */\n  canReorder?: boolean;\n  /**\n   * Defines if the column is reorderable by dragging and dropping columns.\n   */\n  disableDragAndDrop?: boolean;\n\n  // all other custom properties or [React Table](https://react-table.tanstack.com/) column options\n  [key: string]: any;\n}\n\ninterface DivWithCustomScrollProp extends HTMLDivElement {\n  isExternalVerticalScroll?: boolean;\n}\n\nexport interface AnalyticalTableDomRef extends Omit<HTMLDivElement, 'scrollTo'> {\n  scrollToItem: (index: number, align?: AnalyticalTableScrollMode) => void;\n  scrollTo: (scrollOffset: number) => void; // overrides native scrollTo function\n}\n\nexport interface AnalyticalTablePropTypes extends Omit<CommonProps, 'title'> {\n  /**\n   * Defines the columns array where you can define the configuration for each column.\n   */\n  columns: AnalyticalTableColumnDefinition[];\n  /**\n   * The data array that you want to display on the table.\n   */\n  data: Record<any, any>[];\n  /**\n   * Component or text rendered in the header section of the `AnalyticalTable`.\n   *\n   * __Note:__ If not set, it will be hidden.\n   */\n  header?: ReactText | ReactNode;\n  /**\n   * Extension section of the Table. If not set, no extension area will be rendered\n   */\n  extension?: ReactNode;\n  /**\n   * The minimum number of rows that are displayed. If the data contains less entries than `minRows`, it will be filled with empty rows.\n   */\n  minRows?: number;\n  /**\n   * Defines how the table table will render visible rows.\n   *\n   * - __\"Fixed\":__ The table always has as many rows as defined in the `visibleRowCount` prop.\n   * - __\"Auto\":__ The table automatically fills the height of the surrounding container.\n   * - __\"Interactive\":__ Adds a resizer to the bottom of the table to dynamically add or remove visible rows. The initial number of rows is defined by the `visibleRows` prop.\n   *\n   * __Note:__ When `\"Auto\"` is enabled, we recommend to use a fixed height for the outer container.\n   */\n  visibleRowCountMode?: TableVisibleRowCountMode | keyof typeof TableVisibleRowCountMode;\n  /**\n   * The number of rows visible without going into overflow.\n   *\n   * __Note:__ If the data contains more entries than the `visibleRow` count, a vertical scrollbar is rendered and the table goes into overflow.\n   */\n  visibleRows?: number;\n  /**\n   * Indicates whether a loading indicator should be shown.\n   *\n   * __Note:__ If the data array is not empty and loading is set to `true` a `Loader` will be displayed underneath the header, otherwise a loading placeholder will be shown.\n   * You can use your own placeholder by passing it to the `LoadingComponent` prop.\n   */\n  loading?: boolean;\n  /**\n   * Defines the text shown if the data array is empty. If not set \"No data\" will be displayed.\n   */\n  noDataText?: string;\n  /**\n   * Defines the height of the rows and header.\n   */\n  rowHeight?: number;\n  /**\n   * Defines whether the table should display rows with alternating row colors.\n   */\n  alternateRowColor?: boolean;\n  /**\n   * Flag whether the table should add an extra column at the end of the rows for displaying a navigation highlight.\n   */\n  withNavigationHighlight?: boolean;\n  /**\n   * Flag whether the table should add an extra column at the start of the rows for displaying row highlights, based on the `highlightField` prop.\n   */\n  withRowHighlight?: boolean;\n  /**\n   * Accessor for showing the row highlights. Only taken into account when `withRowHighlight` is set.\n   *\n   * Default Value: `status`.\n   *\n   * The value of this prop can either be a `string` pointing to a `ValueState` in your dataset\n   * or an accessor function which should return a `ValueState`.\n   */\n  highlightField?: string | ((row: Record<any, any>) => ValueState);\n  /**\n   * Defines whether columns are filterable.\n   */\n  filterable?: boolean;\n  /**\n   * Defines whether columns are sortable.\n   */\n  sortable?: boolean;\n  /**\n   * Defines whether columns are groupable.\n   */\n  groupable?: boolean;\n  /**\n   * Group table rows by adding the column's `accessor` or `id` to the array.\n   *\n   * __Note:__ This prop has no effect when `isTreeTable` is true or `renderRowSubComponent` is set.\n   */\n  groupBy?: string[];\n  /**\n   * Defines the selection behavior of the table.\n   *\n   * - __\"Row\":__ A selection column is rendered along with the normal columns. The whole row is selectable.\n   * - __\"RowOnly\":__ No selection column is rendered along with the normal columns. The whole row is selectable.\n   * - __\"RowSelector\":__ The row is only selectable by clicking on the corresponding field in the selection column.\n   */\n  selectionBehavior?: TableSelectionBehavior | keyof typeof TableSelectionBehavior;\n  /**\n   * Defines the `SelectionMode` of the table.\n   *\n   * - __\"None\":__ The rows are not selectable.\n   * - __\"SingleSelect\":__ You can select only one row at once. Clicking on another row will unselect the previously selected row.\n   * - __\"MultiSelect\":__ You can select multiple rows.\n   */\n  selectionMode?: TableSelectionMode | keyof typeof TableSelectionMode;\n  /**\n   * Defines the column growing behaviour. Possible Values:\n   *\n   * - **Default**: Every column without fixed width gets the maximum available space of the table.\n   * - **Smart**: Every column gets the space it needs for displaying the full header text. If all headers need more space than the available table width, horizontal scrolling will be enabled. If there is space left, columns with a long content will get more space until there is no more table space left.\n   * - **Grow**: Every column gets the space it needs for displaying its full header text and full content of all cells. If it requires more space than the table has, horizontal scrolling will be enabled.\n   *\n   */\n  scaleWidthMode?: TableScaleWidthMode | keyof typeof TableScaleWidthMode;\n  /**\n   * Defines the columns order by their `accessor` or `id`.\n   */\n  columnOrder?: string[];\n  /**\n   * Defines whether infinite scroll is active.\n   */\n  infiniteScroll?: boolean;\n  /**\n   * The `infiniteScrollThreshold` defines at how many remaining rows the `onLoadMore` event should be fired.\n   *\n   * Example: Your initial dataset consists of 50 entries and you want to load more data when the user scrolled to the 40th row. Then you should set the `infiniteScrollThreshold` to 10.\n   */\n  infiniteScrollThreshold?: number;\n  /**\n   * The current global filter value.\n   */\n  globalFilterValue?: string;\n  /**\n   * Additional options which will be passed to [react-table´s useTable hook](https://react-table.tanstack.com/docs/api/useTable#table-options)\n   */\n  reactTableOptions?: Record<string, unknown>;\n  /**\n   * You can use this prob to add custom hooks to the table.\n   */\n  tableHooks?: PluginHook<any>[];\n  /**\n   * Defines the key for nested rows.\n   *\n   * Default: \"children\"\n   */\n  subRowsKey?: string;\n  /**\n   * The key must consist of a valid `rowId` like `{ 2: true }` or `{ '0.2.0': true }` for nested rows.\n   */\n  selectedRowIds?: { [key: string]: boolean };\n  /**\n   * Defines whether the table should act as tree-table.\n   */\n  isTreeTable?: boolean;\n  /**\n   * The amount of columns to load both behind and ahead of the current window range.\n   */\n  overscanCountHorizontal?: number;\n  /**\n   * The amount of rows to load both behind and ahead of the current window range.\n   */\n  overscanCount?: number;\n  /**\n   * Defines the subcomponent that should be displayed below each row.\n   */\n  renderRowSubComponent?: (row?: any) => ReactNode;\n  /**\n   * Defines whether a subcomponent should be rendered as expandable container or directly at the bottom of the row.\n   */\n  alwaysShowSubComponent?: boolean;\n  /**\n   * Defines where modals and other elements which should be mounted outside of the DOM hierarchy are rendered into via `React.createPortal`.\n   *\n   * Defaults to: `document.body`\n   */\n  portalContainer?: Element;\n\n  // events\n  /**\n   * This callback can be used to programmatically show an indicator for navigated rows. It has no effect if `withNavigationHighlight` is not set.\n   *\n   * __Must be memoized!__\n   */\n  markNavigatedRow?: (row?: Record<any, any>) => boolean;\n  /**\n   * Fired when the sorting of the rows changes.\n   */\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  /**\n   * Fired when the grouping of the rows changes.\n   */\n  onGroup?: (e: CustomEvent<{ column: unknown; groupedColumns: string[] }>) => void;\n  /**\n   * Fired when a row is selected or unselected.\n   */\n  onRowSelected?: (\n    e?: CustomEvent<{\n      allRowsSelected?: boolean;\n      row?: Record<string, unknown>;\n      isSelected?: boolean;\n      selectedFlatRows?: Record<string, unknown>[] | string[];\n    }>\n  ) => void;\n  /**\n   * Fired when a row is clicked\n   */\n  onRowClick?: (e?: CustomEvent<{ row?: unknown }>) => void;\n  /**\n   * Fired when a row is expanded or collapsed\n   */\n  onRowExpandChange?: (e?: CustomEvent<{ row: unknown; column: unknown }>) => void;\n  /**\n   * Fired when the columns order is changed.\n   */\n  onColumnsReordered?: (e?: CustomEvent<{ columnsNewOrder: string[]; column: unknown }>) => void;\n  /**\n   * Fired when the `infiniteScrollThreshold` is reached.\n   *\n   * @param {number} e.detail.rowCount - The number of rows\n   * @param {number} e.detail.totalRowCount - The total number of rows, including sub-rows\n   */\n  onLoadMore?: (e?: { detail: { rowCount: number; totalRowCount: number } }) => void;\n\n  // default components\n  /**\n   * Component that will be rendered when the table is not loading and has no data.\n   */\n  NoDataComponent?: ComponentType<any>;\n  /**\n   * Component that will be rendered when the table is loading and has no data.\n   */\n  LoadingComponent?: ComponentType<any>;\n\n  /**\n   * Exposes the internal table instance.\n   * This object will contain all [instance properties](https://react-table.tanstack.com/docs/api/useTable#instance-properties)\n   * of the `useTable` hook and all instance properties from `useColumnOrder`, `useExpanded`, `useFilters`,\n   * `useGlobalFilter`, `useGroupBy`,`useResizeColumns`, `useRowSelect` and `useSortBy` plugin hooks.\n   *\n   * **Note**: Use this prop with care, some properties might have an impact on the internal `AnalyticalTable` implementation.\n   */\n  tableInstance?: Ref<Record<string, any>>;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'AnalyticalTable' });\n/**\n * The `AnalyticalTable` provides a set of convenient functions for responsive table design, including virtualization of rows and columns, infinite scrolling and customizable columns that will, unless otherwise defined, distribute the available space equally among themselves.\n * It also provides several possibilities for working with the data, including sorting, filtering, grouping and aggregation.\n */\nconst AnalyticalTable = forwardRef((props: AnalyticalTablePropTypes, ref: Ref<HTMLDivElement>) => {\n  const {\n    alternateRowColor,\n    alwaysShowSubComponent,\n    className,\n    columnOrder,\n    columns,\n    extension,\n    filterable,\n    globalFilterValue,\n    groupBy,\n    groupable,\n    header,\n    highlightField,\n    infiniteScroll,\n    infiniteScrollThreshold,\n    isTreeTable,\n    loading,\n    markNavigatedRow,\n    minRows,\n    noDataText,\n    overscanCount,\n    overscanCountHorizontal,\n    portalContainer,\n    reactTableOptions,\n    renderRowSubComponent,\n    rowHeight,\n    scaleWidthMode,\n    selectedRowIds,\n    selectionBehavior,\n    selectionMode,\n    sortable,\n    style,\n    subRowsKey,\n    tableHooks,\n    tableInstance,\n    tooltip,\n    visibleRowCountMode,\n    visibleRows,\n    withNavigationHighlight,\n    withRowHighlight,\n    onGroup,\n    onLoadMore,\n    onRowClick,\n    onRowExpandChange,\n    onRowSelected,\n    onSort,\n    LoadingComponent,\n    NoDataComponent,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('AnalyticalTable', props.tooltip);\n\n  const classes = useStyles();\n\n  const [analyticalTableRef, reactWindowRef] = useTableScrollHandles(ref);\n  const tableRef: RefObject<DivWithCustomScrollProp> = useRef();\n\n  const isRtl = useIsRTL(analyticalTableRef);\n\n  const getSubRows = useCallback((row) => row[subRowsKey] || [], [subRowsKey]);\n\n  const data = useMemo(() => {\n    if (props.data.length === 0) {\n      return props.data;\n    }\n    if (minRows > props.data.length) {\n      const missingRows: number = minRows - props.data.length;\n      const emptyRows = Array.from({ length: missingRows }, (v, i) => i).map(() => ({ emptyRow: true }));\n\n      return [...props.data, ...emptyRows];\n    }\n    return props.data;\n  }, [props.data, minRows]);\n\n  const tableInstanceRef = useRef<Record<string, any>>(null);\n\n  tableInstanceRef.current = useTable(\n    {\n      columns,\n      data,\n      defaultColumn: DefaultColumn,\n      orderByFn,\n      getSubRows,\n      stateReducer,\n      disableFilters: !filterable,\n      disableSortBy: !sortable,\n      disableGroupBy: isTreeTable || renderRowSubComponent ? true : !groupable,\n      selectSubRows: false,\n      webComponentsReactProperties: {\n        tagNamesWhichShouldNotSelectARow,\n        tableRef,\n        selectionMode,\n        selectionBehavior,\n        classes,\n        onRowSelected,\n        onRowClick,\n        onRowExpandChange,\n        isTreeTable,\n        alternateRowColor,\n        scaleWidthMode,\n        loading,\n        withRowHighlight,\n        highlightField,\n        withNavigationHighlight,\n        markNavigatedRow,\n        renderRowSubComponent,\n        alwaysShowSubComponent,\n        reactWindowRef\n      },\n      ...reactTableOptions\n    },\n    useFilters,\n    useGlobalFilter,\n    useColumnOrder,\n    useGroupBy,\n    useSortBy,\n    useExpanded,\n    useRowSelect,\n    useResizeColumns,\n    useRowSelectionColumn,\n    useSingleRowStateSelection,\n    useRowHighlight,\n    useRowNavigationIndicators,\n    useDynamicColumnWidths,\n    useStyling,\n    useToggleRowExpand,\n    usePopIn,\n    useVisibleColumnsWidth,\n    useKeyboardNavigation,\n    ...tableHooks\n  );\n\n  const {\n    getTableProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state: tableState,\n    columns: tableInternalColumns,\n    setColumnOrder,\n    dispatch,\n    totalColumnsWidth,\n    visibleColumns,\n    visibleColumnsWidth,\n    setGroupBy,\n    setGlobalFilter\n  } = tableInstanceRef.current;\n\n  if (tableInstance && {}.hasOwnProperty.call(tableInstance, 'current')) {\n    (tableInstance as MutableRefObject<Record<string, any>>).current = tableInstanceRef.current;\n  }\n  if (typeof tableInstance === 'function') {\n    tableInstance(tableInstanceRef.current);\n  }\n\n  const titleBarRef = useRef(null);\n  const extensionRef = useRef(null);\n  const headerRef = useRef(null);\n\n  const extensionsHeight =\n    (titleBarRef.current?.offsetHeight ?? 0) +\n    (extensionRef.current?.offsetHeight ?? 0) +\n    (headerRef.current?.offsetHeight ?? 0);\n\n  const calcRowHeight = parseInt(\n    getComputedStyle(tableRef.current ?? document.body).getPropertyValue('--sapWcrAnalyticalTableRowHeight') || '44'\n  );\n  const internalRowHeight = rowHeight ?? calcRowHeight;\n  const popInRowHeight =\n    tableState?.popInColumns?.length > 0\n      ? internalRowHeight + tableState.popInColumns.length * (internalRowHeight + 16)\n      : internalRowHeight;\n\n  const internalVisibleRowCount = tableState.visibleRows ?? visibleRows;\n\n  const updateTableClientWidth = useCallback(() => {\n    if (tableRef.current) {\n      dispatch({ type: 'TABLE_RESIZE', payload: { tableClientWidth: tableRef.current.clientWidth } });\n    }\n  }, [tableRef.current]);\n\n  const updateRowsCount = useCallback(() => {\n    if (visibleRowCountMode === TableVisibleRowCountMode.Auto && analyticalTableRef.current?.parentElement) {\n      const parentElement = analyticalTableRef.current?.parentElement;\n      const tableYPosition =\n        parentElement &&\n        getComputedStyle(parentElement).position === 'relative' &&\n        analyticalTableRef.current?.offsetTop\n          ? analyticalTableRef.current?.offsetTop\n          : 0;\n      const parentHeight = parentElement?.getBoundingClientRect().height;\n      const tableHeight = parentHeight ? parentHeight - tableYPosition : 0;\n      const rowCount = Math.floor((tableHeight - extensionsHeight) / popInRowHeight);\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: rowCount }\n      });\n    }\n  }, [\n    analyticalTableRef.current?.parentElement?.getBoundingClientRect().height,\n    analyticalTableRef.current?.getBoundingClientRect().y,\n    extensionsHeight,\n    popInRowHeight,\n    visibleRowCountMode\n  ]);\n\n  useEffect(() => {\n    setGlobalFilter(globalFilterValue);\n  }, [globalFilterValue, setGlobalFilter]);\n\n  useEffect(() => {\n    const tableWidthObserver = new ResizeObserver(debounce(updateTableClientWidth, 500));\n    tableWidthObserver.observe(tableRef.current);\n\n    const parentHeightObserver = new ResizeObserver(debounce(updateRowsCount, 500));\n    parentHeightObserver.observe(analyticalTableRef.current?.parentElement);\n    return () => {\n      tableWidthObserver.disconnect();\n      parentHeightObserver.disconnect();\n    };\n  }, [updateTableClientWidth, updateRowsCount]);\n\n  useIsomorphicLayoutEffect(() => {\n    dispatch({ type: 'IS_RTL', payload: { isRtl } });\n  }, [isRtl]);\n\n  useIsomorphicLayoutEffect(() => {\n    updateTableClientWidth();\n  }, [updateTableClientWidth]);\n\n  useIsomorphicLayoutEffect(() => {\n    updateRowsCount();\n  }, [updateRowsCount]);\n\n  useEffect(() => {\n    if (tableState.visibleRows !== undefined && visibleRowCountMode === TableVisibleRowCountMode.Fixed) {\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: undefined }\n      });\n    }\n  }, [visibleRowCountMode, tableState.visibleRows]);\n\n  useEffect(() => {\n    setGroupBy(groupBy);\n  }, [groupBy, setGroupBy]);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_SELECTED_ROW_IDS', payload: { selectedRowIds } });\n  }, [selectedRowIds]);\n\n  useEffect(() => {\n    if (tableState?.interactiveRowsHavePopIn && (!tableState?.popInColumns || tableState?.popInColumns?.length === 0)) {\n      dispatch({ type: 'WITH_POPIN', payload: false });\n    }\n  }, [tableState?.interactiveRowsHavePopIn, tableState?.popInColumns?.length]);\n\n  const tableBodyHeight = useMemo(() => {\n    const rowNum = rows.length < internalVisibleRowCount ? Math.max(rows.length, minRows) : internalVisibleRowCount;\n    const rowHeight =\n      visibleRowCountMode === TableVisibleRowCountMode.Auto || tableState?.interactiveRowsHavePopIn\n        ? popInRowHeight\n        : internalRowHeight;\n    return rowHeight * rowNum;\n  }, [\n    internalRowHeight,\n    rows.length,\n    internalVisibleRowCount,\n    minRows,\n    popInRowHeight,\n    visibleRowCountMode,\n    tableState?.interactiveRowsHavePopIn\n  ]);\n\n  // scroll bar detection\n  useEffect(() => {\n    const visibleRowCount =\n      rows.length < internalVisibleRowCount ? Math.max(rows.length, minRows) : internalVisibleRowCount;\n    if (popInRowHeight !== internalRowHeight) {\n      dispatch({\n        type: 'TABLE_SCROLLING_ENABLED',\n        payload: { isScrollable: visibleRowCount * popInRowHeight > tableBodyHeight || rows.length > visibleRowCount }\n      });\n    } else {\n      dispatch({ type: 'TABLE_SCROLLING_ENABLED', payload: { isScrollable: rows.length > visibleRowCount } });\n    }\n  }, [rows.length, minRows, internalVisibleRowCount, popInRowHeight, tableBodyHeight]);\n\n  const noDataStyles = {\n    height: `${tableBodyHeight}px`,\n    width: totalColumnsWidth ? `${totalColumnsWidth}px` : '100%'\n  };\n\n  const onGroupByChanged = useCallback(\n    (e) => {\n      const { column, isGrouped } = e.detail;\n      let groupedColumns = [];\n      if (isGrouped) {\n        groupedColumns = [...tableState.groupBy, column.id];\n      } else {\n        groupedColumns = tableState.groupBy.filter((group) => group !== column.id);\n      }\n      setGroupBy(groupedColumns);\n      onGroup(\n        enrichEventWithDetails(e, {\n          column,\n          groupedColumns\n        })\n      );\n    },\n    [tableState.groupBy, onGroup, setGroupBy]\n  );\n\n  useEffect(() => {\n    if (columnOrder?.length > 0) {\n      setColumnOrder(columnOrder);\n    }\n  }, [columnOrder]);\n\n  const [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd] = useDragAndDrop(\n    props,\n    isRtl,\n    setColumnOrder,\n    tableState.columnOrder,\n    tableState.columnResizing,\n    tableInternalColumns\n  );\n\n  const { onColumnsReordered: _0, data: _1, ...propsWithoutOmitted } = rest;\n\n  const inlineStyle = useMemo(() => {\n    const tableStyles = {\n      maxWidth: '100%',\n      overflowX: 'auto',\n      display: 'flex',\n      flexDirection: 'column'\n    };\n    if (!!rowHeight) {\n      tableStyles['--sapWcrAnalyticalTableRowHeight'] = `${rowHeight}px`;\n    }\n\n    if (tableState.tableClientWidth > 0) {\n      const styles = {\n        ...tableStyles,\n        ...style\n      } as CSSProperties;\n\n      if (totalColumnsWidth < tableState.tableClientWidth) {\n        return { ...styles, borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}` };\n      }\n      return styles;\n    }\n    return {\n      ...tableStyles,\n      ...style,\n      visibility: 'hidden'\n    } as CSSProperties;\n  }, [tableState.tableClientWidth, style, rowHeight, totalColumnsWidth]);\n\n  const parentRef: RefObject<DivWithCustomScrollProp> = useRef(null);\n\n  const verticalScrollBarRef: RefObject<DivWithCustomScrollProp> = useRef(null);\n\n  const handleBodyScroll = () => {\n    if (verticalScrollBarRef.current && verticalScrollBarRef.current.scrollTop !== parentRef.current.scrollTop) {\n      if (!parentRef.current.isExternalVerticalScroll) {\n        verticalScrollBarRef.current.scrollTop = parentRef.current.scrollTop;\n        verticalScrollBarRef.current.isExternalVerticalScroll = true;\n      }\n      parentRef.current.isExternalVerticalScroll = false;\n    }\n  };\n\n  const handleVerticalScrollBarScroll = () => {\n    if (!verticalScrollBarRef.current.isExternalVerticalScroll) {\n      parentRef.current.scrollTop = verticalScrollBarRef.current.scrollTop;\n      parentRef.current.isExternalVerticalScroll = true;\n    }\n    verticalScrollBarRef.current.isExternalVerticalScroll = false;\n  };\n\n  const tableClasses = clsx(\n    classes.table,\n    GlobalStyleClasses.sapScrollBar,\n    withNavigationHighlight && classes.hasNavigationIndicator\n  );\n\n  return (\n    <div className={className} style={inlineStyle} title={tooltip} ref={analyticalTableRef} {...propsWithoutOmitted}>\n      {header && <TitleBar ref={titleBarRef}>{header}</TitleBar>}\n      {extension && <div ref={extensionRef}>{extension}</div>}\n      <FlexBox>\n        <div\n          {...getTableProps()}\n          tabIndex={0}\n          role=\"grid\"\n          aria-rowcount={rows.length}\n          aria-colcount={visibleColumns.length}\n          data-per-page={internalVisibleRowCount}\n          data-component-name=\"AnalyticalTableContainer\"\n          ref={tableRef}\n          className={tableClasses}\n        >\n          <div className={classes.tableHeaderBackgroundElement} />\n          {headerGroups.map((headerGroup) => {\n            let headerProps: Record<string, unknown> = {};\n            if (headerGroup.getHeaderGroupProps) {\n              headerProps = headerGroup.getHeaderGroupProps();\n            }\n\n            return (\n              tableRef.current && (\n                <ColumnHeaderContainer\n                  ref={headerRef}\n                  key={headerProps.key as string}\n                  reactWindowRef={reactWindowRef}\n                  tableRef={tableRef}\n                  resizeInfo={tableState.columnResizing}\n                  visibleColumnsWidth={visibleColumnsWidth}\n                  headerProps={headerProps}\n                  headerGroup={headerGroup}\n                  overscanCountHorizontal={overscanCountHorizontal}\n                  onSort={onSort}\n                  onGroupByChanged={onGroupByChanged}\n                  onDragStart={handleDragStart}\n                  onDragOver={handleDragOver}\n                  onDrop={handleOnDrop}\n                  onDragEnter={handleDragEnter}\n                  onDragEnd={handleOnDragEnd}\n                  dragOver={dragOver}\n                  isRtl={isRtl}\n                  portalContainer={portalContainer}\n                />\n              )\n            );\n          })}\n          {loading && props.data?.length > 0 && <LoadingComponent style={{ width: `${totalColumnsWidth}px` }} />}\n          {loading && props.data?.length === 0 && (\n            <TablePlaceholder\n              isRtl={isRtl}\n              columns={visibleColumns}\n              rows={props.minRows}\n              style={noDataStyles}\n              rowHeight={internalRowHeight}\n              tableWidth={totalColumnsWidth}\n            />\n          )}\n          {!loading && props.data?.length === 0 && (\n            <NoDataComponent noDataText={noDataText} className={classes.noDataContainer} style={noDataStyles} />\n          )}\n          {props.data?.length > 0 && tableRef.current && (\n            <VirtualTableBodyContainer\n              tableBodyHeight={tableBodyHeight}\n              totalColumnsWidth={totalColumnsWidth}\n              parentRef={parentRef}\n              classes={classes}\n              infiniteScroll={infiniteScroll}\n              infiniteScrollThreshold={infiniteScrollThreshold}\n              onLoadMore={onLoadMore}\n              internalRowHeight={internalRowHeight}\n              popInRowHeight={popInRowHeight}\n              rows={rows}\n              handleExternalScroll={handleBodyScroll}\n              visibleRows={internalVisibleRowCount}\n            >\n              <VirtualTableBody\n                classes={classes}\n                prepareRow={prepareRow}\n                rows={rows}\n                minRows={minRows}\n                reactWindowRef={reactWindowRef}\n                isTreeTable={isTreeTable}\n                internalRowHeight={internalRowHeight}\n                popInRowHeight={popInRowHeight}\n                visibleRows={internalVisibleRowCount}\n                alternateRowColor={alternateRowColor}\n                overscanCount={overscanCount}\n                tableRef={tableRef}\n                parentRef={parentRef}\n                visibleColumns={visibleColumns}\n                visibleColumnsWidth={visibleColumnsWidth}\n                overscanCountHorizontal={overscanCountHorizontal}\n                renderRowSubComponent={renderRowSubComponent}\n                alwaysShowSubComponent={alwaysShowSubComponent}\n                markNavigatedRow={markNavigatedRow}\n                isRtl={isRtl}\n                subComponentsHeight={tableState.subComponentsHeight}\n                dispatch={dispatch}\n              />\n            </VirtualTableBodyContainer>\n          )}\n        </div>\n        {(tableState.isScrollable === undefined || tableState.isScrollable) && (\n          <VerticalScrollbar\n            internalRowHeight={internalRowHeight}\n            popInRowHeight={popInRowHeight}\n            tableRef={tableRef}\n            minRows={minRows}\n            rows={rows}\n            handleVerticalScrollBarScroll={handleVerticalScrollBarScroll}\n            ref={verticalScrollBarRef}\n          />\n        )}\n      </FlexBox>\n      {visibleRowCountMode === TableVisibleRowCountMode.Interactive && (\n        <VerticalResizer\n          popInRowHeight={popInRowHeight}\n          hasPopInColumns={tableState?.popInColumns?.length > 0}\n          analyticalTableRef={analyticalTableRef}\n          dispatch={dispatch}\n          extensionsHeight={extensionsHeight}\n          internalRowHeight={internalRowHeight}\n          portalContainer={portalContainer}\n        />\n      )}\n    </div>\n  );\n});\n\nAnalyticalTable.displayName = 'AnalyticalTable';\nAnalyticalTable.defaultProps = {\n  infiniteScrollThreshold: 20,\n  loading: false,\n  sortable: true,\n  filterable: false,\n  groupable: false,\n  selectionMode: TableSelectionMode.None,\n  selectionBehavior: TableSelectionBehavior.Row,\n  scaleWidthMode: TableScaleWidthMode.Default,\n  data: [],\n  columns: [],\n  minRows: 5,\n  groupBy: [],\n  NoDataComponent: DefaultNoDataComponent,\n  LoadingComponent: DefaultLoadingComponent,\n  noDataText: 'No Data',\n  reactTableOptions: {},\n  tableHooks: [],\n  visibleRows: 15,\n  subRowsKey: 'subRows',\n  highlightField: 'status',\n  markNavigatedRow: () => false,\n  selectedRowIds: {},\n  onGroup: () => {},\n  onRowExpandChange: () => {},\n  onColumnsReordered: () => {},\n  isTreeTable: false,\n  alternateRowColor: false,\n  overscanCountHorizontal: 5,\n  visibleRowCountMode: TableVisibleRowCountMode.Fixed,\n  alwaysShowSubComponent: false,\n  portalContainer: document.body\n};\n\nexport { AnalyticalTable };\n"],"names":["useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","styles","table","position","width","maxWidth","overflowY","overflowX","height","minHeight","fontFamily","ThemingParameters","sapFontFamily","fontSize","sapFontSize","fontWeight","backgroundColor","sapList_Background","tableHeaderRow","CssSizeVariables","sapWcrAnalyticalTableRowHeight","display","borderLeft","sapList_BorderColor","hasNavigationIndicator","borderRight","tableHeaderBackgroundElement","boxSizing","left","right","sapList_HeaderBackground","borderTop","borderBottom","th","color","sapList_HeaderTextColor","padding","textAlign","transform","outlineOffset","sapContent_FocusWidth","outline","sapContent_FocusStyle","sapContent_FocusColor","tbody","scrollBarWidth","alternateRowColor","sapList_AlternatingBackground","tr","top","sapList_TextColor","willChange","sapList_Hover_Background","sapList_SelectionBorderColor","sapList_SelectionBackgroundColor","sapList_Hover_SelectionBackground","trActive","cursor","sapList_Active_Background","sapList_Active_TextColor","tableGroupHeader","sapList_TableGroupHeaderBackground","border","sapList_TableGroupHeaderBorderColor","tableCell","overflow","textOverflow","whiteSpace","alignItems","noDataContainer","justifyContent","valueStateSuccess","sapSuccessColor","valueStateError","sapErrorColor","valueStateWarning","sapWarningColor","valueStateInformation","sapInformationColor","stopPropagation","e","stopImmediatePropagation","popover","filter","filterIcon","paddingRight","minWidth","useStyles","createUseStyles","name","ColumnHeaderModal","props","column","onSort","onGroupBy","open","setPopoverOpen","targetRef","portalContainer","isRtl","classes","showFilter","canFilter","showGroup","canGroupBy","showSort","canSort","ref","useRef","listRef","Filter","i18nBundle","useI18nBundle","clearSortingText","getText","CLEAR_SORTING","sortAscendingText","SORT_ASCENDING","sortDescendingText","SORT_DESCENDING","groupText","GROUP","ungroupText","UNGROUP","handleSort","useCallback","sortType","detail","item","getAttribute","toggleSortBy","enrichEventWithDetails","sortDirection","clearSortBy","willGroup","isGrouped","toggleGroupBy","current","close","isSortedAscending","isSorted","isSortedDesc","isSortedDescending","popoverInstance","showAt","onAfterClose","onAfterOpen","children","focus","horizontalAlign","hAlign","TextAlign","Begin","PopoverHorizontalAlign","Right","Left","End","Center","createPortal","PopoverPlacementType","Bottom","ListItemType","Active","Inactive","FlexBoxAlignItems","displayName","header","background","text","iconContainer","sapContent_IconColor","ColumnHeader","id","className","style","onDragEnter","onDragOver","onDragStart","onDrop","onDragEnd","headerTooltip","isDraggable","dragOver","role","virtualColumn","columnIndex","visibleColumnIndex","onClick","onKeyDown","isFiltered","filterValue","length","useState","popoverOpen","textStyle","margin","marginLeft","marginRight","hasPopover","handleHeaderCellClick","directionStyles","start","iconContainerDirectionStyles","handleHeaderCellKeyDown","code","preventDefault","handleHeaderCellKeyUp","size","sapSelectedColor","undefined","resizer","bottom","zIndex","sapContent_DragAndDropActiveColor","ColumnHeaderContainer","forwardRef","headerProps","headerGroup","onGroupByChanged","tableRef","visibleColumnsWidth","overscanCountHorizontal","resizeInfo","reactWindowRef","columnVirtualizer","useVirtual","parentRef","estimateSize","index","horizontal","overscan","horizontalScrollToOffset","scrollToOffset","horizontalScrollToIndex","scrollToIndex","totalSize","virtualItems","map","headers","isLastColumn","disableResizing","resizerDirectionStyle","totalFlexWidth","totalLeft","getHeaderProps","key","rest","canResize","getResizerProps","canReorder","disableDragAndDrop","isResizingColumn","render","DefaultFilterComponent","handleChange","setFilter","target","value","Cell","cell","row","cellContent","subRows","tableGroupExpandCollapseIcon","isBrowserIe","isIE","getPadding","level","sapWcrAnalyticalTableTreePaddingLevel1","sapWcrAnalyticalTableTreePaddingLevel2","sapWcrAnalyticalTableTreePaddingLevel3","Expandable","columns","webComponentsReactProperties","state","tableColumns","findIndex","col","paddingRtl","paddingLeft","canExpand","depth","rowProps","getToggleRowExpandedProps","subComponentExpandable","renderRowSubComponent","alwaysShowSubComponent","title","isExpanded","Grouped","PopInStyles","container","defaultCell","sapFontBoldFamily","PopIn","instance","contentToRender","internalRowHeight","FlexBoxDirection","Column","Start","FlexBoxWrap","NoWrap","popInColumns","popInInstanceProps","allCells","find","renderHeader","PopInHeader","Header","makeRenderer","renderCell","isPopIn","RepeatedValue","DEFAULT_COLUMN_WIDTH","defaultFilterMethod","RegExp","test","String","DefaultColumn","vAlign","VerticalAlign","Middle","defaultFilter","loader","DefaultLoadingComponent","getArrayOfLength","len","Array","from","keys","TableRow","y","columnOffset","i","el","totalWidth","TablePlaceholder","rows","rowHeight","tableWidth","innerStyles","useMemo","sapContent_ImagePlaceholderBackground","sapContent_ImagePlaceholderForegroundColor","sapContent_DisabledOpacity","_","defaultProps","DefaultNoDataComponent","noDataText","getColumnId","accessor","useDragAndDrop","setColumnOrder","columnOrder","onColumnsReordered","setDragOver","handleDragStart","dataTransfer","setData","currentTarget","dataset","columnId","handleDragOver","handleDragEnter","handleOnDrop","droppedColId","draggedColId","getData","internalColumnOrder","droppedColIdx","draggedColIdx","tempCols","targetIndex","splice","columnsNewOrder","tempColId","handleOnDragEnd","ROW_SAMPLE_SIZE","DEFAULT_HEADER_NUM_CHAR","MAX_WIDTH","approximateHeaderPxFromCharLength","charLength","Math","sqrt","approximateContentPxFromCharLength","columnsDeps","deps","visibleColumns","tableClientWidth","hiddenColumns","scaleWidthMode","loading","visCol","Boolean","calculateDefaultTableWidth","columnsWithWidthProperties","availableWidth","defaultColumnsCount","columnsWithFixedWidth","acceptedWidth","columnsWithMaxWidth","aggregatedColumnsMaxWidth","reduce","acc","cur","aggregatedColumnsMinWidth","fixedWidth","val","hasData","data","TableScaleWidthMode","Default","defaultWidth","rowSample","slice","columnMeta","minHeaderWidth","fullWidth","contentCharAvg","headerLength","contentMaxCharLength","max","dataPoint","values","totalCharNum","Object","reservedWidth","Grow","Smart","isColumnVisible","isVisible","includes","meta","additionalSpaceFactor","targetWidth","useDynamicColumnWidths","hooks","push","getFirstVisibleCell","currentlyFocusedCell","noData","firstVisibleCell","querySelector","tabIndex","findParentCell","rowIndex","rowIndexSub","columnIndexSub","parentElement","setFocus","nextElement","getTableProps","tableProps","onTableBlur","tagName","onTableFocus","isFirstCellAvailable","componentName","parseInt","firstCell","onKeyboardNavigation","lastVisibleColumn","reduceRight","prev","arr","isNaN","newElement","lastVisibleRow","parent","firstChildOfParent","hasSubcomponent","subcomponent","nextElementToSubComp","previousRowCell","firstChildPrevRow","onFocus","onBlur","useKeyboardNavigation","popInVisibleColumnsDeps","popInVisibleColumns","cols","dispatch","isScrollable","responsivePopIn","responsiveMinWidth","type","payload","some","hasOwnProperty","usePopIn","visibleColumnsDeps","baseStyles","StyleClassMap","Map","set","ValueState","None","Success","Warning","Error","Information","styleClass","get","withRowHighlight","highlightField","currentVisibleColumns","highlightColumn","currentColumns","disableFilters","disableSortBy","disableGroupBy","useRowHighlight","pluginName","isNavigatedCell","withNavigationHighlight","useRowNavigationIndicators","divStyle","customCheckBoxStyling","verticalAlign","getToggleAllRowsSelectedProps","selectionMode","TableSelectionMode","SingleSelect","checkBoxProps","indeterminate","checked","selectionBehavior","handleCellClick","TableSelectionBehavior","RowSelector","getRowProps","getToggleRowSelectedProps","flatRows","onRowSelected","toggleAllRowsSelected","isAllRowsSelected","MultiSelect","allRowsSelected","selectedFlatRows","columnDeps","RowOnly","selectionColumn","tableSelectionColumnWidth","getComputedStyle","getPropertyValue","CssSizeVariablesNames","sapWcrAnalyticalTableSelectionColumnWidth","selectionColumnWidth","useRowSelectionColumn","toggleRowSelected","handleRowSelect","selectionCellClick","markerAllowTableRowSelection","nativeEvent","tagNamesWhichShouldNotSelectARow","has","isEmptyRow","original","emptyRow","onRowClick","selectedRow","isSelected","isRowSelected","prevRow","useSingleRowStateSelection","getHeaderGroupProps","headerGroupProps","columnProps","ROW_SELECTION_ATTRIBUTE","rowCanBeSelected","newRowProps","getCellProps","cellProps","Initial","Top","useStyling","useTableScrollHandles","analyticalTableRef","assign","scrollTo","offset","align","scrollToItem","horizontalScrollTo","horizontalScrollToItem","onRowExpandChange","isTreeTable","persist","toggleRowExpanded","cells","groupByID","useToggleRowExpand","getVisibleColumnsWidth","useVisibleColumnsWidth","useInstance","headerSection","scrollbar","bottomSection","flexGrow","bottomSectionWithScrollbar","VerticalScrollbar","minRows","handleVerticalScrollBarScroll","popInRowHeight","hasHorizontalScrollbar","clientWidth","scrollWidth","horizontalScrollbarSectionStyles","clsx","clientHeight","GlobalStyleClasses","sapScrollBar","RowSubComponent","subComponentsHeight","virtualRow","subComponentRef","subComponentHeightObserver","ResizeObserver","entries","forEach","entry","getBoundingClientRect","borderBoxSize","isArray","subCompHeight","blockSize","subComponentHeight","objGroupedByHeight","count","mostUsedHeight","a","b","estimatedHeights","rowId","firstChild","observe","disconnect","VirtualTableBody","prepareRow","visibleRows","overscanCount","markNavigatedRow","itemCount","floor","rowVirtualizer","React","popInColumn","visibleRowIndex","rowIndexWithHeader","SubComponent","isAggregated","isPlaceholder","VirtualTableBodyContainer","tableBodyHeight","totalColumnsWidth","infiniteScroll","infiniteScrollThreshold","onLoadMore","handleExternalScroll","isMounted","setIsMounted","classNames","lastScrollTop","firedInfiniteLoadEvents","Set","prevRowsLength","clear","scrollTop","onScroll","event","scrollOffset","isScrollingDown","currentLastRow","rootNodes","rowCount","totalRowCount","add","stateReducer","prevState","action","actions","columnResizing","clientX","startX","columnWidth","headerIdWidths","deltaX","percentageDeltaX","newColumnWidths","headerId","headerWidth","columnWidths","selectedRowIds","interactiveRowsHavePopIn","TitleBar","isValidElement","orderByFn","functions","directions","wrapSortFn","sortFn","desc","rowA","rowB","wrappedSortfunctions","defaultOrderByFn","verticalResizerStyles","sapHighlightTextColor","content","lineHeight","pointerEvents","opacity","isTouchEvent","touchEvent","touches","VerticalResizer","extensionsHeight","hasPopInColumns","startY","verticalResizerRef","resizerPosition","setResizerPosition","isDragging","setIsDragging","mountTouchEvents","setMountTouchEvents","handleResizeStart","round","pageY","handleMove","handleResizeEnd","changedTouches","removeEventListeners","document","removeEventListener","addEventListener","resizerPosTop","window","scrollY","resizerPosLeft","scrollX","resizerPosWidth","DRAG_TO_RESIZE","AnalyticalTable","extension","filterable","globalFilterValue","groupBy","groupable","reactTableOptions","sortable","subRowsKey","tableHooks","tableInstance","visibleRowCountMode","onGroup","LoadingComponent","NoDataComponent","useIsRTL","getSubRows","missingRows","emptyRows","v","tableInstanceRef","useTable","defaultColumn","selectSubRows","useFilters","useGlobalFilter","useColumnOrder","useGroupBy","useSortBy","useExpanded","useRowSelect","useResizeColumns","headerGroups","tableState","tableInternalColumns","setGroupBy","setGlobalFilter","call","titleBarRef","extensionRef","headerRef","offsetHeight","calcRowHeight","body","internalVisibleRowCount","updateTableClientWidth","updateRowsCount","TableVisibleRowCountMode","Auto","tableYPosition","offsetTop","parentHeight","tableHeight","tableWidthObserver","debounce","parentHeightObserver","useIsomorphicLayoutEffect","Fixed","rowNum","visibleRowCount","noDataStyles","groupedColumns","group","propsWithoutOmitted","inlineStyle","tableStyles","flexDirection","visibility","verticalScrollBarRef","handleBodyScroll","isExternalVerticalScroll","tableClasses","Interactive","Row"],"mappings":"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"}