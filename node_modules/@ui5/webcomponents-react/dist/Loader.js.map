{"version":3,"file":"Loader.js","sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/Loader/Loader.jss.ts","../src/components/Loader/index.tsx"],"sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\n//todo use theme colors when available\nexport const styles = {\n  '@keyframes scroll': {\n    '0%': { backgroundPosition: '-100% 0' },\n    '100%': { backgroundPosition: '200% 0' }\n  },\n  loader: {\n    height: '0.25rem',\n    width: '100%',\n    '&$loaderDeterminate': {\n      background: `linear-gradient(to right, ${ThemingParameters.sapContent_IconColor}, ${ThemingParameters.sapContent_IconColor})`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundRepeat: 'repeat-y'\n    },\n    '&$loaderIndeterminate': {\n      background: `linear-gradient(\n      to right,\n      rgba(8, 84, 160, 0) 0px,\n      rgba(8, 84, 160, 1) calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% - 2rem),\n      ${ThemingParameters.sapContent_IconColor} calc(50% + 2rem),\n      rgba(8, 84, 160, 1) calc(50% + 2rem),\n      rgba(8, 84, 160, 0) 100%\n    )`,\n      backgroundColor: 'rgba(8, 84, 160, 0.15)',\n      backgroundSize: '40%',\n      backgroundRepeat: 'repeat-y',\n      animation: '$scroll 1.2s linear infinite'\n    }\n  },\n  loaderDeterminate: {},\n  loaderIndeterminate: {}\n};\n","import { useI18nBundle } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { PLEASE_WAIT } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { LoaderType } from '@ui5/webcomponents-react/dist/LoaderType';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport clsx from 'clsx';\nimport React, { CSSProperties, forwardRef, RefObject, useEffect, useMemo, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { styles } from './Loader.jss';\n\nexport interface LoaderPropTypes extends CommonProps {\n  /**\n   * Delay in ms until the Loader will be displayed\n   */\n  delay?: number;\n  /**\n   * Defines the type of the `Loader`.\n   * __Note:__ If the process completion rate can be detected the `Determinate` type should be used.\n   */\n  type?: LoaderType | keyof typeof LoaderType;\n  /**\n   * Defines the progress of the Loader Bar. <br />\n   * __Note:__ This prop has no effect if used with type `Indeterminate`.\n   */\n  progress?: CSSProperties['width'];\n}\n\nconst useStyles = createUseStyles(styles, { name: 'Loader' });\n/**\n * The `Loader` signals that an operation is currently being executed. It uses as little space as possible to allow the user to interact with the UI.<br />\n * It can be used to signal a data update on an already existing dataset, or where an expansion will happen.\n */\nconst Loader = forwardRef((props: LoaderPropTypes, ref: RefObject<HTMLDivElement>) => {\n  const { className, type, progress, tooltip, slot, style, delay, ...rest } = props;\n\n  useDeprecationNoticeForTooltip('Loader', props.tooltip);\n\n  const classes = useStyles();\n  const [isVisible, setIsVisible] = useState(delay === 0);\n\n  const loaderClasses = clsx(classes.loader, className, classes[`loader${type}`]);\n\n  const inlineStyles = useMemo(() => {\n    const backgroundSize = type !== LoaderType.Determinate ? '40%' : progress;\n    return {\n      ...style,\n      backgroundSize\n    };\n  }, [progress, style, type]);\n\n  useEffect(() => {\n    let timeout;\n    if (delay > 0) {\n      timeout = setTimeout(() => {\n        setIsVisible(true);\n      }, delay);\n    }\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={loaderClasses}\n      data-component-name=\"Loader\"\n      aria-busy=\"true\"\n      role=\"progressbar\"\n      title={tooltip || i18nBundle.getText(PLEASE_WAIT)}\n      slot={slot}\n      style={inlineStyles}\n      {...rest}\n    />\n  );\n});\n\nLoader.defaultProps = {\n  type: LoaderType.Indeterminate,\n  progress: '0px',\n  delay: 0\n};\n\nLoader.displayName = 'Loader';\n\nexport { Loader };\n"],"names":["useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","styles","backgroundPosition","loader","height","width","background","ThemingParameters","sapContent_IconColor","backgroundColor","backgroundRepeat","backgroundSize","animation","loaderDeterminate","loaderIndeterminate","useStyles","createUseStyles","name","Loader","forwardRef","props","ref","className","type","progress","slot","style","delay","rest","classes","useState","isVisible","setIsVisible","loaderClasses","clsx","inlineStyles","useMemo","LoaderType","Determinate","timeout","setTimeout","clearTimeout","i18nBundle","useI18nBundle","getText","PLEASE_WAIT","defaultProps","Indeterminate","displayName"],"mappings":"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"}