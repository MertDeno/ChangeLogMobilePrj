{"version":3,"file":"DynamicPageTitle.js","sources":["../src/internal/stopPropagation.ts","../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/DynamicPageTitle/ActionsSpacer.tsx","../src/components/DynamicPageTitle/DynamicPageTitle.jss.ts","../src/components/DynamicPageTitle/index.tsx"],"sourcesContent":["export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation?.();\n};\n","import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import React, { MouseEventHandler } from 'react';\n\ninterface ActionsSpacerProps {\n  onClick: MouseEventHandler<HTMLElement>;\n  noHover?: boolean;\n}\n\nexport const ActionsSpacer = ({ onClick, noHover }: ActionsSpacerProps) => {\n  return (\n    <span\n      style={{ flexGrow: 1, height: '100%', cursor: noHover ? 'auto' : 'pointer' }}\n      className=\"spacer\"\n      onClick={onClick}\n    />\n  );\n};\n\n// The Toolbar only recognizes spacers with the 'ToolbarSpacer' displayName\nActionsSpacer.displayName = 'ToolbarSpacer';\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nexport const DynamicPageTitleStyles = {\n  container: {\n    flex: '1 1 100%',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    minHeight: '3rem',\n    paddingTop: '0.5rem',\n    paddingBottom: '0.5rem',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    position: 'sticky',\n    top: 0,\n    zIndex: 2,\n    cursor: 'pointer',\n    '&[data-not-clickable=\"true\"]': {\n      cursor: 'unset',\n      '&:hover': {\n        backgroundColor: ThemingParameters.sapObjectHeader_Background\n      }\n    },\n    '&:hover': {\n      // TODO background color should be sapObjectHeader_Hover_Background (same color as sapTile_Active_Background)\n      backgroundColor: ThemingParameters.sapTile_Active_Background\n    }\n  },\n  iEClass: {\n    position: 'fixed',\n    // page width - padding - scrollbar\n    width: 'calc(100% - 18px - 4rem)'\n  },\n  breadcrumbs: {\n    minWidth: '50%',\n    padding: '0.5rem 0 0.25rem 0'\n  },\n  titleMainSection: {\n    flex: '1 1 100%',\n    alignItems: 'baseline'\n  },\n  title: {\n    color: ThemingParameters.sapGroup_TitleTextColor,\n    fontSize: ThemingParameters.sapFontHeader3Size,\n    paddingTop: '0.3125rem',\n    overflowWrap: 'break-word',\n    hyphens: 'auto'\n  },\n  subTitleRight: {\n    color: ThemingParameters.sapContent_LabelColor,\n    fontSize: ThemingParameters.sapFontSize,\n    overflowWrap: 'break-word',\n    hyphens: 'auto'\n  },\n  subTitleBottom: {\n    color: ThemingParameters.sapContent_LabelColor,\n    fontSize: ThemingParameters.sapFontSize,\n    marginTop: '0.25rem',\n    overflowWrap: 'break-word',\n    hyphens: 'auto'\n  },\n  content: {\n    display: 'flex',\n    flexShrink: 1.6\n  },\n  toolbar: {\n    flex: '1 1.6 100%',\n    cursor: 'auto',\n    '&:hover': {\n      backgroundColor: 'inherit'\n    },\n    '&>:first-child': {\n      height: '100%'\n    }\n  }\n};\n","import { isIE } from '@ui5/webcomponents-react-base/dist/Device';\nimport { useIsRTL } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { debounce } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { FlexBox } from '@ui5/webcomponents-react/dist/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/dist/FlexBoxAlignItems';\nimport { FlexBoxJustifyContent } from '@ui5/webcomponents-react/dist/FlexBoxJustifyContent';\nimport { Toolbar } from '@ui5/webcomponents-react/dist/Toolbar';\nimport { ToolbarDesign } from '@ui5/webcomponents-react/dist/ToolbarDesign';\nimport { ToolbarSeparator } from '@ui5/webcomponents-react/dist/ToolbarSeparator';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/dist/ToolbarStyle';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport React, {\n  Children,\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  Ref,\n  useCallback,\n  useEffect,\n  useRef,\n  useState\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { ActionsSpacer } from './ActionsSpacer';\nimport { DynamicPageTitleStyles } from './DynamicPageTitle.jss';\nimport clsx from 'clsx';\n\nexport interface DynamicPageTitlePropTypes extends CommonProps {\n  /**\n   * The `DynamicPageTitle` actions.\n   */\n  actions?: ReactElement | ReactElement[];\n\n  /**\n   * The `breadcrumbs` displayed in the `DynamicPageTitle` top-left area.\n   *\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `Breadcrumbs` in order to preserve the intended design.\n   */\n  breadcrumbs?: ReactNode | ReactNode[];\n\n  /**\n   * The content is positioned in the `DynamicPageTitle` middle area\n   */\n  children?: ReactNode | ReactNode[];\n\n  /**\n   * The `header` is positioned in the `DynamicPageTitle` left area.\n   * Use this aggregation to display a `Title` (or any other component that serves as a header)\n   */\n  header?: ReactNode;\n  /**\n   * The `subHeader` is positioned in the `DynamicPageTitle` left area below the `header`.\n   * Use this aggregation to display a component like `Label` or any other component that serves as sub header.\n   */\n  subHeader?: ReactNode;\n  /**\n   * The `DynamicPageTitle` navigation actions.<br />\n   * *Note*: The `navigationActions` position depends on the control size.\n   * If the control size is 1280px or bigger, they are rendered right next to the actions.\n   * Otherwise, they are rendered in the top-right area, above the actions.\n   * If a large number of elements(buttons) are used, there could be visual degradations as the space for the `navigationActions` is limited.\n   *\n   */\n  navigationActions?: ReactElement | ReactElement[];\n  /**\n   * Display the `subHeader` on the right instead of below the `header`.\n   */\n  showSubHeaderRight?: boolean;\n  /**\n   * Fired when the content of the `actions` or `navigationActions` toolbar overflow popover has been changed.\n   */\n  onToolbarOverflowChange?: (event: {\n    toolbarElements: HTMLElement[];\n    overflowElements: HTMLCollection;\n    target: HTMLElement;\n    origin: 'actions' | 'navigationActions';\n  }) => void;\n}\n\ninterface InternalProps extends DynamicPageTitlePropTypes {\n  /**\n   * The onToggleHeaderContentVisibility show or hide the header section\n   */\n  onToggleHeaderContentVisibility?: (e: any) => boolean;\n}\n\nconst useStyles = createUseStyles(DynamicPageTitleStyles, { name: 'DynamicPageTitle' });\n\n/**\n * The dynamic page title defines the elements in the top header.\n * It can contain Breadcrumbs, Title, Subtitle, Content, KPIs and Actions.\n */\nconst DynamicPageTitle = forwardRef((props: DynamicPageTitlePropTypes, ref: Ref<HTMLDivElement>) => {\n  const {\n    actions,\n    breadcrumbs,\n    children,\n    header,\n    subHeader,\n    showSubHeaderRight,\n    navigationActions,\n    className,\n    style,\n    tooltip,\n    onToggleHeaderContentVisibility,\n    onToolbarOverflowChange,\n    ...rest\n  } = props as InternalProps;\n  useDeprecationNoticeForTooltip('DynamicPageTitle', props.tooltip);\n\n  const classes = useStyles();\n  const containerClasses = clsx(classes.container, className, isIE() && classes.iEClass);\n  const [componentRef, dynamicPageTitleRef] = useSyncRef<HTMLDivElement>(ref);\n  const [showNavigationInTopArea, setShowNavigationInTopArea] = useState(undefined);\n  const isRtl = useIsRTL(dynamicPageTitleRef);\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, [isMounted]);\n\n  const { onClick: _0, ...propsWithoutOmitted } = rest;\n\n  const onHeaderClick = useCallback(\n    (e) => {\n      if (typeof props?.onClick === 'function') {\n        props.onClick(e);\n      }\n      if (typeof onToggleHeaderContentVisibility === 'function' && !props?.['data-not-clickable']) {\n        onToggleHeaderContentVisibility(e);\n      }\n    },\n    [props?.onClick, onToggleHeaderContentVisibility, props?.['data-not-clickable']]\n  );\n\n  useEffect(() => {\n    const observer = new ResizeObserver(\n      debounce(([titleContainer]) => {\n        // Firefox implements `borderBoxSize` as a single content rect, rather than an array\n        const borderBoxSize = Array.isArray(titleContainer.borderBoxSize)\n          ? titleContainer.borderBoxSize[0]\n          : titleContainer.borderBoxSize;\n        // Safari doesn't implement `borderBoxSize`\n        const titleContainerWidth = borderBoxSize?.inlineSize ?? titleContainer.target.getBoundingClientRect().width;\n        if (titleContainerWidth < 1280 && !showNavigationInTopArea === true && isMounted.current) {\n          setShowNavigationInTopArea(true);\n        } else if (titleContainerWidth >= 1280 && !showNavigationInTopArea === false && isMounted.current) {\n          setShowNavigationInTopArea(false);\n        }\n      }, 150)\n    );\n    if (dynamicPageTitleRef.current) {\n      observer.observe(dynamicPageTitleRef.current);\n    }\n    return () => {\n      observer.disconnect();\n    };\n  }, [dynamicPageTitleRef.current, showNavigationInTopArea, isMounted]);\n\n  const paddingLeftRtl = isRtl ? 'paddingRight' : 'paddingLeft';\n\n  const handleToolbarsOverflowChange = (e) => {\n    if (typeof onToolbarOverflowChange === 'function') {\n      let origin = 'actions';\n      if (e.target.dataset.componentName === 'DynamicPageTitleNavActions') {\n        origin = 'navigationActions';\n      }\n      onToolbarOverflowChange({ ...e, origin });\n    }\n  };\n\n  return (\n    <FlexBox\n      className={containerClasses}\n      style={style}\n      ref={componentRef}\n      tooltip={tooltip}\n      data-component-name=\"DynamicPageTitle\"\n      onClick={onHeaderClick}\n      {...propsWithoutOmitted}\n    >\n      {(breadcrumbs || (navigationActions && showNavigationInTopArea)) && (\n        <FlexBox justifyContent={FlexBoxJustifyContent.SpaceBetween} data-component-name=\"DynamicPageTitleBreadcrumbs\">\n          {breadcrumbs && (\n            <div className={classes.breadcrumbs} onClick={stopPropagation}>\n              {breadcrumbs}\n            </div>\n          )}\n          {showNavigationInTopArea && (\n            <Toolbar\n              design={ToolbarDesign.Auto}\n              toolbarStyle={ToolbarStyle.Clear}\n              active\n              className={classes.toolbar}\n              onClick={stopPropagation}\n              data-component-name=\"DynamicPageTitleNavActions\"\n              onOverflowChange={handleToolbarsOverflowChange}\n            >\n              <ActionsSpacer onClick={onHeaderClick} noHover={props?.['data-not-clickable']} />\n              {navigationActions}\n            </Toolbar>\n          )}\n        </FlexBox>\n      )}\n      <FlexBox alignItems={FlexBoxAlignItems.Center} style={{ flexGrow: 1, width: '100%' }}>\n        <FlexBox className={classes.titleMainSection}>\n          {header && (\n            <div className={classes.title} data-component-name=\"DynamicPageTitleHeader\">\n              {header}\n            </div>\n          )}\n          {subHeader && showSubHeaderRight && (\n            <div\n              className={classes.subTitleRight}\n              style={{ [paddingLeftRtl]: '0.5rem' }}\n              data-component-name=\"DynamicPageTitleSubHeader\"\n            >\n              {subHeader}\n            </div>\n          )}\n          {children && (\n            <div\n              className={classes.content}\n              style={{ [paddingLeftRtl]: '0.5rem' }}\n              data-component-name=\"DynamicPageTitleContent\"\n            >\n              {children}\n            </div>\n          )}\n        </FlexBox>\n        {(actions || (!showNavigationInTopArea && navigationActions)) && (\n          <Toolbar\n            design={ToolbarDesign.Auto}\n            toolbarStyle={ToolbarStyle.Clear}\n            active\n            className={classes.toolbar}\n            onClick={stopPropagation}\n            data-component-name=\"DynamicPageTitleActions\"\n            onOverflowChange={handleToolbarsOverflowChange}\n          >\n            <ActionsSpacer onClick={onHeaderClick} noHover={props?.['data-not-clickable']} />\n            {actions}\n            {!showNavigationInTopArea && Children.count(actions) > 0 && Children.count(navigationActions) > 0 && (\n              <ToolbarSeparator />\n            )}\n            {!showNavigationInTopArea && navigationActions}\n          </Toolbar>\n        )}\n      </FlexBox>\n      {subHeader && !showSubHeaderRight && (\n        <FlexBox>\n          <div className={classes.subTitleBottom} data-component-name=\"DynamicPageTitleSubHeader\">\n            {subHeader}\n          </div>\n        </FlexBox>\n      )}\n    </FlexBox>\n  );\n});\n\nDynamicPageTitle.displayName = 'DynamicPageTitle';\n\nexport { DynamicPageTitle };\n"],"names":["stopPropagation","e","stopImmediatePropagation","useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","ActionsSpacer","onClick","noHover","flexGrow","height","cursor","displayName","DynamicPageTitleStyles","container","flex","backgroundColor","ThemingParameters","sapObjectHeader_Background","minHeight","paddingTop","paddingBottom","display","flexDirection","justifyContent","position","top","zIndex","sapTile_Active_Background","iEClass","width","breadcrumbs","minWidth","padding","titleMainSection","alignItems","title","color","sapGroup_TitleTextColor","fontSize","sapFontHeader3Size","overflowWrap","hyphens","subTitleRight","sapContent_LabelColor","sapFontSize","subTitleBottom","marginTop","content","flexShrink","toolbar","useStyles","createUseStyles","name","DynamicPageTitle","forwardRef","props","ref","actions","children","header","subHeader","showSubHeaderRight","navigationActions","className","style","onToggleHeaderContentVisibility","onToolbarOverflowChange","rest","classes","containerClasses","clsx","isIE","useSyncRef","componentRef","dynamicPageTitleRef","useState","undefined","showNavigationInTopArea","setShowNavigationInTopArea","isRtl","useIsRTL","isMounted","useRef","current","propsWithoutOmitted","onHeaderClick","useCallback","observer","ResizeObserver","debounce","titleContainer","borderBoxSize","Array","isArray","titleContainerWidth","inlineSize","target","getBoundingClientRect","observe","disconnect","paddingLeftRtl","handleToolbarsOverflowChange","origin","dataset","componentName","FlexBoxJustifyContent","SpaceBetween","ToolbarDesign","Auto","ToolbarStyle","Clear","FlexBoxAlignItems","Center","Children","count"],"mappings":"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"}