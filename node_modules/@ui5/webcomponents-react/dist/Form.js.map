{"version":3,"file":"Form.js","sources":["../src/internal/useDeprecationNotiveForTooltip.ts","../src/components/Form/Form.jss.ts","../src/components/Form/index.tsx"],"sourcesContent":["import { deprecationNotice } from '@ui5/webcomponents-react-base/dist/Utils';\nimport { useEffect } from 'react';\n\nexport const useDeprecationNoticeForTooltip = (component, tooltip) => {\n  useEffect(() => {\n    if (tooltip) {\n      deprecationNotice(component, '`tooltip` has been deprecated, please use the native `title` attribute instead.');\n    }\n  }, [tooltip]);\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\n\nconst labelSpanClasses = () => {\n  let styleClasses = {};\n  for (let i = 1; i <= 11; i++) {\n    styleClasses[`labelSpan${i}`] = {\n      '--ui5wcr_form_content_span': 12 - i,\n      '--ui5wcr_form_label_span': i\n    };\n  }\n  return styleClasses;\n};\n\nconst styles = {\n  form: {\n    display: 'grid',\n    alignItems: 'baseline',\n    rowGap: '0.25rem',\n    columnGap: '0.5rem',\n    gridTemplateColumns: `repeat(12, 1fr)`,\n    '--ui5wcr_form_full_span': 'span 12',\n    '--ui5wcr_form_label_text_align': 'end',\n    '&[data-columns=\"1\"]': {},\n    '&[data-columns=\"2\"]': {\n      gridTemplateColumns: `repeat(24, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 24'\n    },\n    '&[data-columns=\"3\"]': {\n      gridTemplateColumns: `repeat(36, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 36'\n    },\n    '&[data-columns=\"4\"]': {\n      gridTemplateColumns: `repeat(48, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 48'\n    },\n    '&[data-columns=\"5\"]': {\n      gridTemplateColumns: `repeat(60, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 60'\n    },\n    '&[data-columns=\"6\"]': {\n      gridTemplateColumns: `repeat(72, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 72'\n    },\n    '&[data-columns=\"7\"]': {\n      gridTemplateColumns: `repeat(84, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 84'\n    },\n    '&[data-columns=\"8\"]': {\n      gridTemplateColumns: `repeat(96, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 96'\n    },\n    '&[data-columns=\"9\"]': {\n      gridTemplateColumns: `repeat(108, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 108'\n    },\n    '&[data-columns=\"10\"]': {\n      gridTemplateColumns: `repeat(120, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 120'\n    },\n    '&[data-columns=\"11\"]': {\n      gridTemplateColumns: `repeat(132, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 132'\n    },\n    '&[data-columns=\"12\"]': {\n      gridTemplateColumns: `repeat(144, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 144'\n    }\n  },\n  formTitle: {\n    borderBottom: `1px solid ${ThemingParameters.sapGroup_TitleBorderColor}`,\n    marginBottom: '1.75rem',\n    gridColumn: 'var(--ui5wcr_form_full_span)'\n  },\n  ...labelSpanClasses(),\n  labelSpan12: {\n    '--ui5wcr_form_content_span': 12,\n    '--ui5wcr_form_label_text_align': 'start',\n    '--ui5wcr_form_label_span': 12\n  }\n};\n\nexport { styles };\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/dist/CssSizeVariables';\nimport { getCurrentRange } from '@ui5/webcomponents-react-base/dist/Device';\nimport { useSyncRef } from '@ui5/webcomponents-react-base/dist/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/dist/ThemingParameters';\nimport { Title } from '@ui5/webcomponents-react/dist/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/dist/TitleLevel';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport clsx from 'clsx';\nimport React, {\n  Children,\n  cloneElement,\n  CSSProperties,\n  forwardRef,\n  ReactElement,\n  Ref,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useDeprecationNoticeForTooltip } from '../../internal/useDeprecationNotiveForTooltip';\nimport { styles } from './Form.jss';\n\nexport interface FormPropTypes extends CommonProps {\n  /**\n   * Components that are placed into Form. Please use only `FormGroup` and `FormItem` in order to preserve the\n   * intended design.\n   */\n  children: ReactElement | ReactElement[];\n  /**\n   * Form title\n   */\n  titleText?: string;\n  /**\n   * Form columns for small size (`< 600px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 1\n   */\n  columnsS?: number;\n  /**\n   * Form columns for medium size (`600px` - `1023px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 1\n   *\n   * __Note__: The number of columns for medium size must not be smaller than the number of columns for small size.\n   */\n  columnsM?: number;\n  /**\n   * Form columns for large size (`1024px` - `1439px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 1\n   *\n   * __Note:__ The number of columns for large size must not be smaller than the number of columns for medium size.\n   */\n  columnsL?: number;\n  /**\n   * Form columns for extra large size (`>= 1440px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 2\n   *\n   * __Note:__ The number of columns for extra large size must not be smaller than the number of columns for large size.\n   */\n  columnsXL?: number;\n\n  /**\n   * Default span for labels in small size (`< 600px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 12\n   */\n  labelSpanS?: number;\n  /**\n   * Default span for labels in medium size (`600px` - `1023px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 2\n   */\n  labelSpanM?: number;\n  /**\n   * Default span for labels in large size (`1024px` - `1439px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 4\n   */\n  labelSpanL?: number;\n  /**\n   * Default span for labels in extra large size (`>= 1440px`).\n   * Must be a number between 1 and 12.\n   *\n   * Default Value: 4\n   */\n  labelSpanXL?: number;\n  /**\n   * Sets the components outer HTML tag.\n   *\n   * __Note:__ For TypeScript the types of `ref` are bound to the default tag name, if you change it you are responsible to set the respective types yourself.\n   */\n  as?: keyof HTMLElementTagNameMap;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'Form' });\n/**\n * The `Form` component arranges labels and fields into groups and rows. There are different ways to visualize forms for different screen sizes.\n */\nconst Form = forwardRef((props: FormPropTypes, ref: Ref<HTMLFormElement>) => {\n  const {\n    titleText,\n    children,\n    className,\n    slot,\n    style,\n    tooltip,\n    columnsS,\n    columnsM,\n    columnsL,\n    columnsXL,\n    labelSpanS,\n    labelSpanM,\n    labelSpanL,\n    labelSpanXL,\n    as,\n    ...rest\n  } = props;\n\n  useDeprecationNoticeForTooltip('Form', props.tooltip);\n\n  const columnsMap = new Map();\n  columnsMap.set('Phone', columnsS);\n  columnsMap.set('Tablet', columnsM);\n  columnsMap.set('Desktop', columnsL);\n  columnsMap.set('LargeDesktop', columnsXL);\n\n  const labelSpanMap = new Map();\n  labelSpanMap.set('Phone', labelSpanS);\n  labelSpanMap.set('Tablet', labelSpanM);\n  labelSpanMap.set('Desktop', labelSpanL);\n  labelSpanMap.set('LargeDesktop', labelSpanXL);\n\n  const [componentRef, formRef] = useSyncRef<HTMLFormElement>(ref);\n  // use the window range set as first best guess\n  const [currentRange, setCurrentRange] = useState(getCurrentRange().name);\n  const lastRange = useRef(currentRange);\n\n  useEffect(() => {\n    const observer = new ResizeObserver(([form]) => {\n      const rangeInfo = getCurrentRange(form.contentRect.width);\n      if (rangeInfo && lastRange.current !== rangeInfo.name) {\n        lastRange.current = rangeInfo.name;\n        setCurrentRange(rangeInfo.name);\n      }\n    });\n\n    if (formRef.current) {\n      observer.observe(formRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [formRef, setCurrentRange, lastRange]);\n\n  const classes = useStyles();\n\n  const currentNumberOfColumns = columnsMap.get(currentRange);\n  const currentLabelSpan = labelSpanMap.get(currentRange);\n\n  const [formGroups, updatedTitle] = useMemo(() => {\n    const computedFormGroups: any[] = [];\n    if (Children.count(children) === 1 && !titleText) {\n      const singleChild = Array.isArray(children) ? children[0] : children;\n      if (singleChild?.props?.title?.length > 0) {\n        return [cloneElement(singleChild, { title: null }), singleChild.props.title];\n      }\n    }\n\n    const currentColumnCount = currentNumberOfColumns;\n    if (currentColumnCount === 1) {\n      return [children, titleText];\n    }\n\n    const rows = [];\n    const childrenArray = Children.toArray(children);\n    const estimatedNumberOfGroupRows = childrenArray.length / currentColumnCount;\n    for (let i = 0; i < estimatedNumberOfGroupRows; i++) {\n      rows[i] = childrenArray.slice(i * currentColumnCount, i * currentColumnCount + currentColumnCount);\n    }\n\n    const maxRowsPerRow: number[] = [];\n    rows.forEach((rowGroup: ReactElement[], rowIndex) => {\n      const numberOfRowsOfEachForm = rowGroup.map((row) => {\n        if ((row.type as any).displayName === 'FormItem') {\n          return 1;\n        }\n        return Children.count(row.props.children) + 1;\n      });\n\n      maxRowsPerRow[rowIndex] = Math.max(...numberOfRowsOfEachForm);\n    });\n\n    let totalRowCount = 2;\n\n    rows.forEach((column: ReactElement[], rowIndex) => {\n      const rowsForThisRow = maxRowsPerRow[rowIndex];\n      column.forEach((cell, columnIndex) => {\n        const titleStyles: CSSProperties = {\n          gridColumnEnd: 'span 12',\n          gridColumnStart: columnIndex * 12 + 1,\n          gridRowStart: totalRowCount,\n          display: 'flex',\n          alignItems: 'center',\n          fontFamily: ThemingParameters.sapFontFamily,\n          height: CssSizeVariables.sapWcrFormGroupTitleHeight,\n          lineHeight: CssSizeVariables.sapWcrFormGroupTitleHeight,\n          color: ThemingParameters.sapTextColor,\n          fontSize: ThemingParameters.sapFontSize,\n          fontWeight: 'bold',\n          backgroundColor: ThemingParameters.sapGroup_TitleBackground,\n          margin: 0,\n          paddingTop: '1rem'\n        };\n\n        if (cell?.props?.titleText) {\n          computedFormGroups.push(\n            <h6\n              style={titleStyles}\n              title={cell.props.titleText}\n              aria-label={cell.props.titleText}\n              key={`title-col-${columnIndex}-row-${totalRowCount}`}\n            >\n              {cell.props.titleText}\n            </h6>\n          );\n        }\n\n        for (let i = 0; i < rowsForThisRow; i++) {\n          const itemToRender =\n            (cell.type as any).displayName === 'FormGroup'\n              ? Children.toArray(cell.props.children)[i]\n              : (cell.type as any).displayName === 'FormItem' && i === 0\n              ? cell\n              : null;\n\n          if (itemToRender) {\n            computedFormGroups.push(\n              cloneElement(itemToRender as ReactElement, {\n                key: `col-${columnIndex}-row-${totalRowCount + i}`,\n                columnIndex,\n                lastGroupItem: (cell.type as any).displayName === 'FormGroup' && rowsForThisRow - 2 === i,\n                rowIndex: totalRowCount + i + 1,\n                labelSpan: currentLabelSpan\n              })\n            );\n          }\n        }\n      });\n      totalRowCount += rowsForThisRow;\n      if (rowsForThisRow === 1) {\n        totalRowCount += 1;\n      }\n    });\n\n    return [computedFormGroups, titleText];\n  }, [children, currentRange, titleText, currentNumberOfColumns, currentLabelSpan]);\n\n  const formClassNames = clsx(classes.form, classes[`labelSpan${((currentLabelSpan - 1) % 12) + 1}`], className);\n\n  const CustomTag = as as React.ElementType;\n  return (\n    <CustomTag\n      ref={componentRef}\n      slot={slot}\n      className={formClassNames}\n      title={tooltip}\n      style={style}\n      data-columns={currentNumberOfColumns}\n      {...rest}\n    >\n      {updatedTitle && (\n        <Title level={TitleLevel.H3} className={classes.formTitle}>\n          {updatedTitle}\n        </Title>\n      )}\n      {formGroups}\n    </CustomTag>\n  );\n});\n\nForm.displayName = 'Form';\n\nForm.defaultProps = {\n  as: 'form',\n  columnsS: 1,\n  columnsM: 1,\n  columnsL: 1,\n  columnsXL: 2,\n  labelSpanS: 12,\n  labelSpanM: 2,\n  labelSpanL: 4,\n  labelSpanXL: 4\n};\n\nexport { Form };\n"],"names":["useDeprecationNoticeForTooltip","component","tooltip","useEffect","deprecationNotice","labelSpanClasses","styleClasses","i","styles","form","display","alignItems","rowGap","columnGap","gridTemplateColumns","formTitle","borderBottom","ThemingParameters","sapGroup_TitleBorderColor","marginBottom","gridColumn","labelSpan12","useStyles","createUseStyles","name","Form","forwardRef","props","ref","titleText","children","className","slot","style","columnsS","columnsM","columnsL","columnsXL","labelSpanS","labelSpanM","labelSpanL","labelSpanXL","as","rest","columnsMap","Map","set","labelSpanMap","useSyncRef","componentRef","formRef","useState","getCurrentRange","currentRange","setCurrentRange","lastRange","useRef","observer","ResizeObserver","rangeInfo","contentRect","width","current","observe","disconnect","classes","currentNumberOfColumns","get","currentLabelSpan","useMemo","computedFormGroups","Children","count","singleChild","Array","isArray","title","length","cloneElement","currentColumnCount","rows","childrenArray","toArray","estimatedNumberOfGroupRows","slice","maxRowsPerRow","forEach","rowGroup","rowIndex","numberOfRowsOfEachForm","map","row","type","displayName","Math","max","totalRowCount","column","rowsForThisRow","cell","columnIndex","titleStyles","gridColumnEnd","gridColumnStart","gridRowStart","fontFamily","sapFontFamily","height","CssSizeVariables","sapWcrFormGroupTitleHeight","lineHeight","color","sapTextColor","fontSize","sapFontSize","fontWeight","backgroundColor","sapGroup_TitleBackground","margin","paddingTop","push","itemToRender","key","lastGroupItem","labelSpan","formGroups","updatedTitle","formClassNames","clsx","CustomTag","TitleLevel","H3","defaultProps"],"mappings":"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"}