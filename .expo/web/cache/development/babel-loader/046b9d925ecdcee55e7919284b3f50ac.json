{"ast":null,"code":"import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { changeLogActions } from \"../redux/change-log-reducers\";\nvar searchValue = \"\";\n\nfunction useSearch(list, setFilteredList) {\n  var dispatch = useDispatch();\n\n  function searchHandler(enteredValue) {\n    debugger;\n    searchValue = enteredValue.toUpperCase();\n    var newData = list.filter(function (item) {\n      return item[list[0].mainAttribute].includes(searchValue);\n    });\n\n    for (var index = 0; index < newData.length; index++) {\n      var item = newData[index];\n\n      if (!item.checked) {\n        dispatch(changeLogActions.setCheckedAll(false));\n        break;\n      } else {\n        dispatch(changeLogActions.setCheckedAll(true));\n      }\n    }\n\n    setFilteredList(newData);\n  }\n\n  useEffect(function () {\n    searchValue = '';\n    searchValue.trim();\n  }, []);\n  return {\n    searchValue: searchValue,\n    searchHandler: searchHandler\n  };\n}\n\nexport default useSearch;","map":{"version":3,"names":["useEffect","useDispatch","changeLogActions","searchValue","useSearch","list","setFilteredList","dispatch","searchHandler","enteredValue","toUpperCase","newData","filter","item","mainAttribute","includes","index","length","checked","setCheckedAll","trim"],"sources":["C:/Users/T470/Desktop/Programming/MedepiaChangeLogMobileApp/assets/hooks/use-search.js"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { changeLogActions } from \"../redux/change-log-reducers\"\r\n\r\nlet searchValue = \"\"\r\n\r\nfunction useSearch(list, setFilteredList){\r\n    const dispatch = useDispatch()\r\n\r\n    function searchHandler(enteredValue){\r\n        debugger\r\n        searchValue = enteredValue.toUpperCase()\r\n        const newData = list.filter((item) => {\r\n            return item[list[0].mainAttribute].includes(searchValue)\r\n        })\r\n    \r\n        for (let index = 0; index < newData.length; index++) {\r\n            const item = newData[index];\r\n            if(!item.checked){\r\n                dispatch(changeLogActions.setCheckedAll(false))\r\n                break\r\n            }\r\n            else{\r\n                dispatch(changeLogActions.setCheckedAll(true))\r\n            }\r\n        }\r\n    \r\n        setFilteredList(newData)  \r\n    }\r\n    \r\n    useEffect(() => {\r\n        searchValue = ''\r\n        searchValue.trim()\r\n    },[])\r\n\r\n    return {\r\n        searchValue,\r\n        searchHandler\r\n    }\r\n}\r\n\r\nexport default useSearch"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,gBAAT;AAEA,IAAIC,WAAW,GAAG,EAAlB;;AAEA,SAASC,SAAT,CAAmBC,IAAnB,EAAyBC,eAAzB,EAAyC;EACrC,IAAMC,QAAQ,GAAGN,WAAW,EAA5B;;EAEA,SAASO,aAAT,CAAuBC,YAAvB,EAAoC;IAChC;IACAN,WAAW,GAAGM,YAAY,CAACC,WAAb,EAAd;IACA,IAAMC,OAAO,GAAGN,IAAI,CAACO,MAAL,CAAY,UAACC,IAAD,EAAU;MAClC,OAAOA,IAAI,CAACR,IAAI,CAAC,CAAD,CAAJ,CAAQS,aAAT,CAAJ,CAA4BC,QAA5B,CAAqCZ,WAArC,CAAP;IACH,CAFe,CAAhB;;IAIA,KAAK,IAAIa,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGL,OAAO,CAACM,MAApC,EAA4CD,KAAK,EAAjD,EAAqD;MACjD,IAAMH,IAAI,GAAGF,OAAO,CAACK,KAAD,CAApB;;MACA,IAAG,CAACH,IAAI,CAACK,OAAT,EAAiB;QACbX,QAAQ,CAACL,gBAAgB,CAACiB,aAAjB,CAA+B,KAA/B,CAAD,CAAR;QACA;MACH,CAHD,MAII;QACAZ,QAAQ,CAACL,gBAAgB,CAACiB,aAAjB,CAA+B,IAA/B,CAAD,CAAR;MACH;IACJ;;IAEDb,eAAe,CAACK,OAAD,CAAf;EACH;;EAEDX,SAAS,CAAC,YAAM;IACZG,WAAW,GAAG,EAAd;IACAA,WAAW,CAACiB,IAAZ;EACH,CAHQ,EAGP,EAHO,CAAT;EAKA,OAAO;IACHjB,WAAW,EAAXA,WADG;IAEHK,aAAa,EAAbA;EAFG,CAAP;AAIH;;AAED,eAAeJ,SAAf"},"metadata":{},"sourceType":"module"}